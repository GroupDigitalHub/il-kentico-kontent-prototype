{"version":3,"sources":["webpack://kontentDelivery/webpack/universalModuleDefinition","webpack://kontentDelivery/webpack/bootstrap","webpack://kontentDelivery/./lib/models/index.ts","webpack://kontentDelivery/./node_modules/axios/lib/utils.js","webpack://kontentDelivery/./lib/query/common/base-query.class.ts","webpack://kontentDelivery/external {\"commonjs\":\"rxjs\",\"commonjs2\":\"rxjs\",\"amd\":\"rxjs\",\"root\":\"rxjs\"}","webpack://kontentDelivery/external {\"commonjs\":\"rxjs/operators\",\"commonjs2\":\"rxjs/operators\",\"amd\":\"rxjs/operators\",\"root\":[\"rxjs\",\"operators\"]}","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/index.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/http/retry-service.js","webpack://kontentDelivery/./lib/query/item/base-item-query.class.ts","webpack://kontentDelivery/./lib/query/taxonomy/base-taxonomy-query.class.ts","webpack://kontentDelivery/./lib/query/type/base-type-query.class.ts","webpack://kontentDelivery/./lib/elements/index.ts","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/http/retry-strategy.js","webpack://kontentDelivery/./node_modules/axios/lib/helpers/bind.js","webpack://kontentDelivery/./node_modules/axios/lib/helpers/buildURL.js","webpack://kontentDelivery/./node_modules/axios/lib/cancel/isCancel.js","webpack://kontentDelivery/./node_modules/axios/lib/defaults.js","webpack://kontentDelivery/./node_modules/process/browser.js","webpack://kontentDelivery/./node_modules/axios/lib/adapters/xhr.js","webpack://kontentDelivery/./node_modules/axios/lib/core/createError.js","webpack://kontentDelivery/./node_modules/axios/lib/core/mergeConfig.js","webpack://kontentDelivery/./node_modules/axios/lib/cancel/Cancel.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/http/http.functions.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/http/http.debugger.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/error-handling/base-kontent-error.js","webpack://kontentDelivery/./lib/parser/parser-browser-adapter.ts","webpack://kontentDelivery/./lib/models/common/sort-order.enum.ts","webpack://kontentDelivery/./lib/parser/parser-configuration.ts","webpack://kontentDelivery/./lib/query/index.ts","webpack://kontentDelivery/./lib/query/element/base-element-query.class.ts","webpack://kontentDelivery/./lib/sdk-info.generated.ts","webpack://kontentDelivery/./lib/services/index.ts","webpack://kontentDelivery/./lib/mappers/index.ts","webpack://kontentDelivery/./lib/mappers/element.mapper.ts","webpack://kontentDelivery/./lib/config/index.ts","webpack://kontentDelivery/./lib/elements/element-models.ts","webpack://kontentDelivery/./lib/elements/element-type.ts","webpack://kontentDelivery/./lib/resolvers/index.ts","webpack://kontentDelivery/./lib/images/image.models.ts","webpack://kontentDelivery/./lib/index.ts","webpack://kontentDelivery/./lib/client/index.ts","webpack://kontentDelivery/./lib/client/delivery-client.ts","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/helpers/index.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/helpers/url.helper.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/helpers/header.helper.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/helpers/enum.helper.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/models/index.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/models/parameters.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/http/index.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/http/http.service.js","webpack://kontentDelivery/./node_modules/axios/index.js","webpack://kontentDelivery/./node_modules/axios/lib/axios.js","webpack://kontentDelivery/./node_modules/axios/node_modules/is-buffer/index.js","webpack://kontentDelivery/./node_modules/axios/lib/core/Axios.js","webpack://kontentDelivery/./node_modules/axios/lib/core/InterceptorManager.js","webpack://kontentDelivery/./node_modules/axios/lib/core/dispatchRequest.js","webpack://kontentDelivery/./node_modules/axios/lib/core/transformData.js","webpack://kontentDelivery/./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://kontentDelivery/./node_modules/axios/lib/core/settle.js","webpack://kontentDelivery/./node_modules/axios/lib/core/enhanceError.js","webpack://kontentDelivery/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://kontentDelivery/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://kontentDelivery/./node_modules/axios/lib/helpers/cookies.js","webpack://kontentDelivery/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://kontentDelivery/./node_modules/axios/lib/helpers/combineURLs.js","webpack://kontentDelivery/./node_modules/axios/lib/cancel/CancelToken.js","webpack://kontentDelivery/./node_modules/axios/lib/helpers/spread.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/http/http.models.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/http/test-http.service.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/error-handling/index.js","webpack://kontentDelivery/./node_modules/@kentico/kontent-core/_commonjs/error-handling/map-base-kontent-error.js","webpack://kontentDelivery/./lib/parser/adapters/browser-rich-text.parser.ts","webpack://kontentDelivery/./lib/models/common/index.ts","webpack://kontentDelivery/./lib/models/common/filters.ts","webpack://kontentDelivery/./lib/models/common/pagination.class.ts","webpack://kontentDelivery/./lib/models/common/parameters.ts","webpack://kontentDelivery/./lib/models/element/index.ts","webpack://kontentDelivery/./lib/models/element/element-models.ts","webpack://kontentDelivery/./lib/models/element/responses.ts","webpack://kontentDelivery/./lib/models/item/index.ts","webpack://kontentDelivery/./lib/models/item/item-models.ts","webpack://kontentDelivery/./lib/models/item/responses.ts","webpack://kontentDelivery/./lib/models/item/type-resolver.class.ts","webpack://kontentDelivery/./lib/models/taxonomy/index.ts","webpack://kontentDelivery/./lib/models/taxonomy/responses.ts","webpack://kontentDelivery/./lib/models/taxonomy/taxonomy-models.ts","webpack://kontentDelivery/./lib/models/content-type/index.ts","webpack://kontentDelivery/./lib/models/content-type/content-type-models.ts","webpack://kontentDelivery/./lib/models/content-type/responses.ts","webpack://kontentDelivery/./lib/query/element/element-query.class.ts","webpack://kontentDelivery/./lib/query/item/multiple-item-query.class.ts","webpack://kontentDelivery/./lib/query/item/single-item-query.class.ts","webpack://kontentDelivery/./lib/query/taxonomy/taxonomies-query.class.ts","webpack://kontentDelivery/./lib/query/taxonomy/taxonomy-query.class.ts","webpack://kontentDelivery/./lib/query/type/multiple-type-query.class.ts","webpack://kontentDelivery/./lib/query/type/single-type-query.class.ts","webpack://kontentDelivery/./lib/services/delivery-query.service.ts","webpack://kontentDelivery/./lib/services/base-delivery-query.service.ts","webpack://kontentDelivery/./lib/services/mapping.service.ts","webpack://kontentDelivery/./lib/config/default-collision-resolver.ts","webpack://kontentDelivery/./lib/elements/element-decorators.ts","webpack://kontentDelivery/./node_modules/reflect-metadata/Reflect.js","webpack://kontentDelivery/(webpack)/buildin/global.js","webpack://kontentDelivery/./lib/elements/elements.ts","webpack://kontentDelivery/./lib/resolvers/delivery-item-strongly-type.resolver.ts","webpack://kontentDelivery/./lib/resolvers/rich-text.resolver.ts","webpack://kontentDelivery/./lib/resolvers/url-slug.resolver.ts","webpack://kontentDelivery/./lib/mappers/item.mapper.ts","webpack://kontentDelivery/./lib/mappers/taxonomy.mapper.ts","webpack://kontentDelivery/./lib/mappers/type.mapper.ts","webpack://kontentDelivery/./lib/mappers/generic-element.mapper.ts","webpack://kontentDelivery/./lib/parser/index.ts","webpack://kontentDelivery/./lib/images/index.ts","webpack://kontentDelivery/./lib/images/image-url-builder.ts"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","isBuffer","toString","isArray","val","isObject","isFunction","forEach","obj","fn","length","isArrayBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","document","merge","result","assignValue","arguments","deepMerge","extend","a","b","thisArg","trim","str","replace","config","queryService","parameters","withParameter","this","push","Parameters","QueryParameter","withParameters","getHeaders","_queryConfig","withUrl","url","customUrl","getParameters","toPromise","retryPromise","toObservable","resolveUrlInternal","action","getUrl","BaseQuery","__export","RetryService","getRetryTimeout","attempt","Math","pow","debugLogAttempt","retryTimeout","console","warn","retryService","queryConfig","languageParameter","languageCodename","LanguageParameter","elementsParameter","elementCodenames","ElementsParameter","depthParameter","depth","DepthParameter","getMultipleItemsQueryUrl","processDefaultLanguageParameter","getSingleItemQueryUrl","codename","runMultipleItemsQuery","getMultipleItems","runSingleItemQuery","getSingleItem","defaultLanguage","find","getParam","BaseItemQuery","taxonomiesEndpoint","getTaxonomyQueryUrl","taxonomyCodename","getTaxonomiesQueryUrl","runTaxonomyQuery","getTaxonomy","runTaxonomiesQuery","getTaxonomies","BaseTaxonomyQuery","getSingleTypeQueryUrl","getMultipleTypesQueryUrl","runMultipleTypesQuery","getMultipleTypes","runSingleTypeQuery","getSingleType","BaseTypeQuery","rxjs_1","operators_1","retry_service_1","RetryStrategy","strategy","options","attempts","mergeMap","error","retryAttempt","maxRetryAttempts","throwError","statusCode","originalError","response","status","useRetryForResponseCodes","timer","retryStrategy","args","Array","apply","utils","encode","encodeURIComponent","params","paramsSerializer","serializedParams","parts","v","toISOString","JSON","stringify","join","hashmarkIndex","indexOf","slice","__CANCEL__","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","headers","adapter","defaults","process","XMLHttpRequest","transformRequest","data","transformResponse","parse","e","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","common","method","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","len","run","marker","runClearTimeout","Item","array","noop","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","settle","buildURL","parseHeaders","isURLSameOrigin","createError","Promise","resolve","reject","requestData","requestHeaders","request","auth","username","password","Authorization","btoa","open","toUpperCase","onreadystatechange","readyState","responseURL","responseHeaders","getAllResponseHeaders","responseType","responseText","statusText","onabort","onerror","ontimeout","cookies","xsrfValue","withCredentials","read","undefined","toLowerCase","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","enhanceError","message","code","config1","config2","prop","Cancel","http_debugger_1","getHeadersJson","addContentTypeHeader","headerJson","header","registerResponseInterceptor","instance","interceptor","interceptors","use","registerRequestInterceptor","getCallback","callback","httpDebugger","debugStartHttpRequest","debugResolveHttpRequest","debugFailedHttpRequest","putCallback","put","body","deleteCallback","delete","postCallback","post","HttpDebugger","BaseKontentError","assign","parser","BrowserRichTextParser","SortOrder","parserConfiguration","linkedItemWrapperElem","modularContentElementData","type","dataType","dataCodename","relAttribute","componentRel","linkElementData","nodeName","dataItemId","imageElementData","dataImageId","srcAttribute","getElementQueryUrl","typeCodename","elementCodename","runElementQuery","getElement","BaseElementQuery","sdkInfo","host","richTextHtmlParser","defaultLinkedItemWrapperTag","defaultLinkedItemWrapperClasses","mapElements","processedItem","getProcessedItem","item","system","processedItems","preparedItems","processingStartedForCodenames","getOwnPropertyNames","elements","itemInstance","stronglyTypedResolver","createItemInstance","modularContent","typeResolvers","elementMap","resolveElementMap","elementWrapper","contentItemSystem","rawElement","propertyName","resolvedName","shouldMapElement","mappedElement","mapElement","elementType","enumHelper","getEnumFromValue","ElementType","ModularContent","mapLinkedItemsElement","Text","mapTextElement","Asset","mapAssetsElement","Number","mapNumberElement","MultipleChoice","mapMultipleChoiceElement","DateTime","mapDateTimeElement","RichText","mapRichTextElement","UrlSlug","mapUrlSlugElement","Taxonomy","mapTaxonomyElement","Custom","mapCustomElement","mapUnknowElement","richTextLinkedItems","modular_content","rawItem","existingLinkedItem","getOrSaveLinkedItemForElement","throwErrorForMissingLinkedItems","msg","mappedLinkedItemResult","links","mapRichTextLinks","images","mapRichTextImages","Elements","RichTextElement","resolveRichTextFunc","richTextResolver","resolveData","enableAdvancedLogging","isDeveloperMode","getLinkedItem","linkedItemWrapperTag","linkedItemResolver","linkedItemWrapperClasses","DateTimeElement","MultipleChoiceElement","NumberElement","TextElement","AssetsElement","TaxonomyElement","UnknownElement","elementResolver","customElementClass","DefaultCustomElement","resolver","getUrlSlugResolverForElement","UrlSlugElement","resolveLinkFunc","urlSlugResolver","resolveUrl","elementName","elementValue","linkedItems","linkedItem","LinkedItemsElement","_config","getPreparedItem","element","mappingStartedForCodenames","preparedItem","mappedLinkedItem","itemResolver","customMappedItem","mapSystemAttributes","linksJson","keys","linkId","linkRaw","Link","urlSlug","url_slug","imagesJson","imageRaw","RichTextImage","description","imageId","image_id","height","width","originalElementCodename","resolvedElementPropertyName","propertyResolver","ElementDecorators","getPropertyName","collidesWithAnotherProperty","getCollisionResolver","collisionResolver","defaultCollissionResolver","ElementMapper","ElementModels","contract","size","AssetModel","MultipleChoiceOption","TaxonomyTerm","ImageFitModeEnum","ImageFormatEnum","ImageCompressionEnum","mappingService","MappingService","getParserAdapter","QueryService","httpService","HttpService","requestInterceptor","httpInterceptors","responseInterceptor","types","MultipleTypeQuery","SingleTypeQuery","items","MultipleItemQuery","SingleItemQuery","taxonomy","TaxonomyQuery","taxonomies","TaxonomiesQuery","ElementQuery","DeliveryClient","UrlHelper","addOptionsToUrl","filter","getParamValue","urlHelper","HeaderHelper","sdkVersionHeader","getSdkIdHeader","info","headerHelper","EnumHelper","getAllNames","T","enumNames","getAllValues","map","isNumeric","err","getEnumFromName","_i","allNames_1","enumName","isNaN","parseFloat","isFinite","CustomParameter","axios_1","HttpFunctions","retry_strategy_1","opts","axiosInstance","default","currentAttempt","_this","catch","reason","retryCode","promiseRetryWait","axiosObservable","bindCallback","mapAxiosObservable","retryWhen","mapResult","catchError","logErrorToConsole","mappedError","mapError","ms","Axios","mergeConfig","createInstance","defaultConfig","context","axios","instanceConfig","CancelToken","isCancel","all","promises","spread","constructor","InterceptorManager","dispatchRequest","chain","unshift","fulfilled","rejected","shift","getUri","handlers","eject","id","h","transformData","isAbsoluteURL","combineURLs","throwIfCancellationRequested","throwIfRequested","baseURL","fns","normalizedName","isAxiosError","toJSON","number","fileName","lineNumber","columnNumber","stack","ignoreDuplicateOf","parsed","split","line","substr","originURL","msie","test","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","search","hash","hostname","port","pathname","charAt","location","requestURL","write","expires","path","domain","secure","cookie","Date","toGMTString","match","RegExp","decodeURIComponent","remove","now","relativeURL","executor","TypeError","resolvePromise","token","source","arr","IHttpRequestResult","TestHttpService","fakeResponseJson","errorJson","log","fakeError","of","base_kontent_error_1","KCErrorNames","errorCode","requestId","specificCode","mapBaseKontentError","resolveRichTextElement","resolverContext","contentItemCodename","html","replacement","doc","createWrapperElement","processRichTextElement","children","resolvedHtml","innerHTML","htmlCollection","typeAttribute","attributes","getNamedItem","dataCodenameAttribute","dataTypeAttribute","itemType","linkItemContentObject","parentElement","newElem","RichTextItemDataType","linkedItemHtml","getLinkedItemHtml","className","replaceChild","dataItemIdAttribute","link","linkText","urlSlugResult","getUrlSlugResult","linkHtml","outerHTML","parentNode","hrefAttribute","linkUrlResult","dataImageIdAttribute","imageObj","imageResult","getImageResult","Filters","TypeFilter","EqualsFilter","values","AllFilter","AnyFilter","ContainsFilter","GreaterThanFilter","GreaterThanOrEqualFilter","InFilter","LessThanFilter","LessThanOrEqualFilter","lowerValue","higherValue","lowerVal","higherVal","RangeFilter","Pagination","limit","LimitParameter","skip","SkipParameter","sortOrder","order","desc","OrderParameter","paramName","GenericElementOption","GenericElement","ElementResponses","debug","ViewContentTypeElementResponse","ContentItem","ContentItemSystemAttributes","ItemResponses","pagination","isEmpty","getIsEmpty","lastItem","getLastItem","firstItem","getFirstItem","ListContentItemsResponse","ViewContentItemResponse","TypeResolver","TaxonomyResponses","ViewTaxonomyGroupResponse","ListTaxonomyGroupsResponse","terms","TaxonomyGroup","TaxonomySystemAttributes","TaxonomyTerms","ContentTypeSystemAttributes","ContentType","TypeResponses","ListContentTypesResponse","ViewContentTypeResponse","equalsFilter","allFilter","anyFilter","containsFilter","greaterThanFilter","greaterThanOrEqualFilter","inFilter","lessThanFilter","lessThanOrEqualFilter","rangeFilter","limitParameter","orderParameter","orderByDescending","orderByAscending","asc","skipParameter","getResponse","viewContentItemResponse","listContentItemsResponse","viewContentTypeResponse","listContentTypesResponse","viewTaxonomyGroupResponse","listTaxonomyGroupsResponse","viewContentTypeElementResponse","BaseDeliveryQueryService","defaultRetryAttempts","defaultRetryStatusCodes","defaultBaseDeliveryApiUrl","defaultPreviewDeliveryApiUrl","waitForLoadingNewContentHeader","getRetryAttempts","getRetryStatusCodes","proxy","advancedProxyUrlResolver","queryParameters","queryString","getDomain","projectId","getBaseUrl","globalHeaders","getQueryHeaders","isPreviewModeEnabled","isSecuredModeEnabled","previewApiKey","getAuthorizationHeader","secureApiKey","shouldAddWaitForLoadingNewContentHeader","retryStatusCodes","retryAttempts","usePreviewMode","globalQueryConfig","customHeaders","waitForLoadingNewContent","useSecuredMode","basePreviewUrl","baseUrl","typeMapper","TypeMapper","itemMapper","ItemMapper","taxonomyMapper","TaxonomyMapper","genericElementMapper","GenericElementMapper","mapMultipleTypes","count","nextPage","next_page","mapResponseDebug","mapSingleType","itemResult","mapSingleItem","itemsResult","mapMultipleItems","mapTaxonomy","mapTaxonomies","codenameMetadataKey","generateKey","target","Reflect","getMetadata","propertyKey","defineMetadata","global","self","Function","exporter","makeExporter","previous","configurable","writable","hasOwn","supportsSymbol","toPrimitiveSymbol","toPrimitive","iteratorSymbol","iterator","supportsCreate","supportsProto","__proto__","downLevel","HashMap","MakeDictionary","has","functionPrototype","getPrototypeOf","usePolyfill","_Map","Map","entries","cacheSentinel","arraySentinel","MapIterator","selector","_index","_keys","_values","_selector","next","index","done","throw","return","_cacheKey","_cacheIndex","_find","set","clear","getKey","getValue","getEntry","insert","_","CreateMapPolyfill","_Set","Set","_map","add","Metadata","WeakMap","UUID_SIZE","rootKey","CreateUniqueKey","_key","table","GetOrCreateWeakMapTable","CreateUUID","FillRandomBytes","random","Uint8Array","crypto","getRandomValues","msCrypto","offset","byte","CreateWeakMapPolyfill","GetOrCreateMetadataMap","O","P","Create","targetMetadata","IsUndefined","metadataMap","OrdinaryHasOwnMetadata","MetadataKey","OrdinaryGetOwnMetadata","OrdinaryDefineOwnMetadata","MetadataValue","OrdinaryOwnMetadataKeys","GetMethod","IsCallable","IsObject","GetIterator","k","IteratorStep","nextValue","IteratorClose","Type","x","IsNull","ToPrimitive","input","PreferredType","hint","exoticToPrim","toString_1","valueOf","toString_2","OrdinaryToPrimitive","ToPropertyKey","argument","ToString","IsArray","IsConstructor","V","func","f","OrdinaryGetPrototypeOf","proto","prototypeProto","__","decorators","decorated","decorator","DecorateConstructor","descriptor","DecorateProperty","metadataKey","metadataValue","IsPropertyKey","OrdinaryHasMetadata","parent","OrdinaryGetMetadata","OrdinaryMetadataKeys","ownKeys","parentKeys","ownKeys_1","hasKey","_a","parentKeys_1","g","rawData","BaseElement","mappedLinkedItems","itemCodenames","rawOption","linkedItemCodenames","resolvedData","resolveHtml","rawAsset","resolvedUrl","taxonomy_group","taxonomyGroup","rawTerm","Unknown","CustomElement","systemElementName","elementsElementName","typeResolver","getTypeResolver","createInstanceWithResolver","createContentItem","assignRequiredContentItemData","rawSystem","lastModified","last_modified","language","sitemapLocations","sitemap_locations","resolvers","contentItem","_raw","DeliveryItemStronglyTypeResolver","itemId","itemCodename","xElementName","componentCodenames","image","tryGetImageFromLinkedItem","richTextElement","richTextImageResolver","contentType","existingLink","linkContext","queryUrlSlugResolver","queryUrlSlugResult","globalUrlSlugResult","RichTextResolver","UrlSlugResolver","elementMapper","mapItem","rocessingStartedForCodenames","that","mappedItems","mappedItem","taxonomySystem","taxonomyTerms","mappedSystemAttributes","mappedTerms","mapTaxonomyTerms","mappedTaxonomies","termsArray","mappedTermsArray","mapType","typeSystem","typeElement","rawOptions","imageUrl","queryParams","withCustomParam","param","withDpr","dpr","withRectangleCrop","y","withFocalPointCrop","z","withFitMode","Crop","withAutomaticFormat","backupFormat","Webp","withFormat","fitMode","withCompression","compression","Lossless","withQuality","quality","format","withHeight","withWidth","getParams","getQueryString","query","ImageUrlBuilder"],"mappings":"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","file":"kontent-delivery.browser.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"rxjs\"), require(\"rxjs/operators\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"kontentDelivery\", [\"rxjs\", \"rxjs/operators\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kontentDelivery\"] = factory(require(\"rxjs\"), require(\"rxjs/operators\"));\n\telse\n\t\troot[\"kontentDelivery\"] = factory(root[\"rxjs\"], root[\"rxjs\"][\"operators\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 38);\n","export * from './common';\r\nexport * from './element';\r\nexport * from './item';\r\nexport * from './taxonomy';\r\nexport * from './content-type';\r\n\r\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Function equal to merge with the difference being that no reference\n * to original objects is kept.\n *\n * @see merge\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction deepMerge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = deepMerge(result[key], val);\n    } else if (typeof val === 'object') {\n      result[key] = deepMerge({}, val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  deepMerge: deepMerge,\n  extend: extend,\n  trim: trim\n};\n","import { IHeader, IQueryParameter } from '@kentico/kontent-core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { IDeliveryClientConfig } from '../../config';\r\nimport { IKontentResponse, IQueryConfig, Parameters } from '../../models';\r\nimport { QueryService } from '../../services';\r\n\r\nexport abstract class BaseQuery<TResponse extends IKontentResponse> {\r\n  protected parameters: IQueryParameter[] = [];\r\n  protected customUrl?: string;\r\n\r\n  protected abstract _queryConfig: IQueryConfig;\r\n\r\n  constructor(\r\n    protected config: IDeliveryClientConfig,\r\n    protected queryService: QueryService\r\n  ) { }\r\n\r\n  abstract getUrl(): string;\r\n  abstract toObservable(): Observable<TResponse>;\r\n\r\n  /**\r\n   * Adds parameter to query\r\n   * @param name Name of parameter\r\n   * @param value Value of parameter\r\n   */\r\n  withParameter(name: string, value: string): this {\r\n    this.parameters.push(new Parameters.QueryParameter(name, value));\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Adds parameters to query\r\n   * @param parameters Array of parameters\r\n   */\r\n  withParameters(parameters: IQueryParameter[]): this {\r\n    this.parameters.push(...parameters);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Gets headers used by this query\r\n   */\r\n  getHeaders(): IHeader[] {\r\n    return this.queryService.getHeaders(this._queryConfig);\r\n  }\r\n\r\n  withUrl(url: string): this {\r\n    this.customUrl = url;\r\n    return this;\r\n  }\r\n\r\n  getParameters(): IQueryParameter[] {\r\n    return this.parameters;\r\n  }\r\n\r\n  toPromise(): Promise<TResponse> {\r\n    return this.queryService.retryPromise(this.toObservable().toPromise());\r\n  }\r\n\r\n  protected resolveUrlInternal(action: string): string {\r\n    // use custom URL if user specified it\r\n    if (this.customUrl) {\r\n      return this.customUrl;\r\n    }\r\n\r\n    // use original url\r\n    return this.queryService.getUrl(\r\n      action,\r\n      this._queryConfig,\r\n      this.getParameters()\r\n    );\r\n  }\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/* Public API */\r\n__export(require(\"./helpers\"));\r\n__export(require(\"./models\"));\r\n__export(require(\"./http\"));\r\n__export(require(\"./error-handling\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RetryService = /** @class */ (function () {\r\n    function RetryService() {\r\n    }\r\n    /**\r\n    * Calculates retry attempt timeout in ms\r\n    * @param attempt Index of the attempt to calculate increasing delay when retrying\r\n    */\r\n    RetryService.prototype.getRetryTimeout = function (attempt) {\r\n        return Math.pow(2, attempt) * 100;\r\n    };\r\n    /**\r\n     * Logs attempt in console.\r\n     * This function is also used for testing in jasmine spy\r\n     * @param attempt Index of attempt\r\n     */\r\n    RetryService.prototype.debugLogAttempt = function (attempt, retryTimeout) {\r\n        console.warn(\"Attempt \" + attempt + \": retrying in \" + retryTimeout + \"ms\");\r\n    };\r\n    return RetryService;\r\n}());\r\nexports.RetryService = RetryService;\r\nexports.retryService = new RetryService();\r\n//# sourceMappingURL=retry-service.js.map","import { Observable } from 'rxjs';\r\n\r\nimport { IDeliveryClientConfig } from '../../config';\r\nimport { ContentItem, ItemResponses, Parameters, IKontentResponse, IItemQueryConfig } from '../../models';\r\nimport { QueryService } from '../../services';\r\nimport { BaseQuery } from '../common/base-query.class';\r\n\r\nexport abstract class BaseItemQuery<TItem extends ContentItem, TResponse extends IKontentResponse> extends BaseQuery<TResponse> {\r\n\r\n    protected _queryConfig: IItemQueryConfig = {};\r\n\r\n    constructor(\r\n        protected config: IDeliveryClientConfig,\r\n        protected queryService: QueryService\r\n    ) {\r\n        super(config, queryService);\r\n    }\r\n\r\n    /**\r\n     * Used to configure query\r\n     * @param queryConfig Query configuration\r\n     */\r\n    queryConfig(queryConfig: IItemQueryConfig): this {\r\n        this._queryConfig = queryConfig;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Language codename\r\n     * @param languageCodename Codename of the language\r\n     */\r\n    languageParameter(languageCodename: string): this {\r\n        this.parameters.push(new Parameters.LanguageParameter(languageCodename));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Used to limit the number of elements returned by query.\r\n     * @param elementCodenames Array of element codenames to fetch\r\n     */\r\n    elementsParameter(elementCodenames: string[]): this {\r\n        this.parameters.push(new Parameters.ElementsParameter(elementCodenames));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Indicates depth of query that affects loading of nested linked items.\r\n     * @param depth Depth of the query (> 0)\r\n     */\r\n    depthParameter(depth: number): this {\r\n        this.parameters.push(new Parameters.DepthParameter(depth));\r\n        return this;\r\n    }\r\n\r\n    protected getMultipleItemsQueryUrl(): string {\r\n        const action = '/items';\r\n\r\n        // add default language is necessry\r\n        this.processDefaultLanguageParameter();\r\n\r\n        return super.resolveUrlInternal(action);\r\n    }\r\n\r\n    protected getSingleItemQueryUrl(codename: string): string {\r\n        const action = '/items/' + codename;\r\n\r\n        // add default language is necessry\r\n        this.processDefaultLanguageParameter();\r\n\r\n        return super.resolveUrlInternal(action);\r\n    }\r\n\r\n    protected runMultipleItemsQuery(): Observable<ItemResponses.ListContentItemsResponse<TItem>> {\r\n        const url = this.getMultipleItemsQueryUrl();\r\n\r\n        return this.queryService.getMultipleItems(url, this._queryConfig);\r\n    }\r\n\r\n    protected runSingleItemQuery(codename: string): Observable<ItemResponses.ViewContentItemResponse<TItem>> {\r\n        const url = this.getSingleItemQueryUrl(codename);\r\n\r\n        return this.queryService.getSingleItem(url, this._queryConfig);\r\n    }\r\n\r\n    private processDefaultLanguageParameter(): void {\r\n        // add default language if none is specified && default language is specified globally\r\n        if (this.config.defaultLanguage) {\r\n            const languageParameter = this.getParameters().find(m => m.getParam() === 'language');\r\n            if (!languageParameter) {\r\n                // language parameter was not specified in query, use globally defined language\r\n                this.parameters.push(new Parameters.LanguageParameter(this.config.defaultLanguage));\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { IHeader } from '@kentico/kontent-core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { IDeliveryClientConfig } from '../../config';\r\nimport { IKontentResponse, ITaxonomyQueryConfig, TaxonomyResponses } from '../../models/';\r\nimport { QueryService } from '../../services';\r\nimport { BaseQuery } from '../common/base-query.class';\r\n\r\nexport abstract class BaseTaxonomyQuery<TResponse extends IKontentResponse> extends BaseQuery<TResponse> {\r\n\r\n    /**\r\n     * Taxonomies endpoint URL action\r\n     */\r\n    protected readonly taxonomiesEndpoint: string = 'taxonomies';\r\n\r\n    /**\r\n     * Query configuration\r\n     */\r\n    protected _queryConfig: ITaxonomyQueryConfig = {};\r\n\r\n    constructor(\r\n        protected config: IDeliveryClientConfig,\r\n        protected queryService: QueryService\r\n    ) {\r\n        super(config, queryService);\r\n    }\r\n\r\n    /**\r\n     * Used to configure query\r\n     * @param queryConfig Query configuration\r\n     */\r\n    queryConfig(queryConfig: ITaxonomyQueryConfig): this {\r\n        this._queryConfig = queryConfig;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Gets headers used by this query\r\n     */\r\n    getHeaders(): IHeader[] {\r\n        return this.queryService.getHeaders(this._queryConfig);\r\n    }\r\n\r\n    protected getTaxonomyQueryUrl(taxonomyCodename: string): string {\r\n        const action = '/' + this.taxonomiesEndpoint + '/' + taxonomyCodename;\r\n\r\n        return super.resolveUrlInternal(action);\r\n    }\r\n\r\n    protected getTaxonomiesQueryUrl(): string {\r\n        const action = '/' + this.taxonomiesEndpoint;\r\n\r\n        return super.resolveUrlInternal(action);\r\n    }\r\n\r\n    protected runTaxonomyQuery(codename: string): Observable<TaxonomyResponses.ViewTaxonomyGroupResponse> {\r\n        return this.queryService.getTaxonomy(this.getTaxonomyQueryUrl(codename), this._queryConfig);\r\n    }\r\n\r\n    protected runTaxonomiesQuery(): Observable<TaxonomyResponses.ListTaxonomyGroupsResponse> {\r\n        return this.queryService.getTaxonomies(this.getTaxonomiesQueryUrl(), this._queryConfig);\r\n    }\r\n}\r\n","import { IHeader, IQueryParameter } from '@kentico/kontent-core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { IDeliveryClientConfig } from '../../config';\r\nimport { IKontentResponse, IContentTypeQueryConfig, TypeResponses } from '../../models';\r\nimport { QueryService } from '../../services';\r\nimport { BaseQuery } from '../common/base-query.class';\r\n\r\nexport abstract class BaseTypeQuery<\r\n  TResponse extends IKontentResponse\r\n  > extends BaseQuery<TResponse> {\r\n  protected parameters: IQueryParameter[] = [];\r\n  protected _queryConfig: IContentTypeQueryConfig = {};\r\n\r\n  constructor(\r\n    protected config: IDeliveryClientConfig,\r\n    protected queryService: QueryService\r\n  ) {\r\n    super(config, queryService);\r\n  }\r\n\r\n  /**\r\n   * Used to configure query\r\n   * @param queryConfig Query configuration\r\n   */\r\n  queryConfig(queryConfig: IContentTypeQueryConfig): this {\r\n    this._queryConfig = queryConfig;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Gets headers used by this query\r\n   */\r\n  getHeaders(): IHeader[] {\r\n    return this.queryService.getHeaders(this._queryConfig);\r\n  }\r\n\r\n  protected getSingleTypeQueryUrl(codename: string): string {\r\n    const action = '/types/' + codename;\r\n\r\n    return super.resolveUrlInternal(action);\r\n  }\r\n\r\n  protected getMultipleTypesQueryUrl(): string {\r\n    const action = '/types';\r\n\r\n    return super.resolveUrlInternal(action);\r\n  }\r\n\r\n  protected runMultipleTypesQuery(): Observable<\r\n    TypeResponses.ListContentTypesResponse\r\n  > {\r\n    return this.queryService.getMultipleTypes(\r\n      this.getMultipleTypesQueryUrl(),\r\n      this._queryConfig\r\n    );\r\n  }\r\n\r\n  protected runSingleTypeQuery(\r\n    codename: string\r\n  ): Observable<TypeResponses.ViewContentTypeResponse> {\r\n    return this.queryService.getSingleType(\r\n      this.getSingleTypeQueryUrl(codename),\r\n      this._queryConfig\r\n    );\r\n  }\r\n}\r\n","export * from './element-decorators';\r\nexport * from './element-models';\r\nexport * from './element-type';\r\nexport * from './elements';\r\nexport * from './element-resolver';\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar rxjs_1 = require(\"rxjs\");\r\nvar operators_1 = require(\"rxjs/operators\");\r\nvar retry_service_1 = require(\"./retry-service\");\r\nvar RetryStrategy = /** @class */ (function () {\r\n    function RetryStrategy() {\r\n        this.strategy = function (options) { return function (attempts) {\r\n            return attempts.pipe(operators_1.mergeMap(function (error, i) {\r\n                var retryAttempt = i + 1;\r\n                // if maximum number of retries have been met\r\n                // or response is a status code we don't wish to retry, throw error\r\n                if (retryAttempt > options.maxRetryAttempts) {\r\n                    // request cannot be retried anymore\r\n                    return rxjs_1.throwError(error);\r\n                }\r\n                var statusCode = 0;\r\n                if (error && error.originalError && error.originalError.response && error.originalError.response.status) {\r\n                    statusCode = error.originalError.response.status;\r\n                }\r\n                // check if request can be retried by looking into allowed retry status codes\r\n                if (!options.useRetryForResponseCodes.find(function (m) { return m === statusCode; })) {\r\n                    // request cannot be retried\r\n                    return rxjs_1.throwError(error);\r\n                }\r\n                // calculate retry time\r\n                var retryTimeout = retry_service_1.retryService.getRetryTimeout(retryAttempt);\r\n                // debug log attempt\r\n                retry_service_1.retryService.debugLogAttempt(retryAttempt, retryTimeout);\r\n                return rxjs_1.timer(retryTimeout);\r\n            }));\r\n        }; };\r\n    }\r\n    return RetryStrategy;\r\n}());\r\nexports.RetryStrategy = RetryStrategy;\r\nexports.retryStrategy = new RetryStrategy();\r\n//# sourceMappingURL=retry-strategy.js.map","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  // Only Node.JS has a process variable that is of [[Class]] process\n  if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  } else if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  utils.forEach(['url', 'method', 'params', 'data'], function valueFromConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    }\n  });\n\n  utils.forEach(['headers', 'auth', 'proxy'], function mergeDeepProperties(prop) {\n    if (utils.isObject(config2[prop])) {\n      config[prop] = utils.deepMerge(config1[prop], config2[prop]);\n    } else if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (utils.isObject(config1[prop])) {\n      config[prop] = utils.deepMerge(config1[prop]);\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  utils.forEach([\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'maxContentLength',\n    'validateStatus', 'maxRedirects', 'httpAgent', 'httpsAgent', 'cancelToken',\n    'socketPath'\n  ], function defaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  return config;\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar http_debugger_1 = require(\"./http.debugger\");\r\nfunction registerResponseInterceptor(instance, interceptor) {\r\n    instance.interceptors.response.use(function (response) {\r\n        return interceptor(response);\r\n    }, function (error) {\r\n        return Promise.reject(error);\r\n    });\r\n}\r\nexports.registerResponseInterceptor = registerResponseInterceptor;\r\nfunction registerRequestInterceptor(instance, interceptor) {\r\n    // Add a request interceptor\r\n    instance.interceptors.request.use(function (config) {\r\n        return interceptor(config);\r\n    }, function (error) {\r\n        return Promise.reject(error);\r\n    });\r\n}\r\nexports.registerRequestInterceptor = registerRequestInterceptor;\r\nfunction getCallback(instance, call, options, callback) {\r\n    http_debugger_1.httpDebugger.debugStartHttpRequest();\r\n    var axiosPromise = instance.get(call.url, {\r\n        headers: getHeadersJson(options && options.headers ? options.headers : [], false),\r\n        responseType: options && options.responseType ? options.responseType : undefined\r\n    });\r\n    axiosPromise.then(function (response) {\r\n        http_debugger_1.httpDebugger.debugResolveHttpRequest();\r\n        callback({\r\n            response: response\r\n        });\r\n    }, function (error) {\r\n        http_debugger_1.httpDebugger.debugFailedHttpRequest();\r\n        callback({\r\n            error: error\r\n        });\r\n    });\r\n}\r\nexports.getCallback = getCallback;\r\nfunction putCallback(instance, call, options, callback) {\r\n    http_debugger_1.httpDebugger.debugStartHttpRequest();\r\n    var axiosPromise = instance.put(call.url, call.body, {\r\n        headers: getHeadersJson(options && options.headers ? options.headers : [], true),\r\n        responseType: options && options.responseType ? options.responseType : undefined\r\n    });\r\n    axiosPromise.then(function (response) {\r\n        http_debugger_1.httpDebugger.debugResolveHttpRequest();\r\n        callback({\r\n            response: response\r\n        });\r\n    }, function (error) {\r\n        http_debugger_1.httpDebugger.debugFailedHttpRequest();\r\n        callback({\r\n            error: error\r\n        });\r\n    });\r\n}\r\nexports.putCallback = putCallback;\r\nfunction deleteCallback(instance, call, options, callback) {\r\n    http_debugger_1.httpDebugger.debugStartHttpRequest();\r\n    var axiosPromise = instance.delete(call.url, {\r\n        headers: getHeadersJson(options && options.headers ? options.headers : [], true),\r\n        responseType: options && options.responseType ? options.responseType : undefined\r\n    });\r\n    axiosPromise.then(function (response) {\r\n        http_debugger_1.httpDebugger.debugResolveHttpRequest();\r\n        callback({\r\n            response: response\r\n        });\r\n    }, function (error) {\r\n        http_debugger_1.httpDebugger.debugFailedHttpRequest();\r\n        callback({\r\n            error: error\r\n        });\r\n    });\r\n}\r\nexports.deleteCallback = deleteCallback;\r\nfunction postCallback(instance, call, options, callback) {\r\n    http_debugger_1.httpDebugger.debugStartHttpRequest();\r\n    var axiosPromise = instance.post(call.url, call.body, {\r\n        headers: getHeadersJson(options && options.headers ? options.headers : [], true),\r\n        responseType: options && options.responseType ? options.responseType : undefined\r\n    });\r\n    axiosPromise.then(function (response) {\r\n        http_debugger_1.httpDebugger.debugResolveHttpRequest();\r\n        callback({\r\n            response: response\r\n        });\r\n    }, function (error) {\r\n        http_debugger_1.httpDebugger.debugFailedHttpRequest();\r\n        callback({\r\n            error: error\r\n        });\r\n    });\r\n}\r\nexports.postCallback = postCallback;\r\nfunction getHeadersJson(headers, addContentTypeHeader) {\r\n    var headerJson = {};\r\n    headers.forEach(function (header) {\r\n        headerJson[header.header] = header.value;\r\n    });\r\n    if (addContentTypeHeader) {\r\n        // add default content type header if not present\r\n        var contentTypeHeader = headers.find(function (m) { return m.header.toLowerCase() === 'Content-Type'.toLowerCase(); });\r\n        if (!contentTypeHeader) {\r\n            headerJson['Content-Type'] = 'application/json';\r\n        }\r\n    }\r\n    return headerJson;\r\n}\r\nexports.getHeadersJson = getHeadersJson;\r\n//# sourceMappingURL=http.functions.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HttpDebugger = /** @class */ (function () {\r\n    function HttpDebugger() {\r\n    }\r\n    /*\r\n    Called when http request is started\r\n    */\r\n    HttpDebugger.prototype.debugStartHttpRequest = function () {\r\n    };\r\n    /*\r\n    Called when http request is resolved\r\n    */\r\n    HttpDebugger.prototype.debugResolveHttpRequest = function () {\r\n    };\r\n    /*\r\n    Called when http request errored out\r\n    */\r\n    HttpDebugger.prototype.debugFailedHttpRequest = function () {\r\n    };\r\n    return HttpDebugger;\r\n}());\r\nexports.HttpDebugger = HttpDebugger;\r\nexports.httpDebugger = new HttpDebugger();\r\n//# sourceMappingURL=http.debugger.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseKontentError = /** @class */ (function () {\r\n    function BaseKontentError(data) {\r\n        Object.assign(this, data);\r\n    }\r\n    return BaseKontentError;\r\n}());\r\nexports.BaseKontentError = BaseKontentError;\r\n//# sourceMappingURL=base-kontent-error.js.map","import { IRichTextHtmlParser } from './parse-models';\r\n\r\nexport function getParserAdapter(): IRichTextHtmlParser {\r\n    let parser: IRichTextHtmlParser | undefined;\r\n\r\n    const adapter = require('./adapters/browser-rich-text.parser');\r\n\r\n    // instantiate class\r\n    parser = new adapter.BrowserRichTextParser();\r\n\r\n    if (!parser) {\r\n        throw Error(`Invalid or unsupported parser adapter`);\r\n    }\r\n\r\n    return parser;\r\n}\r\n\r\n","export enum SortOrder {\r\n    asc = 'asc',\r\n    desc = 'desc'\r\n}\r\n","\r\nexport const parserConfiguration = {\r\n    linkedItemWrapperElem: 'div',\r\n    modularContentElementData: {\r\n        type: 'application/kenticocloud',\r\n        dataType: 'data-type',\r\n        dataCodename: 'data-codename',\r\n        relAttribute: 'data-rel',\r\n        componentRel: 'component'\r\n    },\r\n    linkElementData: {\r\n        nodeName: 'a',\r\n        dataItemId: 'data-item-id',\r\n    },\r\n    imageElementData: {\r\n        nodeName: 'img',\r\n        dataImageId: 'data-image-id',\r\n        srcAttribute: 'src'\r\n    }\r\n};\r\n","export * from './common/base-query.class';\r\nexport * from './element/base-element-query.class';\r\nexport * from './element/element-query.class';\r\nexport * from './item/base-item-query.class';\r\nexport * from './item/multiple-item-query.class';\r\nexport * from './item/single-item-query.class';\r\nexport * from './taxonomy/base-taxonomy-query.class';\r\nexport * from './taxonomy/taxonomies-query.class';\r\nexport * from './taxonomy/taxonomy-query.class';\r\nexport * from './type/base-type-query.class';\r\nexport * from './type/multiple-type-query.class';\r\nexport * from './type/single-type-query.class';\r\n","import { IHeader } from '@kentico/kontent-core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { IDeliveryClientConfig } from '../../config';\r\nimport { ElementResponses, IKontentResponse, IElementQueryConfig } from '../../models';\r\nimport { QueryService } from '../../services';\r\nimport { BaseQuery } from '../common/base-query.class';\r\n\r\nexport abstract class BaseElementQuery<TResponse extends IKontentResponse> extends BaseQuery<TResponse> {\r\n\r\n    protected _queryConfig: IElementQueryConfig = {};\r\n\r\n    constructor(\r\n        protected config: IDeliveryClientConfig,\r\n        protected queryService: QueryService\r\n    ) {\r\n        super(config, queryService);\r\n    }\r\n\r\n    /**\r\n     * Use to configure query\r\n     * @param queryConfig Query configuration\r\n     */\r\n    queryConfig(queryConfig: IElementQueryConfig): this {\r\n        this._queryConfig = queryConfig;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Gets headers used by this query\r\n     */\r\n    getHeaders(): IHeader[] {\r\n        return this.queryService.getHeaders(this._queryConfig);\r\n    }\r\n\r\n    protected getElementQueryUrl(typeCodename: string, elementCodename: string): string {\r\n        const action = '/types/' + typeCodename + '/elements/' + elementCodename;\r\n\r\n        return super.resolveUrlInternal(action);\r\n    }\r\n\r\n    protected runElementQuery(typeCodename: string, elementCodename: string): Observable<ElementResponses.ViewContentTypeElementResponse> {\r\n        return this.queryService.getElement(this.getElementQueryUrl(typeCodename, elementCodename), this._queryConfig);\r\n    }\r\n}\r\n","\nimport { ISDKInfo } from '@kentico/kontent-core';\nexport const sdkInfo: ISDKInfo = {\n    host: 'npmjs.com',\n    version: '7.0.0',\n    name: '@kentico/kontent-delivery'\n};\n","export * from './delivery-query.service';\r\nexport * from './mapping.service';\r\n","export * from './element.mapper';\r\nexport * from './item.mapper';\r\nexport * from './taxonomy.mapper';\r\nexport * from './type.mapper';\r\nexport * from './generic-element.mapper';\r\n","import { enumHelper } from '@kentico/kontent-core';\r\n\r\nimport { defaultCollissionResolver, IDeliveryClientConfig } from '../config';\r\nimport { ElementContracts, ItemContracts } from '../data-contracts';\r\nimport { ElementDecorators, ElementModels, Elements, ElementType } from '../elements';\r\nimport {\r\n    ElementCollisionResolver,\r\n    IContentItem,\r\n    IContentItemsContainer,\r\n    IItemQueryConfig,\r\n    IMapElementsResult,\r\n    ItemUrlSlugResolver,\r\n    Link,\r\n    RichTextImage,\r\n} from '../models';\r\nimport { IRichTextHtmlParser } from '../parser/parse-models';\r\nimport { richTextResolver, stronglyTypedResolver, urlSlugResolver } from '../resolvers';\r\n\r\nexport class ElementMapper {\r\n\r\n    private readonly defaultLinkedItemWrapperTag: string = 'p';\r\n    private readonly defaultLinkedItemWrapperClasses: string[] = ['kc-linked-item-wrapper'];\r\n\r\n    constructor(\r\n        private readonly config: IDeliveryClientConfig,\r\n        private readonly richTextHtmlParser: IRichTextHtmlParser\r\n    ) {\r\n    }\r\n\r\n    /**\r\n     * Maps all element in given content item and returns strongly typed content item based on the resolver specified\r\n     * in DeliveryClientConfig\r\n     */\r\n    mapElements<TItem extends IContentItem>(data: {\r\n        item: ItemContracts.IContentItemContract,\r\n        modularContent: ItemContracts.IModularContentContract,\r\n        queryConfig: IItemQueryConfig,\r\n        processedItems: IContentItemsContainer,\r\n        processingStartedForCodenames: string[],\r\n        preparedItems: IContentItemsContainer\r\n    }): IMapElementsResult<TItem> {\r\n        // return processed item if possible (to avoid infinite recursion)\r\n        const processedItem = this.getProcessedItem(data.item.system.codename, data.processedItems);\r\n        if (processedItem) {\r\n            // item was already resolved, return it\r\n            return {\r\n                item: processedItem as TItem,\r\n                processedItems: data.processedItems,\r\n                preparedItems: data.preparedItems,\r\n                processingStartedForCodenames: data.processingStartedForCodenames\r\n            };\r\n        }\r\n\r\n        const elementCodenames = Object.getOwnPropertyNames(data.item.elements);\r\n\r\n        const itemInstance = stronglyTypedResolver.createItemInstance<TItem>(\r\n            data.item.system.type,\r\n            {\r\n                item: data.item,\r\n                modularContent: data.modularContent\r\n            },\r\n            this.config.typeResolvers || []);\r\n\r\n        if (!data.preparedItems) {\r\n            data.preparedItems = <IContentItemsContainer>{};\r\n        }\r\n\r\n        // add to prepared items\r\n        data.preparedItems[data.item.system.codename] = itemInstance;\r\n\r\n        elementCodenames.forEach(elementCodename => {\r\n            if (!itemInstance) {\r\n                throw Error(`Item instance was not initiazed correctly.`);\r\n            }\r\n\r\n            const elementMap = this.resolveElementMap(itemInstance, elementCodename);\r\n            const elementWrapper: ElementModels.IElementWrapper = {\r\n                contentItemSystem: data.item.system,\r\n                rawElement: data.item.elements[elementCodename],\r\n                propertyName: elementMap.resolvedName,\r\n            };\r\n\r\n            if (elementMap.shouldMapElement) {\r\n                const mappedElement = this.mapElement({\r\n                    elementWrapper: elementWrapper,\r\n                    item: itemInstance,\r\n                    modularContent: data.modularContent,\r\n                    preparedItems: data.preparedItems,\r\n                    processingStartedForCodenames: data.processingStartedForCodenames,\r\n                    processedItems: data.processedItems,\r\n                    queryConfig: data.queryConfig\r\n                });\r\n\r\n                // set mapped element to item instance\r\n                (itemInstance as IContentItem)[elementMap.resolvedName] = mappedElement;\r\n            }\r\n        });\r\n\r\n        return {\r\n            item: itemInstance,\r\n            processedItems: data.processedItems,\r\n            preparedItems: data.preparedItems,\r\n            processingStartedForCodenames: data.processingStartedForCodenames\r\n        };\r\n    }\r\n\r\n    private mapElement(\r\n        data: {\r\n            elementWrapper: ElementModels.IElementWrapper,\r\n            modularContent: ItemContracts.IModularContentContract,\r\n            item: IContentItem,\r\n            queryConfig: IItemQueryConfig,\r\n            processedItems: IContentItemsContainer,\r\n            processingStartedForCodenames: string[],\r\n            preparedItems: IContentItemsContainer\r\n        }): ElementModels.IElement<any> {\r\n        const elementType = enumHelper.getEnumFromValue<ElementType>(ElementType, data.elementWrapper.rawElement.type);\r\n        if (elementType) {\r\n\r\n            if (elementType === ElementType.ModularContent) {\r\n                return this.mapLinkedItemsElement({\r\n                    elementWrapper: data.elementWrapper,\r\n                    modularContent: data.modularContent,\r\n                    preparedItems: data.preparedItems,\r\n                    processingStartedForCodenames: data.processingStartedForCodenames,\r\n                    processedItems: data.processedItems,\r\n                    queryConfig: data.queryConfig\r\n                });\r\n            }\r\n\r\n            if (elementType === ElementType.Text) {\r\n                return this.mapTextElement(data.elementWrapper);\r\n            }\r\n            if (elementType === ElementType.Asset) {\r\n                return this.mapAssetsElement(data.elementWrapper);\r\n            }\r\n\r\n            if (elementType === ElementType.Number) {\r\n                return this.mapNumberElement(data.elementWrapper);\r\n            }\r\n            if (elementType === ElementType.MultipleChoice) {\r\n                return this.mapMultipleChoiceElement(data.elementWrapper);\r\n            }\r\n\r\n            if (elementType === ElementType.DateTime) {\r\n                return this.mapDateTimeElement(data.elementWrapper);\r\n            }\r\n\r\n            if (elementType === ElementType.RichText) {\r\n                return this.mapRichTextElement(data.item, data.elementWrapper, data.modularContent, data.queryConfig, data.processedItems, data.processingStartedForCodenames, data.preparedItems);\r\n            }\r\n\r\n            if (elementType === ElementType.UrlSlug) {\r\n                return this.mapUrlSlugElement(data.elementWrapper, data.item, data.queryConfig);\r\n            }\r\n\r\n            if (elementType === ElementType.Taxonomy) {\r\n                return this.mapTaxonomyElement(data.elementWrapper);\r\n            }\r\n\r\n            if (elementType === ElementType.Custom) {\r\n                return this.mapCustomElement(data.elementWrapper);\r\n            }\r\n        }\r\n        console.warn(`Could not map element '${data.elementWrapper.rawElement.name}' of type '${data.elementWrapper.rawElement.type}'. Returning unknown element instead.`);\r\n        return this.mapUnknowElement(data.elementWrapper);\r\n    }\r\n\r\n    private mapRichTextElement(\r\n        item: IContentItem,\r\n        elementWrapper: ElementModels.IElementWrapper,\r\n        modularContent: ItemContracts.IModularContentContract,\r\n        queryConfig: IItemQueryConfig,\r\n        processedItems: IContentItemsContainer,\r\n        processingStartedForCodenames: string[],\r\n        preparedItems: IContentItemsContainer): Elements.RichTextElement {\r\n\r\n        // get all linked items nested in rich text\r\n        const richTextLinkedItems: IContentItem[] = [];\r\n\r\n        const rawElement = elementWrapper.rawElement as ElementContracts.IRichTextElementContract;\r\n\r\n        if (rawElement.modular_content) {\r\n            if (Array.isArray(rawElement.modular_content)) {\r\n                rawElement.modular_content.forEach(codename => {\r\n                    // get linked item and check if it exists (it might not be included in response due to 'Depth' parameter)\r\n                    const rawItem = modularContent[codename] as ItemContracts.IContentItemContract | undefined;\r\n\r\n                    // first try to get existing item\r\n                    const existingLinkedItem = this.getOrSaveLinkedItemForElement(codename, rawElement, queryConfig, modularContent, processedItems, processingStartedForCodenames, preparedItems);\r\n\r\n                    if (existingLinkedItem) {\r\n                        // item was found, add it to linked items\r\n                        richTextLinkedItems.push(existingLinkedItem);\r\n                    } else {\r\n                        let throwErrorForMissingLinkedItems = false;\r\n\r\n                        // check if errors should be thrown for missing linked items\r\n                        if (queryConfig.throwErrorForMissingLinkedItems === false || queryConfig.throwErrorForMissingLinkedItems === true) {\r\n                            // variable is a boolean\r\n                            throwErrorForMissingLinkedItems = queryConfig.throwErrorForMissingLinkedItems;\r\n                        }\r\n\r\n                        // throw error if raw item is not available and errors are not skipped\r\n                        if (!rawItem) {\r\n                            const msg = `Mapping RichTextElement element '${rawElement.name}' failed because referenced linked item with codename '${codename}' could not be found in Delivery response.\r\n                            Increasing 'depth' parameter may solve this issue as it will include nested items. Alternatively you may disable 'throwErrorForMissingLinkedItems' in your query`;\r\n\r\n                            if (throwErrorForMissingLinkedItems) {\r\n                                throw Error(msg);\r\n                            }\r\n                        }\r\n\r\n                        // item was not found or not yet resolved\r\n                        if (rawItem) {\r\n                            const mappedLinkedItemResult = this.mapElements({\r\n                                item: rawItem,\r\n                                modularContent: modularContent,\r\n                                preparedItems: preparedItems,\r\n                                processingStartedForCodenames: processingStartedForCodenames,\r\n                                processedItems: processedItems,\r\n                                queryConfig: queryConfig\r\n                            });\r\n\r\n                            // add mapped linked item to result\r\n                            if (mappedLinkedItemResult) {\r\n                                richTextLinkedItems.push(mappedLinkedItemResult.item);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        // extract and map links & images\r\n        const links: Link[] = this.mapRichTextLinks(rawElement.links);\r\n        const images: RichTextImage[] = this.mapRichTextImages(rawElement.images);\r\n\r\n        return new Elements.RichTextElement(\r\n            elementWrapper,\r\n            rawElement.modular_content,\r\n            {\r\n                links: links,\r\n                resolveRichTextFunc: () => richTextResolver.resolveData(item.system.codename, rawElement.value, elementWrapper.propertyName, {\r\n                    enableAdvancedLogging: this.config.isDeveloperMode ? this.config.isDeveloperMode : false,\r\n                    images: images,\r\n                    richTextHtmlParser: this.richTextHtmlParser,\r\n                    getLinkedItem: (codename) => this.getOrSaveLinkedItemForElement(codename, rawElement, queryConfig, modularContent, processedItems, processingStartedForCodenames, preparedItems),\r\n                    links: links,\r\n                    queryConfig: queryConfig,\r\n                    linkedItemWrapperTag: this.config.linkedItemResolver && this.config.linkedItemResolver.linkedItemWrapperTag\r\n                        ? this.config.linkedItemResolver.linkedItemWrapperTag\r\n                        : this.defaultLinkedItemWrapperTag,\r\n                    linkedItemWrapperClasses: this.config.linkedItemResolver && this.config.linkedItemResolver.linkedItemWrapperClasses\r\n                        ? this.config.linkedItemResolver.linkedItemWrapperClasses\r\n                        : this.defaultLinkedItemWrapperClasses,\r\n                }),\r\n                images: images\r\n            });\r\n    }\r\n\r\n    private mapDateTimeElement(elementWrapper: ElementModels.IElementWrapper): Elements.DateTimeElement {\r\n        return new Elements.DateTimeElement(elementWrapper);\r\n    }\r\n\r\n    private mapMultipleChoiceElement(elementWrapper: ElementModels.IElementWrapper): Elements.MultipleChoiceElement {\r\n        return new Elements.MultipleChoiceElement(elementWrapper);\r\n    }\r\n\r\n    private mapNumberElement(elementWrapper: ElementModels.IElementWrapper): Elements.NumberElement {\r\n        return new Elements.NumberElement(elementWrapper);\r\n    }\r\n\r\n    private mapTextElement(elementWrapper: ElementModels.IElementWrapper): Elements.TextElement {\r\n        return new Elements.TextElement(elementWrapper);\r\n    }\r\n\r\n    private mapAssetsElement(elementWrapper: ElementModels.IElementWrapper): Elements.AssetsElement {\r\n        return new Elements.AssetsElement(elementWrapper);\r\n    }\r\n\r\n    private mapTaxonomyElement(elementWrapper: ElementModels.IElementWrapper): Elements.TaxonomyElement {\r\n        return new Elements.TaxonomyElement(elementWrapper);\r\n    }\r\n\r\n    private mapUnknowElement(elementWrapper: ElementModels.IElementWrapper): Elements.UnknownElement {\r\n        return new Elements.UnknownElement(elementWrapper);\r\n    }\r\n\r\n    private mapCustomElement(elementWrapper: ElementModels.IElementWrapper): Elements.DefaultCustomElement | ElementModels.IElement<string> {\r\n        // try to find element resolver\r\n        if (this.config.elementResolver) {\r\n            const customElementClass = this.config.elementResolver(elementWrapper);\r\n\r\n            if (customElementClass) {\r\n                return customElementClass;\r\n            }\r\n\r\n        }\r\n        return new Elements.DefaultCustomElement(elementWrapper);\r\n    }\r\n\r\n    private mapUrlSlugElement(elementWrapper: ElementModels.IElementWrapper, item: IContentItem, queryConfig: IItemQueryConfig): Elements.UrlSlugElement {\r\n        const resolver = this.getUrlSlugResolverForElement(item, elementWrapper, queryConfig);\r\n        return new Elements.UrlSlugElement(\r\n            elementWrapper,\r\n            {\r\n                resolveLinkFunc: () => urlSlugResolver.resolveUrl({\r\n                    elementName: elementWrapper.propertyName,\r\n                    elementValue: elementWrapper.rawElement.value,\r\n                    item: item,\r\n                    enableAdvancedLogging: this.config.isDeveloperMode ? this.config.isDeveloperMode : false,\r\n                    resolver: resolver\r\n                }).url || ''\r\n            });\r\n    }\r\n\r\n    private mapLinkedItemsElement(data: {\r\n        elementWrapper: ElementModels.IElementWrapper,\r\n        modularContent: ItemContracts.IModularContentContract,\r\n        queryConfig: IItemQueryConfig,\r\n        processedItems: IContentItemsContainer,\r\n        processingStartedForCodenames: string[],\r\n        preparedItems: IContentItemsContainer\r\n    }\r\n    ): Elements.LinkedItemsElement<IContentItem> {\r\n        // prepare linked items\r\n        const linkedItems: IContentItem[] = [];\r\n\r\n        // value = array of item codenames\r\n        const linkedItemCodenames = data.elementWrapper.rawElement.value as string[];\r\n        linkedItemCodenames.forEach(codename => {\r\n            const linkedItem = this.getOrSaveLinkedItemForElement(codename, data.elementWrapper.rawElement, data.queryConfig, data.modularContent, data.processedItems, data.processingStartedForCodenames, data.preparedItems);\r\n            if (linkedItem) {\r\n                // add item to result\r\n                linkedItems.push(linkedItem);\r\n            } else {\r\n                // item was not found\r\n                if (this.config.isDeveloperMode) {\r\n                    // tslint:disable-next-line:max-line-length\r\n                    console.warn(`Linked item with codename '${codename}' in linked items element '${data.elementWrapper.rawElement.name}' of '${data.elementWrapper.rawElement.type}' type could not be found. If you require this item, consider increasing 'depth' of your query. This warning can be turned off by disabling 'enableAdvancedLogging' option.`);\r\n                }\r\n            }\r\n        });\r\n\r\n        return new Elements.LinkedItemsElement(data.elementWrapper, linkedItems);\r\n    }\r\n\r\n    private getUrlSlugResolverForElement(item: IContentItem, elementWrapper: ElementModels.IElementWrapper, queryConfig: IItemQueryConfig): ItemUrlSlugResolver {\r\n        // query `urlSlugResolver` has priority over global resolver\r\n        if (queryConfig.urlSlugResolver) {\r\n            return queryConfig.urlSlugResolver;\r\n        }\r\n\r\n        if (item._config && item._config.urlSlugResolver) {\r\n            return item._config.urlSlugResolver;\r\n        }\r\n\r\n        // resolve default link value\r\n        return () => elementWrapper.rawElement.value;\r\n    }\r\n\r\n    private getProcessedItem(codename: string, processedItems: IContentItemsContainer): IContentItem | undefined {\r\n        return processedItems[codename];\r\n    }\r\n\r\n    private getPreparedItem(codename: string, preparedItems: IContentItemsContainer): IContentItem | undefined {\r\n        return preparedItems[codename];\r\n    }\r\n\r\n    private getOrSaveLinkedItemForElement(\r\n        codename: string,\r\n        element: ElementContracts.IElementContract,\r\n        queryConfig: IItemQueryConfig,\r\n        modularContent: ItemContracts.IModularContentContract,\r\n        processedItems: IContentItemsContainer,\r\n        mappingStartedForCodenames: string[],\r\n        preparedItems: IContentItemsContainer): IContentItem | undefined {\r\n        // first check if item was already resolved and return it if it was\r\n        const processedItem = this.getProcessedItem(codename, processedItems);\r\n\r\n        if (processedItem) {\r\n            // item was already resolved\r\n            return processedItem;\r\n        }\r\n\r\n        if (mappingStartedForCodenames.find(m => m === codename)) {\r\n            // item was already processed, but may not have yet been resolved (e.g. when child references parent)\r\n            // return reference to prepared item\r\n            return preparedItems[codename];\r\n        }\r\n\r\n        mappingStartedForCodenames.push(codename);\r\n\r\n        // try getting item from modular content\r\n        const rawItem = modularContent[codename] as ItemContracts.IContentItemContract | undefined;\r\n\r\n        // if not found item might not be a linked item, but can still be in standard response\r\n        // (e.g. when linked item references item in standard response)\r\n        if (!rawItem) {\r\n            const preparedItem = this.getPreparedItem(codename, preparedItems);\r\n            if (preparedItem) {\r\n                return preparedItem;\r\n            }\r\n        }\r\n\r\n        // by default errors are not thrown\r\n        let throwErrorForMissingLinkedItems: boolean = false;\r\n\r\n        // check if errors should be thrown for missing linked items\r\n        if (queryConfig.throwErrorForMissingLinkedItems === false || queryConfig.throwErrorForMissingLinkedItems === true) {\r\n            // variable is a boolean\r\n            throwErrorForMissingLinkedItems = queryConfig.throwErrorForMissingLinkedItems;\r\n        }\r\n\r\n        // throw error if item is not in response and errors are not skipped\r\n        if (!rawItem) {\r\n            if (throwErrorForMissingLinkedItems) {\r\n                throw Error(`Linked item with codename '${codename}' could not be found in Delivery response.\r\n                This linked item was requested by '${element.name}' element of '${element.type}'.\r\n                Error can usually be solved by increasing 'Depth' parameter of your query.\r\n                Alternatively, you may prevent this error by disabling 'throwErrorForMissingLinkedItems' in query configuration.`);\r\n            }\r\n\r\n            return undefined;\r\n        }\r\n\r\n        let mappedLinkedItem: IContentItem | undefined;\r\n\r\n        // try resolving item using custom item resolver if its set\r\n        if (queryConfig.itemResolver) {\r\n            const customMappedItem = queryConfig.itemResolver(element, rawItem, modularContent, queryConfig);\r\n\r\n            if (customMappedItem) {\r\n                // if user used custom mapping, make sure to add 'system' and 'elements' properties to result\r\n                customMappedItem.system = stronglyTypedResolver.mapSystemAttributes(rawItem.system);\r\n                customMappedItem.elements = rawItem.elements;\r\n                mappedLinkedItem = customMappedItem;\r\n            }\r\n        }\r\n\r\n        // original resolving if item is still undefined\r\n        if (!mappedLinkedItem) {\r\n            const mappedLinkedItemResult = this.mapElements(\r\n                {\r\n                    item: rawItem,\r\n                    modularContent: modularContent,\r\n                    preparedItems: preparedItems,\r\n                    processingStartedForCodenames: mappingStartedForCodenames,\r\n                    processedItems: processedItems,\r\n                    queryConfig: queryConfig\r\n                });\r\n\r\n            mappedLinkedItem = mappedLinkedItemResult.item;\r\n        }\r\n\r\n        // add to processed items\r\n        processedItems[codename] = mappedLinkedItem;\r\n        return mappedLinkedItem;\r\n    }\r\n\r\n    private mapRichTextLinks(linksJson: ElementContracts.IRichTextElementLinkWrapperContract): Link[] {\r\n        const links: Link[] = [];\r\n\r\n        for (const linkId of Object.keys(linksJson)) {\r\n            const linkRaw = linksJson[linkId];\r\n            links.push(new Link({\r\n                codename: linkRaw.codename,\r\n                linkId: linkId,\r\n                urlSlug: linkRaw.url_slug,\r\n                type: linkRaw.type,\r\n            }));\r\n        }\r\n\r\n        return links;\r\n    }\r\n\r\n    private mapRichTextImages(imagesJson: ElementContracts.IRichTextElementImageWrapperContract): RichTextImage[] {\r\n        const images: RichTextImage[] = [];\r\n\r\n        for (const imageId of Object.keys(imagesJson)) {\r\n            const imageRaw = imagesJson[imageId];\r\n            images.push(new RichTextImage({\r\n                description: imageRaw.description,\r\n                imageId: imageRaw.image_id,\r\n                url: imageRaw.url,\r\n                height: imageRaw.height,\r\n                width: imageRaw.width\r\n            }));\r\n        }\r\n\r\n        return images;\r\n    }\r\n\r\n    private resolveElementMap(item: IContentItem, originalElementCodename: string): {\r\n        shouldMapElement: boolean,\r\n        resolvedName: string\r\n    } {\r\n        let resolvedElementPropertyName: string | undefined = undefined;\r\n\r\n        // resolve using property resolver\r\n        if (item._config && item._config.propertyResolver) {\r\n            resolvedElementPropertyName = item._config.propertyResolver(originalElementCodename);\r\n        }\r\n\r\n        // if property hasn't been resolved, try getting name using decorator\r\n        if (resolvedElementPropertyName === originalElementCodename || !resolvedElementPropertyName) {\r\n            resolvedElementPropertyName = ElementDecorators.getPropertyName(item, originalElementCodename);\r\n        }\r\n\r\n        if (!resolvedElementPropertyName) {\r\n            // use original element codename\r\n            resolvedElementPropertyName = originalElementCodename;\r\n        }\r\n\r\n        // check for collissions\r\n        if (this.collidesWithAnotherProperty(resolvedElementPropertyName, item)) {\r\n            // try to resolve collission using dedicated resolver\r\n            const collisionResolver = this.getCollisionResolver();\r\n            resolvedElementPropertyName = collisionResolver(resolvedElementPropertyName);\r\n\r\n            // verify again if the new element collides\r\n            if (this.collidesWithAnotherProperty(resolvedElementPropertyName, item)) {\r\n                console.warn(`Element '${resolvedElementPropertyName}' collides with another element in same type. Element mapping is skipped. Source item: '${item.system.codename}'`);\r\n                return {\r\n                    shouldMapElement: false,\r\n                    resolvedName: ''\r\n                };\r\n            }\r\n        }\r\n\r\n        return {\r\n            resolvedName: resolvedElementPropertyName,\r\n            shouldMapElement: true\r\n        };\r\n    }\r\n\r\n    private getCollisionResolver(): ElementCollisionResolver {\r\n        return this.config.collisionResolver ? this.config.collisionResolver : defaultCollissionResolver;\r\n    }\r\n\r\n    private collidesWithAnotherProperty(elementName: string, item: IContentItem): boolean {\r\n        return item[elementName] ? true : false;\r\n    }\r\n}\r\n","export * from './delivery-configs';\r\nexport * from './default-collision-resolver';\r\n","import { ElementContracts, ItemContracts } from '../data-contracts';\r\nimport { ElementType } from './element-type';\r\n\r\nexport namespace ElementModels {\r\n\r\n    export interface IRichTextResolverData {\r\n        html: string;\r\n        linkedItemCodenames: string[];\r\n        componentCodenames: string[];\r\n    }\r\n\r\n    export interface IElementWrapper {\r\n        propertyName: string;\r\n        contentItemSystem: ItemContracts.IContentItemSystemAttributesContract;\r\n        rawElement: ElementContracts.IElementContract;\r\n    }\r\n\r\n    export interface IElement<TValue> {\r\n        name: string;\r\n        type: ElementType;\r\n        value: TValue;\r\n        rawData: ElementContracts.IElementContract;\r\n    }\r\n\r\n    export class AssetModel {\r\n\r\n        /**\r\n         * Name of the asset\r\n         */\r\n        public name: string;\r\n\r\n        /**\r\n         * Type of the asset\r\n         */\r\n        public type: string;\r\n\r\n        /**\r\n         * Size of the asset\r\n         */\r\n        public size: number;\r\n\r\n        /**\r\n         * Description of the asset\r\n         */\r\n        public description?: string;\r\n\r\n        /**\r\n         * Url of the asset\r\n         */\r\n        public url: string;\r\n\r\n        /**\r\n         * Width in pixels for image assets\r\n         */\r\n        public width?: number;\r\n\r\n        /**\r\n         * Height in pixels for image assets\r\n         */\r\n        public height?: number;\r\n\r\n        /**\r\n        * Represents Assets element\r\n        * @constructor\r\n        * @param {ElementContracts.IAssetContract} rawAsset - Raw asset contract\r\n        */\r\n        constructor(\r\n            public contract: ElementContracts.IAssetContract\r\n        ) {\r\n            this.name = contract.name;\r\n            this.type = contract.type;\r\n            this.size = contract.size,\r\n            this.description = contract.description,\r\n            this.url = contract.url;\r\n            this.width = contract.width;\r\n            this.height = contract.height;\r\n         }\r\n    }\r\n\r\n    export class MultipleChoiceOption {\r\n\r\n        /**\r\n        * Represents Kentico Kontent's multiple choice option\r\n        * @constructor\r\n        * @param {string} name - Name of the option\r\n        * @param {string} codename - Codename of the option\r\n        */\r\n        constructor(\r\n            public name: string,\r\n            public codename: string\r\n        ) { }\r\n    }\r\n\r\n    export class TaxonomyTerm {\r\n\r\n        /**\r\n       * Represents taxonomy term\r\n       * @constructor\r\n       * @param {string} name - Name of the taxonomy option\r\n       * @param {string} codename - Codename of the option\r\n       */\r\n        constructor(\r\n            public name: string,\r\n            public codename: string\r\n        ) { }\r\n    }\r\n}\r\n\r\n\r\n","/**\r\n* Represents codename of Kentico Kontent element types\r\n*/\r\nexport enum ElementType {\r\n    Text = 'text',\r\n    Number = 'number',\r\n    ModularContent = 'modular_content',\r\n    Asset = 'asset',\r\n    DateTime = 'date_time',\r\n    RichText = 'rich_text',\r\n    MultipleChoice = 'multiple_choice',\r\n    UrlSlug = 'url_slug',\r\n    Taxonomy = 'taxonomy',\r\n    Custom = 'custom',\r\n    Unknown = 'unknown'\r\n}\r\n","export * from './delivery-item-strongly-type.resolver';\r\nexport * from './rich-text.resolver';\r\nexport * from './url-slug.resolver';\r\n\r\n\r\n","export enum ImageFitModeEnum {\r\n    Clip = 'clip',\r\n    Scale = 'scale',\r\n    Crop = 'crop'\r\n}\r\n\r\nexport enum ImageFormatEnum {\r\n    Gif = 'gif',\r\n    Png = 'png',\r\n    Png8 = 'png8',\r\n    Jpg = 'jpg',\r\n    Pjpg = 'pjpg',\r\n    Webp = 'webp'\r\n}\r\n\r\nexport enum ImageCompressionEnum {\r\n    /**\r\n     * Allows the original data to be perfectly reconstructed from the compressed data.\r\n     */\r\n    Lossless,\r\n    /**\r\n     * Irreversible compression where partial data are discarded.\r\n     */\r\n    Lossy\r\n}\r\n","// Public API\r\nexport * from './client';\r\nexport * from './sdk-info.generated';\r\nexport * from './config';\r\nexport * from './data-contracts';\r\nexport * from './elements';\r\nexport * from './parser';\r\nexport * from './resolvers';\r\nexport * from './services';\r\nexport * from './mappers';\r\nexport * from './query';\r\nexport * from './models';\r\nexport * from './images';\r\n\r\n","export * from './delivery-client';\r\nexport * from './idelivery-client.interface';\r\n","import { HttpService } from '@kentico/kontent-core';\r\n\r\nimport { IDeliveryClientConfig } from '../config';\r\nimport { ContentItem } from '../models';\r\nimport { getParserAdapter } from '../parser/parser-adapter';\r\nimport {\r\n  ElementQuery,\r\n  MultipleItemQuery,\r\n  MultipleTypeQuery,\r\n  SingleItemQuery,\r\n  SingleTypeQuery,\r\n  TaxonomiesQuery,\r\n  TaxonomyQuery,\r\n} from '../query';\r\nimport { sdkInfo } from '../sdk-info.generated';\r\nimport { IMappingService, MappingService, QueryService } from '../services';\r\nimport { IDeliveryClient } from './idelivery-client.interface';\r\n\r\nexport class DeliveryClient implements IDeliveryClient {\r\n\r\n  private queryService: QueryService;\r\n\r\n  public mappingService: IMappingService;\r\n\r\n  /**\r\n   * Delivery client used to fetch data from Kentico Kontent\r\n   * @constructor\r\n   * @param {IDeliveryClientConfig} config - The client configuration\r\n   */\r\n  constructor(protected config: IDeliveryClientConfig) {\r\n    if (!config) {\r\n      throw Error(`Delivery client configuration is not set`);\r\n    }\r\n\r\n    this.mappingService = new MappingService(config, getParserAdapter());\r\n    this.queryService = new QueryService(\r\n      config,\r\n      config.httpService ? config.httpService : new HttpService({\r\n        requestInterceptor: config.httpInterceptors && config.httpInterceptors.requestInterceptor ? config.httpInterceptors.requestInterceptor : undefined,\r\n        responseInterceptor: config.httpInterceptors && config.httpInterceptors.responseInterceptor ? config.httpInterceptors.responseInterceptor : undefined,\r\n      }),\r\n      {\r\n        host: sdkInfo.host,\r\n        name: sdkInfo.name,\r\n        version: sdkInfo.version\r\n      },\r\n      this.mappingService\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Gets query for multiple types\r\n   */\r\n  types(): MultipleTypeQuery {\r\n    return new MultipleTypeQuery(this.config, this.queryService);\r\n  }\r\n\r\n  /**\r\n   * Gets query for single type\r\n   * @param {string} typeCodename - Codename of the type to fetch\r\n   */\r\n  type(typeCodename: string): SingleTypeQuery {\r\n    return new SingleTypeQuery(this.config, this.queryService, typeCodename);\r\n  }\r\n\r\n  /**\r\n   * Gets query for multiple items\r\n   */\r\n  items<TItem extends ContentItem>(): MultipleItemQuery<TItem> {\r\n    return new MultipleItemQuery<TItem>(this.config, this.queryService);\r\n  }\r\n\r\n  /**\r\n   * Gets query for single item\r\n   * @param {string} codename - Codename of item to fetch\r\n   */\r\n  item<TItem extends ContentItem>(codename: string): SingleItemQuery<TItem> {\r\n    return new SingleItemQuery<TItem>(this.config, this.queryService, codename);\r\n  }\r\n\r\n  /**\r\n   * Gets query for single taxonomy\r\n   * @param {string} codename - Codename of taxonomy to fetch\r\n   */\r\n  taxonomy(codename: string): TaxonomyQuery {\r\n    return new TaxonomyQuery(this.config, this.queryService, codename);\r\n  }\r\n\r\n  /**\r\n   * Gets query for multiple taxonomies\r\n   */\r\n  taxonomies(): TaxonomiesQuery {\r\n    return new TaxonomiesQuery(this.config, this.queryService);\r\n  }\r\n\r\n  /**\r\n   * Gets query for an element within a type\r\n   * @param {string} typeCodename - Codename of the type\r\n   * @param {string} elementCodename - Codename of the element\r\n   */\r\n  element(typeCodename: string, elementCodename: string): ElementQuery {\r\n    return new ElementQuery(\r\n      this.config,\r\n      this.queryService,\r\n      typeCodename,\r\n      elementCodename\r\n    );\r\n  }\r\n}\r\n","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./url.helper\"));\r\n__export(require(\"./header.helper\"));\r\n__export(require(\"./enum.helper\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar UrlHelper = /** @class */ (function () {\r\n    function UrlHelper() {\r\n    }\r\n    /**\r\n   * Adds query parameters to given url\r\n   * @param url Url to which options will be added\r\n   * @param options Query parameters to add\r\n   */\r\n    UrlHelper.prototype.addOptionsToUrl = function (url, options) {\r\n        if (options) {\r\n            options.forEach(function (filter) {\r\n                if (url.indexOf('?') > -1) {\r\n                    url = url + '&' + filter.getParam() + '=' + filter.getParamValue();\r\n                }\r\n                else {\r\n                    url = url + '?' + filter.getParam() + '=' + filter.getParamValue();\r\n                }\r\n            });\r\n        }\r\n        return url;\r\n    };\r\n    return UrlHelper;\r\n}());\r\nexports.UrlHelper = UrlHelper;\r\nexports.urlHelper = new UrlHelper();\r\n//# sourceMappingURL=url.helper.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HeaderHelper = /** @class */ (function () {\r\n    function HeaderHelper() {\r\n        /**\r\n        * Header name for SDK usage\r\n        */\r\n        this.sdkVersionHeader = 'X-KC-SDKID';\r\n    }\r\n    /**\r\n    * Header identifying SDK type & version for internal purposes of Kentico\r\n    */\r\n    HeaderHelper.prototype.getSdkIdHeader = function (info) {\r\n        return {\r\n            header: this.sdkVersionHeader,\r\n            value: info.host + \";\" + info.name + \";\" + info.version\r\n        };\r\n    };\r\n    return HeaderHelper;\r\n}());\r\nexports.HeaderHelper = HeaderHelper;\r\nexports.headerHelper = new HeaderHelper();\r\n//# sourceMappingURL=header.helper.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EnumHelper = /** @class */ (function () {\r\n    function EnumHelper() {\r\n    }\r\n    EnumHelper.prototype.getAllNames = function (T) {\r\n        var enumNames = [];\r\n        for (var key in T) {\r\n            if (T.hasOwnProperty(key)) {\r\n                enumNames.push(key);\r\n            }\r\n        }\r\n        return enumNames;\r\n    };\r\n    EnumHelper.prototype.getAllValues = function (T) {\r\n        var allEnumValues = Object.keys(T).map(function (key) { return T[key]; });\r\n        return allEnumValues;\r\n    };\r\n    EnumHelper.prototype.getEnumFromValue = function (T, value) {\r\n        try {\r\n            if (!value) {\r\n                return undefined;\r\n            }\r\n            // we can map back from index number directly\r\n            if (this.isNumeric(value)) {\r\n                return T[value];\r\n            }\r\n            // for strings, we need to compare each value separately\r\n            var allEnumValues = this.getAllValues(T);\r\n            var result = allEnumValues.find(function (m) { return m.toLowerCase() === value.toString().toLowerCase(); });\r\n            if (!result) {\r\n                return undefined;\r\n            }\r\n            return result;\r\n        }\r\n        catch (err) {\r\n            return undefined;\r\n        }\r\n    };\r\n    EnumHelper.prototype.getEnumFromName = function (T, name) {\r\n        var allNames = this.getAllNames(T);\r\n        for (var _i = 0, allNames_1 = allNames; _i < allNames_1.length; _i++) {\r\n            var enumName = allNames_1[_i];\r\n            if (enumName.toLowerCase() === name.toLowerCase()) {\r\n                return T[enumName];\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    EnumHelper.prototype.isNumeric = function (value) {\r\n        return !isNaN(parseFloat(value)) && isFinite(value);\r\n    };\r\n    return EnumHelper;\r\n}());\r\nexports.EnumHelper = EnumHelper;\r\nexports.enumHelper = new EnumHelper();\r\n//# sourceMappingURL=enum.helper.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./parameters\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Parameters;\r\n(function (Parameters) {\r\n    var CustomParameter = /** @class */ (function () {\r\n        /**\r\n         * Custom parameter\r\n         * @constructor\r\n         * @param {string} name - Name of the parameter\r\n         * @param {string} value - Value of the parameter\r\n         */\r\n        function CustomParameter(name, value) {\r\n            this.name = name;\r\n            this.value = value;\r\n            if (!name) {\r\n                throw Error(\"Name of the custom parameter is not specified\");\r\n            }\r\n        }\r\n        CustomParameter.prototype.getParam = function () {\r\n            return this.name;\r\n        };\r\n        CustomParameter.prototype.getParamValue = function () {\r\n            return this.value;\r\n        };\r\n        return CustomParameter;\r\n    }());\r\n    Parameters.CustomParameter = CustomParameter;\r\n})(Parameters = exports.Parameters || (exports.Parameters = {}));\r\n//# sourceMappingURL=parameters.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./retry-strategy\"));\r\n__export(require(\"./http.service\"));\r\n__export(require(\"./http.models\"));\r\n__export(require(\"./http.functions\"));\r\n__export(require(\"./http.debugger\"));\r\n__export(require(\"./test-http.service\"));\r\n__export(require(\"./retry-service\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar axios_1 = require(\"axios\");\r\nvar rxjs_1 = require(\"rxjs\");\r\nvar operators_1 = require(\"rxjs/operators\");\r\nvar HttpFunctions = require(\"./http.functions\");\r\nvar retry_service_1 = require(\"./retry-service\");\r\nvar retry_strategy_1 = require(\"./retry-strategy\");\r\nvar HttpService = /** @class */ (function () {\r\n    function HttpService(opts) {\r\n        this.axiosInstance = axios_1.default.create();\r\n        if (opts) {\r\n            if (opts.requestInterceptor) {\r\n                HttpFunctions.registerRequestInterceptor(this.axiosInstance, (opts.requestInterceptor));\r\n            }\r\n            if (opts.responseInterceptor) {\r\n                HttpFunctions.registerResponseInterceptor(this.axiosInstance, (opts.responseInterceptor));\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Retries given promise based on given configuration\r\n     * @param promise Promise to retry\r\n     * @param options Configuration options\r\n     */\r\n    HttpService.prototype.retryPromise = function (promise, options, currentAttempt) {\r\n        var _this = this;\r\n        if (currentAttempt === void 0) { currentAttempt = 1; }\r\n        return new Promise(function (resolve, reject) { return promise\r\n            .then(function (response) {\r\n            resolve(response);\r\n        })\r\n            .catch(function (reason) {\r\n            var statusCode = 0;\r\n            if (reason && reason.originalError && reason.originalError.request) {\r\n                statusCode = reason.originalError.request.status;\r\n            }\r\n            var retryCode = options.useRetryForResponseCodes.find(function (m) { return m === statusCode; });\r\n            if (!retryCode && retryCode !== 0) {\r\n                return reject(reason);\r\n            }\r\n            var retryTimeout = retry_service_1.retryService.getRetryTimeout(currentAttempt);\r\n            if (currentAttempt <= options.maxRetryAttempts) {\r\n                return _this.promiseRetryWait(retryTimeout)\r\n                    .then(function () {\r\n                    retry_service_1.retryService.debugLogAttempt(currentAttempt, retryTimeout);\r\n                    return _this.retryPromise(promise, options, currentAttempt + 1);\r\n                })\r\n                    .then(function (response) { return resolve(response); })\r\n                    .catch(function (error) { return reject(error); });\r\n            }\r\n            return reject(reason);\r\n        }); });\r\n    };\r\n    HttpService.prototype.get = function (call, options) {\r\n        // bind callback from axios promise\r\n        var axiosObservable = rxjs_1.bindCallback(HttpFunctions.getCallback);\r\n        // map axios observable\r\n        return this.mapAxiosObservable(this.axiosInstance, axiosObservable, call, options);\r\n    };\r\n    HttpService.prototype.post = function (call, options) {\r\n        // bind callback from axios promise\r\n        var axiosObservable = rxjs_1.bindCallback(HttpFunctions.postCallback);\r\n        // map axios observable\r\n        return this.mapAxiosObservable(this.axiosInstance, axiosObservable, call, options);\r\n    };\r\n    HttpService.prototype.put = function (call, options) {\r\n        // bind callback from axios promise\r\n        var axiosObservable = rxjs_1.bindCallback(HttpFunctions.putCallback);\r\n        // map axios observable\r\n        return this.mapAxiosObservable(this.axiosInstance, axiosObservable, call, options);\r\n    };\r\n    HttpService.prototype.delete = function (call, options) {\r\n        // bind callback from axios promise\r\n        var axiosObservable = rxjs_1.bindCallback(HttpFunctions.deleteCallback);\r\n        // map axios observable\r\n        return this.mapAxiosObservable(this.axiosInstance, axiosObservable, call, options);\r\n    };\r\n    HttpService.prototype.mapAxiosObservable = function (axiosInstance, axiosObservable, call, options) {\r\n        var _this = this;\r\n        return axiosObservable(axiosInstance, call, options).pipe(operators_1.retryWhen(retry_strategy_1.retryStrategy.strategy({\r\n            maxRetryAttempts: options && options.maxRetryAttempts ? options.maxRetryAttempts : 0,\r\n            useRetryForResponseCodes: options && options.useRetryForResponseCodes\r\n                ? options.useRetryForResponseCodes\r\n                : []\r\n        })), operators_1.map(function (result) { return _this.mapResult(result); }), operators_1.catchError(function (error) {\r\n            // Handling errors: https://github.com/axios/axios#handling-errors\r\n            if (options && options.logErrorToConsole) {\r\n                console.warn(\"Kentico Kontent SDK encountered an error: \", error);\r\n            }\r\n            return rxjs_1.throwError({\r\n                originalError: error,\r\n                mappedError: call.mapError(error)\r\n            });\r\n        }));\r\n    };\r\n    HttpService.prototype.mapResult = function (result) {\r\n        // if error is set, throw it\r\n        if (result.error) {\r\n            throw result.error;\r\n        }\r\n        // if neither error nor response is set, throw an error\r\n        if (!result.response) {\r\n            throw Error('Response is not set and no error was thrown');\r\n        }\r\n        return {\r\n            data: result.response.data,\r\n            response: result.response\r\n        };\r\n    };\r\n    HttpService.prototype.promiseRetryWait = function (ms) {\r\n        return new Promise(function (r) { return setTimeout(r, ms); });\r\n    };\r\n    return HttpService;\r\n}());\r\nexports.HttpService = HttpService;\r\n//# sourceMappingURL=http.service.js.map","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n  config.method = config.method ? config.method.toLowerCase() : 'get';\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar IHttpRequestResult = /** @class */ (function () {\r\n    function IHttpRequestResult(response, error) {\r\n        this.response = response;\r\n        this.error = error;\r\n    }\r\n    return IHttpRequestResult;\r\n}());\r\nexports.IHttpRequestResult = IHttpRequestResult;\r\n//# sourceMappingURL=http.models.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar rxjs_1 = require(\"rxjs\");\r\nvar TestHttpService = /** @class */ (function () {\r\n    function TestHttpService(config) {\r\n        this.throwError = false;\r\n        this.fakeResponseJson = undefined;\r\n        this.errorJson = undefined;\r\n        Object.assign(this, config);\r\n    }\r\n    TestHttpService.prototype.retryPromise = function (promise, options) {\r\n        console.log('Retry is not implemented in test service. Returning original Promise');\r\n        return promise;\r\n    };\r\n    TestHttpService.prototype.get = function (call, options) {\r\n        // throw kontent error\r\n        if (this.throwError) {\r\n            var fakeError = {\r\n                response: {\r\n                    data: this.errorJson\r\n                }\r\n            };\r\n            return rxjs_1.throwError({\r\n                originalError: fakeError,\r\n                mappedError: call.mapError(fakeError)\r\n            });\r\n        }\r\n        // return fake response\r\n        return rxjs_1.of({\r\n            data: this.fakeResponseJson,\r\n            response: undefined\r\n        });\r\n    };\r\n    TestHttpService.prototype.post = function (call, options) {\r\n        // throw kontent error\r\n        if (this.throwError) {\r\n            var fakeError = {\r\n                response: {\r\n                    data: this.errorJson\r\n                }\r\n            };\r\n            return rxjs_1.throwError({\r\n                originalError: fakeError,\r\n                mappedError: call.mapError(fakeError)\r\n            });\r\n        }\r\n        // return fake response\r\n        return rxjs_1.of({\r\n            data: this.fakeResponseJson,\r\n            response: undefined\r\n        });\r\n    };\r\n    TestHttpService.prototype.put = function (call, options) {\r\n        // throw kontent error\r\n        if (this.throwError) {\r\n            var fakeError = {\r\n                response: {\r\n                    data: this.errorJson\r\n                }\r\n            };\r\n            return rxjs_1.throwError({\r\n                originalError: fakeError,\r\n                mappedError: call.mapError(fakeError)\r\n            });\r\n        }\r\n        // return fake response\r\n        return rxjs_1.of({\r\n            data: this.fakeResponseJson,\r\n            response: undefined\r\n        });\r\n    };\r\n    TestHttpService.prototype.delete = function (call, options) {\r\n        // throw kontent error\r\n        if (this.throwError) {\r\n            var fakeError = {\r\n                response: {\r\n                    data: this.errorJson\r\n                }\r\n            };\r\n            return rxjs_1.throwError({\r\n                originalError: fakeError,\r\n                mappedError: call.mapError(fakeError)\r\n            });\r\n        }\r\n        // return fake response\r\n        return rxjs_1.of({\r\n            data: this.fakeResponseJson,\r\n            response: undefined\r\n        });\r\n    };\r\n    return TestHttpService;\r\n}());\r\nexports.TestHttpService = TestHttpService;\r\n//# sourceMappingURL=test-http.service.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./base-kontent-error\"));\r\n__export(require(\"./map-base-kontent-error\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar base_kontent_error_1 = require(\"./base-kontent-error\");\r\nvar KCErrorNames = {\r\n    errorCode: 'error_code',\r\n    message: 'message',\r\n    requestId: 'request_id',\r\n    specificCode: 'specific_code'\r\n};\r\nfunction mapBaseKontentError(error) {\r\n    if (error.response && error.response.data && error.response.data[KCErrorNames.requestId]) {\r\n        // The request was made and the server responded with a status code\r\n        // that falls out of the range of 2xx\r\n        var data = error.response.data;\r\n        return new base_kontent_error_1.BaseKontentError({\r\n            requestId: data[KCErrorNames.requestId],\r\n            message: data[KCErrorNames.message] ? data[KCErrorNames.message] : '',\r\n            errorCode: data[KCErrorNames.errorCode] ? data[KCErrorNames.errorCode] : 0,\r\n            specificCode: data[KCErrorNames.specificCode] ? data[KCErrorNames.specificCode] : 0,\r\n            originalError: error\r\n        });\r\n    }\r\n    else if (error.request) {\r\n        // The request was made but no response was received\r\n        // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n        // http.ClientRequest in node.js\r\n        return error;\r\n    }\r\n    // Something happened in setting up the request that triggered an Error\r\n    return error;\r\n}\r\nexports.mapBaseKontentError = mapBaseKontentError;\r\n//# sourceMappingURL=map-base-kontent-error.js.map","import { ContentItemType, IUrlSlugResolverResult, RichTextItemDataType } from '../../models';\r\nimport {\r\n    IFeaturedObjects,\r\n    IHtmlResolverConfig,\r\n    IImageObject,\r\n    ILinkedItemContentObject,\r\n    ILinkObject,\r\n    IRichTextHtmlParser,\r\n    IRichTextReplacements,\r\n    IRichTextResolverResult,\r\n    ResolverContext,\r\n} from '../parse-models';\r\nimport { parserConfiguration } from '../parser-configuration';\r\n\r\nexport class BrowserRichTextParser implements IRichTextHtmlParser {\r\n    resolveRichTextElement(\r\n        resolverContext: ResolverContext,\r\n        contentItemCodename: string,\r\n        html: string,\r\n        elementName: string,\r\n        replacement: IRichTextReplacements,\r\n        config: IHtmlResolverConfig\r\n    ): IRichTextResolverResult {\r\n        const doc = this.createWrapperElement(html);\r\n\r\n        // get all linked items\r\n        const result = this.processRichTextElement(\r\n            resolverContext,\r\n            contentItemCodename,\r\n            elementName,\r\n            doc.children,\r\n            replacement,\r\n            config,\r\n            {\r\n                links: [],\r\n                linkedItems: [],\r\n                images: []\r\n            }\r\n        );\r\n\r\n        return {\r\n            links: result.links,\r\n            linkedItems: result.linkedItems,\r\n            images: result.images,\r\n            resolvedHtml: doc.innerHTML\r\n        };\r\n    }\r\n\r\n    private createWrapperElement(html: string): HTMLElement {\r\n        const element = document.createElement(parserConfiguration.linkedItemWrapperElem);\r\n        element.innerHTML = html;\r\n\r\n        return element;\r\n    }\r\n\r\n    private processRichTextElement(\r\n        resolverContext: ResolverContext,\r\n        contentItemCodename: string,\r\n        elementName: string,\r\n        htmlCollection: HTMLCollection,\r\n        replacement: IRichTextReplacements,\r\n        config: IHtmlResolverConfig,\r\n        result: IFeaturedObjects\r\n    ): IFeaturedObjects {\r\n        if (!htmlCollection || htmlCollection.length === 0) {\r\n            // there are no more nodes\r\n        } else {\r\n            // extract objects\r\n            for (let i = 0; i < htmlCollection.length; i++) {\r\n                const element = htmlCollection[i];\r\n                const typeAttribute = element.attributes ? element.attributes.getNamedItem('type') : undefined;\r\n\r\n                // process linked items (modular items)\r\n                if (\r\n                    element.attributes &&\r\n                    typeAttribute &&\r\n                    typeAttribute.value &&\r\n                    typeAttribute.value.toLowerCase() ===\r\n                        parserConfiguration.modularContentElementData.type.toLowerCase()\r\n                ) {\r\n                    const dataCodenameAttribute = element.attributes.getNamedItem(\r\n                        parserConfiguration.modularContentElementData.dataCodename\r\n                    );\r\n                    const dataTypeAttribute = element.attributes.getNamedItem(\r\n                        parserConfiguration.modularContentElementData.dataType\r\n                    );\r\n\r\n                    if (!dataTypeAttribute) {\r\n                        throw Error('Missing data type attribute. This is likely an error caused by invalid response.');\r\n                    }\r\n\r\n                    const relAttribute = element.attributes.getNamedItem(\r\n                        parserConfiguration.modularContentElementData.relAttribute\r\n                    );\r\n\r\n                    let itemType: ContentItemType = 'linkedItem';\r\n\r\n                    if (\r\n                        relAttribute &&\r\n                        relAttribute.value === parserConfiguration.modularContentElementData.componentRel\r\n                    ) {\r\n                        itemType = 'component';\r\n                    }\r\n\r\n                    // prepare link item object\r\n                    const linkItemContentObject: ILinkedItemContentObject = {\r\n                        dataCodename: dataCodenameAttribute ? dataCodenameAttribute.value : '',\r\n                        dataType: dataTypeAttribute ? dataTypeAttribute.value : '',\r\n                        itemType: itemType\r\n                    };\r\n\r\n                    // replace html\r\n                    const parentElement = element.parentElement;\r\n\r\n                    if (!parentElement) {\r\n                        console.warn(\r\n                            `Could not replace linked item '${linkItemContentObject.dataCodename}' of '${\r\n                                linkItemContentObject.dataType\r\n                            }' because parent node is undefined. Please report this error if you are seeing this.`\r\n                        );\r\n                    } else {\r\n                        if (dataTypeAttribute.value === 'item') {\r\n                            // add to result\r\n                            result.linkedItems.push(linkItemContentObject);\r\n\r\n                            // create new element\r\n                            const newElem = document.createElement(config.linkedItemWrapperTag);\r\n\r\n                            // get type of resolving item\r\n                            let type: RichTextItemDataType | undefined;\r\n                            type = RichTextItemDataType.Item;\r\n\r\n                            const linkedItemHtml = replacement.getLinkedItemHtml(\r\n                                linkItemContentObject.dataCodename,\r\n                                type\r\n                            );\r\n\r\n                            // recursively run resolver on the HTML obtained by resolver\r\n                            newElem.innerHTML = this.resolveRichTextElement(\r\n                                'nested',\r\n                                linkItemContentObject.dataCodename,\r\n                                linkedItemHtml,\r\n                                elementName,\r\n                                replacement,\r\n                                config\r\n                            ).resolvedHtml;\r\n\r\n                            // add classes\r\n                            newElem.className = config.linkedItemWrapperClasses.map(m => m).join(' ');\r\n\r\n                            // replace original node with new one\r\n                            parentElement.replaceChild(newElem, element);\r\n                        } else {\r\n                            if (config.enableAdvancedLogging) {\r\n                                console.warn(\r\n                                    `Rich text element contains object with unsupported data type '${\r\n                                        dataTypeAttribute.value\r\n                                    }'`\r\n                                );\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // process links\r\n                if (element.nodeName.toLowerCase() === parserConfiguration.linkElementData.nodeName.toLowerCase()) {\r\n                    const dataItemIdAttribute = element.attributes.getNamedItem(\r\n                        parserConfiguration.linkElementData.dataItemId\r\n                    );\r\n\r\n                    if (dataItemIdAttribute) {\r\n                        const link: ILinkObject = {\r\n                            dataItemId: dataItemIdAttribute ? dataItemIdAttribute.value : ''\r\n                        };\r\n\r\n                        // add to result\r\n                        result.links.push(link);\r\n\r\n                        // get original link text (the one inside <a> tag)\r\n                        const linkText = element.innerHTML;\r\n\r\n                        const urlSlugResult = replacement.getUrlSlugResult(link.dataItemId, linkText);\r\n\r\n                        // html has priority over url resolver\r\n                        if (urlSlugResult.html) {\r\n                            // replace link html\r\n                            const linkHtml = (<IUrlSlugResolverResult>urlSlugResult).html;\r\n                            element.outerHTML = linkHtml ? linkHtml : '';\r\n                            const parent = element.parentNode;\r\n                            if (parent) {\r\n                                parent.replaceChild(element, element);\r\n                            }\r\n                        } else if (urlSlugResult.url) {\r\n                            // set link url only\r\n                            const hrefAttribute = element.attributes.getNamedItem('href');\r\n                            if (!hrefAttribute) {\r\n                                // href attribute is missing\r\n                                if (config.enableAdvancedLogging) {\r\n                                    console.warn(\r\n                                        `Cannot set url '${urlSlugResult}' because 'href' attribute is not present in the <a> tag.\r\n                                        Please report this issue if you are seeing this.\r\n                                        This warning can be turned off by disabling 'enableAdvancedLogging' option.`\r\n                                    );\r\n                                }\r\n                            } else {\r\n                                // get link url\r\n                                const linkUrlResult: string | undefined =\r\n                                    typeof urlSlugResult === 'string'\r\n                                        ? <string>urlSlugResult\r\n                                        : (<IUrlSlugResolverResult>urlSlugResult).url;\r\n                                hrefAttribute.value = linkUrlResult ? linkUrlResult : '';\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // process images\r\n                if (element.nodeName.toLowerCase() === parserConfiguration.imageElementData.nodeName.toLowerCase()) {\r\n                    const dataImageIdAttribute = element.attributes.getNamedItem(\r\n                        parserConfiguration.imageElementData.dataImageId\r\n                    );\r\n\r\n                    // continue only if data image id is present. There could be regular img tags included\r\n                    if (dataImageIdAttribute) {\r\n                        const imageObj: IImageObject = {\r\n                            imageId: dataImageIdAttribute.value\r\n                        };\r\n\r\n                        result.images.push(imageObj);\r\n\r\n                        // get image result\r\n                        const imageResult = replacement.getImageResult(\r\n                            resolverContext,\r\n                            contentItemCodename,\r\n                            imageObj.imageId,\r\n                            elementName\r\n                        );\r\n\r\n                        // get src attribute of img tag\r\n                        const srcAttribute = element.attributes.getNamedItem(\r\n                            parserConfiguration.imageElementData.srcAttribute\r\n                        );\r\n\r\n                        if (!srcAttribute) {\r\n                            throw Error(\r\n                                `Attribute '${\r\n                                    parserConfiguration.imageElementData.srcAttribute\r\n                                }' is missing. Source element: ${elementName}`\r\n                            );\r\n                        }\r\n\r\n                        // set new image url\r\n                        srcAttribute.value = imageResult.url;\r\n                    }\r\n                }\r\n\r\n                // recursively process child nodes\r\n                if (element.children && element.children.length > 0) {\r\n                    this.processRichTextElement(\r\n                        resolverContext,\r\n                        contentItemCodename,\r\n                        elementName,\r\n                        element.children,\r\n                        replacement,\r\n                        config,\r\n                        result\r\n                    );\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n","export * from './filters';\r\nexport * from './pagination.class';\r\nexport * from './parameters';\r\nexport * from './sort-order.enum';\r\nexport * from './common-models';\r\n","import { IQueryParameter } from '@kentico/kontent-core';\r\n\r\nexport namespace Filters {\r\n\r\n    const valueSeparator: string = ',';\r\n    const defaultValue: string = '';\r\n\r\n    export class TypeFilter implements IQueryParameter {\r\n        constructor(\r\n            public type: string | string[]\r\n        ) {\r\n        }\r\n\r\n        public getParam(): string {\r\n            if (Array.isArray(this.type)) {\r\n                // multiple types\r\n                return 'system.type[in]';\r\n            }\r\n\r\n            // single type\r\n            return 'system.type';\r\n        }\r\n\r\n        public getParamValue(): string | undefined {\r\n            if (!this.type) {\r\n                return defaultValue;\r\n            }\r\n\r\n            if (Array.isArray(this.type)) {\r\n                let value = '';\r\n                // use [in] filter\r\n                for (let i = 0; i < this.type.length; i++) {\r\n\r\n                    value = value + this.type[i].toString();\r\n\r\n                    if (i !== this.type.length - 1) {\r\n                        // append separator if its not last item\r\n                        value = value + valueSeparator;\r\n                    }\r\n                }\r\n\r\n                return value;\r\n            }\r\n\r\n            // single type was given\r\n            return this.type.toString();\r\n        }\r\n    }\r\n\r\n    export class EqualsFilter implements IQueryParameter {\r\n        constructor(\r\n            public element: string,\r\n            public value: string\r\n        ) {\r\n            if (!this.element) {\r\n                throw Error(`Element specified in 'EqualsFilter' is undefined `);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n\r\n            return this.element.trim();\r\n        }\r\n\r\n        public getParamValue(): string | undefined {\r\n            if (!this.value) {\r\n                return defaultValue;\r\n            }\r\n\r\n            return this.value;\r\n        }\r\n    }\r\n\r\n    export class AllFilter implements IQueryParameter {\r\n        constructor(\r\n            public element: string,\r\n            public values: string[]\r\n        ) {\r\n            if (!this.element) {\r\n                throw Error(`Element specified in 'AllFilter' is undefined `);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n            return `${this.element.trim()}[all]`;\r\n        }\r\n\r\n        public getParamValue(): string | undefined {\r\n            if (!this.values || !Array.isArray(this.values)) {\r\n                return defaultValue;\r\n            }\r\n\r\n            return this.values.map(m => m.trim()).join(',');\r\n        }\r\n    }\r\n\r\n    export class AnyFilter implements IQueryParameter {\r\n        constructor(\r\n            public element: string,\r\n            public values: string[]\r\n        ) {\r\n            if (!this.element) {\r\n                throw Error(`Element specified in 'AnyFilter' is undefined `);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n            return `${this.element.trim()}[any]`;\r\n        }\r\n\r\n        public getParamValue(): string | undefined {\r\n            if (!this.values || !Array.isArray(this.values)) {\r\n                return defaultValue;\r\n            }\r\n\r\n            return this.values.map(m => m.trim()).join(',');\r\n        }\r\n    }\r\n\r\n    export class ContainsFilter implements IQueryParameter {\r\n        constructor(\r\n            public element: string,\r\n            public values: string[]\r\n        ) {\r\n            if (!this.element) {\r\n                throw Error(`Element specified in 'ContainsFilter' is undefined `);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n            return `${this.element.trim()}[contains]`;\r\n        }\r\n\r\n        public getParamValue(): string | undefined {\r\n            if (!this.values || !Array.isArray(this.values)) {\r\n                return defaultValue;\r\n            }\r\n\r\n            return this.values.map(m => m.trim()).join(',');\r\n        }\r\n    }\r\n\r\n    export class GreaterThanFilter implements IQueryParameter {\r\n        constructor(\r\n            public element: string,\r\n            public value: string\r\n        ) {\r\n            if (!this.element) {\r\n                throw Error(`Element specified in 'GreaterThanFilter' is undefined `);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n\r\n            return `${this.element.trim()}[gt]`;\r\n        }\r\n\r\n        public getParamValue(): string | undefined {\r\n            if (!this.value) {\r\n                return defaultValue;\r\n            }\r\n\r\n            return this.value;\r\n        }\r\n    }\r\n\r\n    export class GreaterThanOrEqualFilter implements IQueryParameter {\r\n        constructor(\r\n            public element: string,\r\n            public value: string\r\n        ) {\r\n            if (!this.element) {\r\n                throw Error(`Element specified in 'GreaterThanOrEqualFilter' is undefined `);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n\r\n            return `${this.element.trim()}[gte]`;\r\n        }\r\n\r\n        public getParamValue(): string | undefined {\r\n            if (!this.value) {\r\n                return defaultValue;\r\n            }\r\n\r\n            return this.value;\r\n        }\r\n    }\r\n\r\n    export class InFilter implements IQueryParameter {\r\n        constructor(\r\n            public element: string,\r\n            public values: string[]\r\n        ) {\r\n            if (!this.element) {\r\n                throw Error(`Element specified in 'Infilter' is undefined`);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n            return `${this.element.trim()}[in]`;\r\n        }\r\n\r\n        public getParamValue(): string | undefined {\r\n            if (!this.values || !Array.isArray(this.values)) {\r\n                return defaultValue;\r\n            }\r\n\r\n            return this.values.map(m => {\r\n                return m.trim();\r\n            }\r\n            ).join(',');\r\n        }\r\n    }\r\n\r\n    export class LessThanFilter implements IQueryParameter {\r\n        constructor(\r\n            public element: string,\r\n            public value: string\r\n        ) {\r\n            if (!this.element) {\r\n                throw Error(`Element specified in 'LessThanFilter' is undefined `);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n            return `${this.element.trim()}[lt]`;\r\n        }\r\n\r\n        public getParamValue(): string | undefined {\r\n            if (!this.value) {\r\n                return defaultValue;\r\n            }\r\n            return this.value;\r\n        }\r\n    }\r\n\r\n    export class LessThanOrEqualFilter implements IQueryParameter {\r\n        constructor(\r\n            public element: string,\r\n            public value: string\r\n        ) {\r\n            if (!this.element) {\r\n                throw Error(`Element specified in 'LessThanOrEqualFilter' is undefined `);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n\r\n            return `${this.element.trim()}[lte]`;\r\n        }\r\n\r\n        public getParamValue(): string | undefined {\r\n            if (!this.value) {\r\n                return defaultValue;\r\n            }\r\n\r\n            return this.value;\r\n        }\r\n    }\r\n\r\n    export class RangeFilter implements IQueryParameter {\r\n        constructor(\r\n            public element: string,\r\n            public lowerValue: number,\r\n            public higherValue: number\r\n        ) {\r\n            if (!this.element) {\r\n                throw Error(`Element specified in 'RangeFilter' is undefined `);\r\n            }\r\n\r\n            if (lowerValue > higherValue) {\r\n                throw Error(`'lowerValue' cannot be higher then 'higherValue' in 'RangeFilter'`);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n            return `${this.element.trim()}[range]`;\r\n        }\r\n\r\n        public getParamValue(): string {\r\n            let lowerVal = defaultValue;\r\n            let higherVal = defaultValue;\r\n\r\n            if (this.lowerValue) {\r\n                lowerVal = this.lowerValue.toString();\r\n            }\r\n\r\n            if (this.higherValue) {\r\n                higherVal = this.higherValue.toString();\r\n            }\r\n\r\n            return `${lowerVal},${higherVal}`;\r\n        }\r\n    }\r\n}\r\n","export class Pagination {\r\n\r\n    public skip!: number;\r\n    public limit!: number;\r\n    public count!: number;\r\n    public nextPage!: string;\r\n\r\n    constructor(\r\n        data: {\r\n            skip: number;\r\n            limit: number;\r\n            count: number;\r\n            nextPage: string;\r\n        }\r\n    ) {\r\n        Object.assign(this, data);\r\n    }\r\n}\r\n","import { IQueryParameter } from '@kentico/kontent-core';\r\n\r\nimport { SortOrder } from './sort-order.enum';\r\n\r\nexport namespace Parameters {\r\n\r\n    const defaultValue: string = '';\r\n\r\n    export class QueryParameter implements IQueryParameter {\r\n\r\n        /**\r\n        * Parameter\r\n        * @constructor\r\n        * @param {string} name - Name of the parameter\r\n        * @param {string} value - Value of the parameter\r\n        */\r\n        constructor(\r\n            public name: string,\r\n            public value: string\r\n        ) {\r\n            if (!name) {\r\n                throw Error(`Name of the parameter is not specified`);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n            return this.name;\r\n        }\r\n\r\n        public getParamValue(): string {\r\n            return this.value;\r\n        }\r\n    }\r\n\r\n    export class ElementsParameter implements IQueryParameter {\r\n\r\n        /**\r\n        * Sets elements (projection) so that only certain elements from a content item are returned\r\n        * @constructor\r\n        * @param {string[]} elementCodenames - Array of element codenames to include in response.\r\n        */\r\n        constructor(\r\n            public elementCodenames: string[]\r\n        ) {\r\n        }\r\n\r\n        public getParam(): string {\r\n            return 'elements';\r\n        }\r\n\r\n        public getParamValue(): string {\r\n            if (!this.elementCodenames) {\r\n                return defaultValue;\r\n            }\r\n\r\n            return this.elementCodenames.map(m => {\r\n                if (!m) {\r\n                    throw Error(`Codename of 'ElementsParameter' cannot be null or empty`);\r\n                }\r\n                return m.trim();\r\n            }).join(',');\r\n        }\r\n    }\r\n\r\n    export class LimitParameter implements IQueryParameter {\r\n\r\n        /**\r\n        * Limits the number of items that are returned from response\r\n        * @constructor\r\n        * @param {number} limit - Number of elements that will be returned\r\n        */\r\n        constructor(\r\n            public limit: number\r\n        ) {\r\n            if (limit <= 0) {\r\n                throw Error(`'LimitParameter' must specify a positive integer`);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n            return 'limit';\r\n        }\r\n\r\n        public getParamValue(): string {\r\n            return this.limit.toString();\r\n        }\r\n    }\r\n\r\n    export class SkipParameter implements IQueryParameter {\r\n\r\n        /**\r\n        * Configures response to skip certain number of items\r\n        * @constructor\r\n        * @param {number} skip - Number of content items that will be skipped\r\n        */\r\n        constructor(\r\n            public skip: number\r\n        ) {\r\n            if (skip < 0) {\r\n                throw Error(`'SkipParameter' must specify a positive integer number or zero.\"`);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n            return 'skip';\r\n        }\r\n\r\n        public getParamValue(): string {\r\n            return this.skip.toString();\r\n        }\r\n    }\r\n\r\n    export class OrderParameter implements IQueryParameter {\r\n\r\n        /**\r\n        * Sorts the response based on given element.\r\n        * @constructor\r\n        * @param {string} element - Element that will be used for sorting (can be both elements.<elementname> or system.<elementname>)\r\n        * @param {SortOrder} sortOrder - Order type (desc/asc). Defaults to 'asc' if SortOrder is null or invalid.\r\n        */\r\n        constructor(\r\n            public element: string,\r\n            public sortOrder: SortOrder\r\n        ) {\r\n            if (!element) {\r\n                throw Error(`Element specified in 'OrderParameter' is null or empty`);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n            return 'order';\r\n        }\r\n\r\n        public getParamValue(): string {\r\n            let order: string;\r\n            if (this.sortOrder === SortOrder.desc) {\r\n                order = 'desc';\r\n            } else {\r\n                order = 'asc';\r\n            }\r\n            return `${this.element.trim()}[${order}]`;\r\n        }\r\n    }\r\n\r\n    export class CustomParameter implements IQueryParameter {\r\n\r\n        constructor(\r\n            public paramName: string,\r\n            public value: string | undefined\r\n        ) {\r\n        }\r\n\r\n        public getParam(): string {\r\n            return this.paramName;\r\n        }\r\n\r\n        public getParamValue(): string | undefined {\r\n            return this.value;\r\n        }\r\n    }\r\n\r\n    export class DepthParameter implements IQueryParameter {\r\n\r\n        /**\r\n        * Configures the depth of the response. Content items might reference another 'linked items' using the Linked items element.\r\n        * Recursively, these linked items can reference another linked items.\r\n        * By default, only one level of linked content is returned.\r\n        * @constructor\r\n        * @param {number} depth - Depth fo the response\r\n        */\r\n        constructor(\r\n            public depth: number\r\n        ) {\r\n            if (depth < 0) {\r\n                throw Error(`'DepthParameter' must specify a positive integer or zero`);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n            return 'depth';\r\n        }\r\n\r\n        public getParamValue(): string {\r\n            return this.depth.toString();\r\n        }\r\n    }\r\n\r\n    export class LanguageParameter implements IQueryParameter {\r\n\r\n        /**\r\n        * Specifies language version to fetch\r\n        * @constructor\r\n        * @param {string} languageCodename - Codename of the language\r\n        */\r\n        constructor(\r\n            public languageCodename: string\r\n        ) {\r\n            if (!languageCodename) {\r\n                throw Error(`'LanguageParameter' must specify codename of the language`);\r\n            }\r\n        }\r\n\r\n        public getParam(): string {\r\n            return 'language';\r\n        }\r\n\r\n        public getParamValue(): string {\r\n            return this.languageCodename.trim().toString();\r\n        }\r\n    }\r\n}\r\n\r\n","export * from './element-models';\r\nexport * from './responses';\r\n","import { IQueryConfig } from '../common/common-models';\r\n\r\nexport interface IElementQueryConfig extends IQueryConfig {\r\n    /**\r\n     * No dedicated properties required at this moment\r\n     */\r\n}\r\n\r\nexport class GenericElementOption {\r\n    constructor(\r\n        /**\r\n         * Name of the option\r\n         */\r\n        public name: string,\r\n\r\n        /**\r\n         * Value of the option\r\n         */\r\n        public codename: string\r\n    ) { }\r\n}\r\n\r\n\r\nexport class GenericElement {\r\n\r\n    /**\r\n     * Indexer\r\n     */\r\n    [key: string]: any;\r\n\r\n    /**\r\n     * Codename of the element\r\n     */\r\n    public codename!: string;\r\n\r\n    /**\r\n     * Type of the element\r\n     */\r\n    public type!: string;\r\n\r\n    /**\r\n     * Name of the element\r\n     */\r\n    public name!: string;\r\n\r\n    /**\r\n     * Taxonomy group in case the element is a taxonomy\r\n     */\r\n    public taxonomyGroup?: string;\r\n\r\n    /**\r\n     * Array of options if the element has some\r\n     */\r\n    public options: GenericElementOption[] = [];\r\n\r\n    constructor(\r\n        data: {\r\n            codename: string,\r\n            type: string,\r\n            name: string,\r\n            taxonomyGroup?: string,\r\n            options: GenericElementOption[]\r\n        }\r\n    ) {\r\n        Object.assign(this, data);\r\n    }\r\n}\r\n\r\n","import { IKontentResponse, IKontentResponseDebug } from '../common';\r\nimport { GenericElement } from './element-models';\r\n\r\nexport namespace ElementResponses {\r\n\r\n    export class ViewContentTypeElementResponse implements IKontentResponse {\r\n\r\n        /**\r\n        * Response containing content type element\r\n        *\r\n        * @constructor\r\n        * @param {GenericElement} element - Content type element\r\n        * @param {IKontentResponseDebug} debug - Debug information from the response\r\n        */\r\n        constructor(\r\n            public element: GenericElement,\r\n            public debug: IKontentResponseDebug,\r\n        ) { }\r\n    }\r\n}\r\n","export * from './item-models';\r\nexport * from './responses';\r\nexport * from './item-resolvers';\r\nexport * from './type-resolver.class';\r\n\r\n","import { ItemContracts } from '../../data-contracts/item-contracts';\r\nimport { IQueryConfig } from '../common/common-models';\r\nimport {\r\n    ItemUrlSlugResolver,\r\n    ItemPropertyResolver,\r\n    ItemResolver,\r\n    ItemRichTextResolver,\r\n    RichTextImageResolver,\r\n} from './item-resolvers';\r\n\r\nexport interface IMapElementsResult<TItem extends IContentItem = IContentItem> {\r\n    item: TItem;\r\n    processedItems: IContentItemsContainer;\r\n    preparedItems: IContentItemsContainer;\r\n    processingStartedForCodenames: string[];\r\n}\r\n\r\nexport interface IContentItemSystemAttributes {\r\n    /**\r\n   * Id of the item\r\n   */\r\n    id: string;\r\n\r\n    /**\r\n     * Name of the item\r\n     */\r\n    name: string;\r\n\r\n    /**\r\n     * Codename of the item\r\n     */\r\n    codename: string;\r\n\r\n    /**\r\n     * Codename of the type this item is using\r\n     */\r\n    type: string;\r\n\r\n    /**\r\n     * Date when the item was last modified\r\n     */\r\n    lastModified: Date;\r\n\r\n    /**\r\n     * Codename of the language\r\n     */\r\n    language: string;\r\n\r\n    /**\r\n     * Array of sitemap locatoins\r\n     */\r\n    sitemapLocations: string[];\r\n}\r\n\r\n/**\r\n * Indexer is defined as 'any' because models can contain custom methods, different field types, linked items ...\r\n */\r\nexport type ContentItemIndexer = any;\r\n\r\nexport type ContentItemType = 'component' | 'linkedItem';\r\n\r\nexport interface IContentItem {\r\n\r\n    /**\r\n    * Indexer\r\n    */\r\n    [key: string]: ContentItemIndexer;\r\n\r\n    /**\r\n     * Content item system elements\r\n     */\r\n    system: IContentItemSystemAttributes;\r\n\r\n    /**\r\n     * Debug data of the item\r\n     */\r\n    _raw: IContentItemRawData;\r\n\r\n    /**\r\n     * Content item configuration\r\n     */\r\n    _config?: IContentItemConfig;\r\n}\r\n\r\nexport class ContentItem implements IContentItem {\r\n\r\n    /**\r\n     * Indexer\r\n     */\r\n    [key: string]: ContentItemIndexer;\r\n\r\n    /**\r\n     * Content item system elements\r\n     */\r\n    public system!: ContentItemSystemAttributes;\r\n\r\n    /**\r\n     * Raw data\r\n     */\r\n    public _raw!: IContentItemRawData;\r\n\r\n    /**\r\n     * configuration\r\n     */\r\n    public _config?: IContentItemConfig;\r\n\r\n    /**\r\n    * Base class representing content item type. All content type models need to extend this class.\r\n    * @constructor\r\n    */\r\n    constructor(config?: IContentItemConfig) {\r\n        this._config = config;\r\n    }\r\n}\r\n\r\nexport class ContentItemSystemAttributes implements IContentItemSystemAttributes {\r\n\r\n    /**\r\n    * Id of the item\r\n    */\r\n    public id!: string;\r\n\r\n    /**\r\n     * Name of the item\r\n     */\r\n    public name!: string;\r\n\r\n    /**\r\n     * Codename of the item\r\n     */\r\n    public codename!: string;\r\n\r\n    /**\r\n     * Codename of the type this item is using\r\n     */\r\n    public type!: string;\r\n\r\n    /**\r\n     * Date when the item was last modified\r\n     */\r\n    public lastModified!: Date;\r\n\r\n    /**\r\n     * Codename of the language\r\n     */\r\n    public language!: string;\r\n\r\n    /**\r\n     * Array of sitemap locatoins\r\n     */\r\n    public sitemapLocations!: string[];\r\n\r\n    constructor(\r\n        data: {\r\n            id: string,\r\n            name: string,\r\n            codename: string,\r\n            type: string,\r\n            lastModified: Date,\r\n            language: string,\r\n            sitemapLocations: string[]\r\n        }\r\n    ) {\r\n        Object.assign(this, data);\r\n    }\r\n}\r\n\r\nexport class Link {\r\n\r\n    /**\r\n     * Id of the link\r\n     */\r\n    public linkId!: string;\r\n\r\n    /**\r\n     * Codename of the content item\r\n     */\r\n    public codename!: string;\r\n\r\n    /**\r\n     * Type codename of the content item\r\n     */\r\n    public type!: string;\r\n\r\n    /**\r\n     * Url slug defined for the content item\r\n     */\r\n    public urlSlug!: string;\r\n\r\n    constructor(\r\n        data: {\r\n            linkId: string;\r\n            codename: string,\r\n            type: string,\r\n            urlSlug: string,\r\n        }\r\n    ) {\r\n        Object.assign(this, data);\r\n    }\r\n}\r\n\r\nexport interface IContentItemsContainer<TItem extends IContentItem = IContentItem> {\r\n    [key: string]: TItem;\r\n}\r\n\r\nexport class RichTextImage {\r\n\r\n    public imageId!: string;\r\n    public url!: string;\r\n    public description?: string;\r\n    public width?: number;\r\n    public height?: number;\r\n\r\n    constructor(\r\n        data: {\r\n            imageId: string,\r\n            url: string,\r\n            description?: string,\r\n            height?: number;\r\n            width?: number;\r\n        }\r\n    ) {\r\n        Object.assign(this, data);\r\n    }\r\n}\r\n\r\nexport interface IContentItemRawData {\r\n    elements: ItemContracts.IContentItemElementsContracts;\r\n}\r\n\r\nexport interface ITypeResolverData {\r\n    item: ItemContracts.IContentItemContract;\r\n    modularContent: ItemContracts.IModularContentContract;\r\n}\r\n\r\nexport interface IItemQueryConfig extends IQueryConfig {\r\n    throwErrorForMissingLinkedItems?: boolean;\r\n    urlSlugResolver?: ItemUrlSlugResolver;\r\n    richTextResolver?: ItemRichTextResolver<IContentItem>;\r\n    itemResolver?: ItemResolver;\r\n    richTextImageResolver?: RichTextImageResolver;\r\n}\r\n\r\nexport interface IUrlSlugResolverContext {\r\n\r\n    /**\r\n     * Original link text (available only for links in rich text element)\r\n     */\r\n    linkText?: string;\r\n\r\n    /**\r\n     * Content item if available\r\n     */\r\n    item?: IContentItem;\r\n\r\n    /**\r\n     * Link id (equal to `contentItem` id). Available only for links inside `richTextElement`\r\n     */\r\n    linkId?: string;\r\n}\r\n\r\nexport interface IUrlSlugResolverResult {\r\n    html?: string;\r\n    url?: string;\r\n}\r\n\r\nexport interface IRichTextResolverContext {\r\n    contentType: RichTextItemDataType;\r\n}\r\n\r\nexport interface IRichTextImageResolverResult {\r\n    url: string;\r\n}\r\n\r\nexport enum RichTextItemDataType {\r\n    Item = 'item',\r\n}\r\n\r\nexport interface IContentItemConfig {\r\n    /**\r\n    * Function used to bind elements returned from Kentico Kontent to a model property.\r\n    * Common use is to bind e.g. 'FirstName' element from Kentico Kontent response to 'firstName' element in model\r\n    */\r\n    propertyResolver?: ItemPropertyResolver;\r\n\r\n    /**\r\n     *  Function used to resolve url slug elements\r\n     */\r\n    urlSlugResolver?: ItemUrlSlugResolver;\r\n\r\n    /**\r\n     * Function used to resolve linked items in rich text elements to HTML\r\n     */\r\n    richTextResolver?: ItemRichTextResolver<any>;\r\n}\r\n","import { Pagination } from '../common';\r\nimport { IKontentResponse, IKontentResponseDebug } from '../common/common-models';\r\nimport { IContentItem, IContentItemsContainer } from './item-models';\r\n\r\nexport namespace ItemResponses {\r\n\r\n    export class ListContentItemsResponse<TItem extends IContentItem = IContentItem> implements IKontentResponse {\r\n\r\n        /**\r\n         * Indicates if response contains any items\r\n         */\r\n        public isEmpty: boolean;\r\n\r\n        /**\r\n        * First item or undefined if none is found\r\n        */\r\n        public firstItem?: TItem;\r\n\r\n        /**\r\n        * Last item or undefined if response contains no items\r\n        */\r\n        public lastItem?: TItem;\r\n\r\n        /**\r\n        * Response containing multiple item\r\n        * @constructor\r\n        * @param {TItem[]} items - Collection of content items\r\n        * @param {Pagination} pagination - Pagination object\r\n        * @param {IContentItemsContainer} linkedItems - Content items that were processed during request\r\n        * @param {IKontentResponseDebug} debug - Debug information from the request\r\n        */\r\n        constructor(\r\n            public items: TItem[],\r\n            public pagination: Pagination,\r\n            public linkedItems: IContentItemsContainer,\r\n            public debug: IKontentResponseDebug\r\n        ) {\r\n            this.isEmpty = this.getIsEmpty();\r\n            this.lastItem = this.getLastItem();\r\n            this.firstItem = this.getFirstItem();\r\n        }\r\n\r\n        getIsEmpty(): boolean {\r\n            if (!this.items) {\r\n                return true;\r\n            }\r\n            return this.items.length <= 0;\r\n        }\r\n\r\n        getFirstItem(): TItem | undefined {\r\n            if (!this.items) {\r\n                return;\r\n            }\r\n\r\n            if (this.items.length < 1) {\r\n                return;\r\n            }\r\n\r\n            return this.items[0];\r\n        }\r\n\r\n        getLastItem(): TItem | undefined {\r\n            if (!this.items) {\r\n                return;\r\n            }\r\n\r\n            if (this.items.length < 1) {\r\n                return;\r\n            }\r\n\r\n            return this.items[this.items.length - 1];\r\n        }\r\n    }\r\n\r\n    export class ViewContentItemResponse<TItem extends IContentItem = IContentItem> implements IKontentResponse {\r\n\r\n        /**\r\n         * Indicates if response contains item\r\n         */\r\n        public isEmpty: boolean;\r\n\r\n        /**\r\n        * Response containing single item\r\n        * @constructor\r\n        * @param {TItem} item - Returned item\r\n        * @param {IContentItemsContainer} linkedItems - Content items that were processed during request\r\n        * @param {IKontentResponseDebug} debug - Debug information from the request\r\n        */\r\n        constructor(\r\n            public item: TItem,\r\n            public linkedItems: IContentItemsContainer,\r\n            public debug: IKontentResponseDebug\r\n        ) {\r\n            this.isEmpty = this.getIsEmpty();\r\n        }\r\n\r\n        getIsEmpty(): boolean {\r\n            if (!this.item) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\n","import { IContentItem, ITypeResolverData } from '../../models';\r\n\r\nexport class TypeResolver {\r\n\r\n    /**\r\n    * Resolver used to create instance of particular class representing your content item. This is useful if you want to access\r\n    * properties in a strongly types manner when using TypeScript or to define additional properties/functions on the class.\r\n    * For example if you create a class 'Character' which corresponds to 'character' code name of Kentico Kontent type, you\r\n    * typically register it like: 'new TypeResolver(\"code_example\", () => new CodeExample())'\r\n    * @constructor\r\n    * @param {string} type - Codename of the content item defined in your Kentico Kontent content types\r\n    * @param {(data: ITypeResolverData) => IContentItem} resolve - Function used create new instance of your class\r\n    */\r\n    constructor(\r\n        public type: string,\r\n        public resolve: (data: ITypeResolverData) => IContentItem\r\n    ) { }\r\n}\r\n","export * from './responses';\r\nexport * from './taxonomy-models';\r\n","import { IKontentResponse, IKontentResponseDebug, Pagination } from '../common';\r\nimport { TaxonomyGroup } from './taxonomy-models';\r\n\r\nexport namespace TaxonomyResponses {\r\n\r\n    export class ViewTaxonomyGroupResponse implements IKontentResponse {\r\n        constructor(\r\n            /**\r\n             * Taxonomy group\r\n             */\r\n            public taxonomy: TaxonomyGroup,\r\n\r\n            /**\r\n             * Debug information\r\n             */\r\n            public debug: IKontentResponseDebug\r\n        ) {\r\n        }\r\n    }\r\n\r\n    export class ListTaxonomyGroupsResponse implements IKontentResponse {\r\n        constructor(\r\n            /**\r\n             * Taxonomies\r\n             */\r\n            public taxonomies: TaxonomyGroup[],\r\n\r\n            /**\r\n             * Pagination\r\n             */\r\n            public pagination: Pagination,\r\n\r\n            /**\r\n             * Debug information\r\n             */\r\n            public debug: IKontentResponseDebug\r\n        ) {\r\n        }\r\n    }\r\n}\r\n","import { IQueryConfig } from '../common/common-models';\r\n\r\nexport class TaxonomyGroup {\r\n    constructor(\r\n        public system: TaxonomySystemAttributes,\r\n        public terms: TaxonomyTerms[]\r\n    ) { }\r\n}\r\n\r\nexport class TaxonomySystemAttributes {\r\n\r\n    public id!: string;\r\n    public name!: string;\r\n    public codename!: string;\r\n    public lastModified!: Date;\r\n\r\n    constructor(\r\n        data: {\r\n            id: string,\r\n            name: string,\r\n            codename: string,\r\n            lastModified: Date\r\n        }\r\n    ) {\r\n        Object.assign(this, data);\r\n    }\r\n}\r\n\r\nexport class TaxonomyTerms {\r\n\r\n    public name!: string;\r\n    public codename!: string;\r\n    public terms!: TaxonomyTerms[];\r\n\r\n    constructor(\r\n        data: {\r\n            name: string,\r\n            codename: string,\r\n            terms: TaxonomyTerms[]\r\n        }\r\n    ) {\r\n        Object.assign(this, data);\r\n    }\r\n}\r\n\r\nexport interface ITaxonomyQueryConfig extends IQueryConfig {\r\n    /**\r\n     * No dedicated properties required at this moment\r\n     */\r\n}\r\n","export * from './content-type-models';\r\nexport * from './responses';\r\n","import { IQueryConfig } from '../common/common-models';\r\nimport { GenericElement } from '../element/element-models';\r\n\r\nexport class ContentTypeSystemAttributes {\r\n\r\n    /**\r\n    * Id of the type\r\n    */\r\n    public id!: string;\r\n\r\n    /**\r\n     * Name of the type\r\n     */\r\n    public name!: string;\r\n\r\n    /**\r\n     * Codename of the type\r\n     */\r\n    public codename!: string;\r\n\r\n    /**\r\n     * Date of last modification\r\n     */\r\n    public lastModified!: Date;\r\n\r\n    constructor(\r\n        data: {\r\n            id: string,\r\n            name: string,\r\n            codename: string,\r\n            lastModified: Date\r\n        }\r\n    ) {\r\n        Object.assign(this, data);\r\n    }\r\n}\r\n\r\nexport class ContentType {\r\n\r\n    /**\r\n    * Content type system attributes\r\n    */\r\n    public system!: ContentTypeSystemAttributes;\r\n\r\n    /**\r\n    * Elements (elements) assigned to content type\r\n    */\r\n    public elements!: GenericElement[];\r\n\r\n    constructor(\r\n        data: {\r\n            system: ContentTypeSystemAttributes,\r\n            elements: GenericElement[]\r\n        }\r\n    ) {\r\n        Object.assign(this, data);\r\n    }\r\n}\r\n\r\nexport interface IContentTypeQueryConfig extends IQueryConfig {\r\n    /**\r\n     * No dedicated properties required at this moment\r\n     */\r\n}\r\n\r\n","import { Pagination } from '../common';\r\nimport { IKontentResponse, IKontentResponseDebug } from '../common/common-models';\r\nimport { ContentType } from './content-type-models';\r\n\r\nexport namespace TypeResponses {\r\n\r\n    export class ListContentTypesResponse implements IKontentResponse {\r\n\r\n        /**\r\n        * Response containing multiple types\r\n        * @constructor\r\n        * @param {IContentType[]} types - Content types\r\n        * @param {Pagination} pagination - Pagination object\r\n        */\r\n        constructor(\r\n            public types: ContentType[],\r\n            public pagination: Pagination,\r\n            public debug: IKontentResponseDebug\r\n        ) { }\r\n    }\r\n\r\n    export class ViewContentTypeResponse implements IKontentResponse {\r\n\r\n        /**\r\n        * Response containing single type\r\n        * @constructor\r\n        * @param {IContentType} type - Content type\r\n        */\r\n        constructor(\r\n            public type: ContentType,\r\n            public debug: IKontentResponseDebug\r\n        ) { }\r\n    }\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\nimport { IDeliveryClientConfig } from '../../config';\r\nimport { ElementResponses } from '../../models';\r\nimport { QueryService } from '../../services';\r\nimport { BaseElementQuery } from './base-element-query.class';\r\n\r\nexport class ElementQuery extends BaseElementQuery<ElementResponses.ViewContentTypeElementResponse> {\r\n\r\n    constructor(\r\n        protected config: IDeliveryClientConfig,\r\n        protected queryService: QueryService,\r\n        private typeCodename: string,\r\n        private elementCodename: string\r\n    ) {\r\n        super(config, queryService);\r\n\r\n        if (!typeCodename) {\r\n            throw Error(`Codename of the type has to be provided`);\r\n        }\r\n\r\n        if (!elementCodename) {\r\n            throw Error(`Codename of the element has to be provided`);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Gets the runnable Observable\r\n    */\r\n    toObservable(): Observable<ElementResponses.ViewContentTypeElementResponse> {\r\n        return super.runElementQuery(this.typeCodename, this.elementCodename);\r\n    }\r\n\r\n    /**\r\n    * Gets 'Url' representation of query\r\n    */\r\n    getUrl(): string {\r\n        return super.getElementQueryUrl(this.typeCodename, this.elementCodename);\r\n    }\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\nimport { IDeliveryClientConfig } from '../../config';\r\nimport { ContentItem, Filters, ItemResponses, Parameters, SortOrder } from '../../models';\r\nimport { QueryService } from '../../services';\r\nimport { BaseItemQuery } from './base-item-query.class';\r\n\r\nexport class MultipleItemQuery<TItem extends ContentItem> extends BaseItemQuery<TItem, ItemResponses.ListContentItemsResponse<TItem>> {\r\n\r\n    constructor(\r\n        protected config: IDeliveryClientConfig,\r\n        protected queryService: QueryService\r\n    ) {\r\n        super(config, queryService);\r\n    }\r\n\r\n    /**\r\n     * Gets only item of given type\r\n     * @param type Codename of type to get\r\n     */\r\n    type(type: string): this {\r\n        this.parameters.push(new Filters.TypeFilter(type));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Gets items of given types (logical or)\r\n     * I.e. get items of either 'Actor' or 'Movie' type\r\n     * @param types Types to get\r\n     */\r\n    types(types: string[]): this {\r\n        this.parameters.push(new Filters.TypeFilter(types));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Equals filter condition\r\n     * @param element Element to filter. Example: 'elements.movie'\r\n     * @param value Value to match. Example: 'Kingsman'\r\n     */\r\n    equalsFilter(element: string, value: string): this {\r\n        this.parameters.push(new Filters.EqualsFilter(element, value));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * All filter\r\n     * @param element Element to filter.\r\n     * @param values Values\r\n     */\r\n    allFilter(element: string, values: string[]): this {\r\n        this.parameters.push(new Filters.AllFilter(element, values));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Any filter\r\n     * @param element Element to filter.\r\n     * @param values Values\r\n     */\r\n    anyFilter(element: string, values: string[]): this {\r\n        this.parameters.push(new Filters.AnyFilter(element, values));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Contains filter\r\n     * @param element Element to filter.\r\n     * @param values Values\r\n     */\r\n    containsFilter(element: string, values: string[]): this {\r\n        this.parameters.push(new Filters.ContainsFilter(element, values));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Greater then filter\r\n     * @param element Element to filter.\r\n     * @param value Value\r\n     */\r\n    greaterThanFilter(element: string, value: string): this {\r\n        this.parameters.push(new Filters.GreaterThanFilter(element, value));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Greater then or equals filter\r\n     * @param element Element to filter.\r\n     * @param value Value\r\n     */\r\n    greaterThanOrEqualFilter(element: string, value: string): this {\r\n        this.parameters.push(new Filters.GreaterThanOrEqualFilter(element, value));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * In filter\r\n     * @param element Element to filter.\r\n     * @param values Values\r\n     */\r\n    inFilter(element: string, values: string[]): this {\r\n        this.parameters.push(new Filters.InFilter(element, values));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Less then filter\r\n     * @param element Element to filter.\r\n     * @param value Value\r\n     */\r\n    lessThanFilter(element: string, value: string): this {\r\n        this.parameters.push(new Filters.LessThanFilter(element, value));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @param element Element to filter.\r\n     * @param value Value\r\n     */\r\n    lessThanOrEqualFilter(element: string, value: string): this {\r\n        this.parameters.push(new Filters.LessThanOrEqualFilter(element, value));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @param element Element to filter.\r\n     * @param lowerValue Lower value of range (e.g. 2)\r\n     * @param higherValue Higher value of range (e.g. 10)\r\n     */\r\n    rangeFilter(element: string, lowerValue: number, higherValue: number): this {\r\n        this.parameters.push(new Filters.RangeFilter(element, lowerValue, higherValue));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Limits the number of items returned by query\r\n     * @param limit Number of items to load\r\n     */\r\n    limitParameter(limit: number): this {\r\n        this.parameters.push(new Parameters.LimitParameter(limit));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Orders query based on given element and sort order\r\n     * @param element Element by which to order\r\n     * @param sortOrder Asc/Desc order type\r\n     */\r\n    orderParameter(element: string, sortOrder: SortOrder): this {\r\n        this.parameters.push(new Parameters.OrderParameter(element, sortOrder));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Sets descending order on given element\r\n     * @param element Element by which to order\r\n     */\r\n    orderByDescending(element: string): this {\r\n        this.parameters.push(new Parameters.OrderParameter(element, SortOrder.desc));\r\n        return this;\r\n    }\r\n\r\n      /**\r\n     * Sets Ascending order on given element\r\n     * @param element Element by which to order\r\n     */\r\n    orderByAscending(element: string): this {\r\n        this.parameters.push(new Parameters.OrderParameter(element, SortOrder.asc));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Skips the selected number of items\r\n     * @param skip Number of items to skip\r\n     */\r\n    skipParameter(skip: number): this {\r\n        this.parameters.push(new Parameters.SkipParameter(skip));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Gets the runnable Observable\r\n     */\r\n    toObservable(): Observable<ItemResponses.ListContentItemsResponse<TItem>> {\r\n        return super.runMultipleItemsQuery();\r\n    }\r\n\r\n    /**\r\n     * Gets 'Url' representation of query\r\n     */\r\n    getUrl(): string {\r\n        return super.getMultipleItemsQueryUrl();\r\n    }\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\nimport { IDeliveryClientConfig } from '../../config';\r\nimport { ContentItem, ItemResponses } from '../../models';\r\nimport { QueryService } from '../../services';\r\nimport { BaseItemQuery } from './base-item-query.class';\r\n\r\nexport class SingleItemQuery<TItem extends ContentItem> extends BaseItemQuery<TItem, ItemResponses.ViewContentItemResponse<TItem>> {\r\n\r\n    constructor(\r\n        protected config: IDeliveryClientConfig,\r\n        protected queryService: QueryService,\r\n        private codename: string\r\n    ) {\r\n        super(config, queryService);\r\n\r\n        if (!codename) {\r\n            throw Error(`'codename' has to be configured for 'SingleItemQuery' query`);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Gets the runnable Observable\r\n    */\r\n    toObservable(): Observable<ItemResponses.ViewContentItemResponse<TItem>> {\r\n        return super.runSingleItemQuery(this.codename);\r\n    }\r\n\r\n    /**\r\n    * Gets 'Url' representation of query\r\n    */\r\n    getUrl(): string {\r\n        return super.getSingleItemQueryUrl(this.codename);\r\n    }\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\nimport { IDeliveryClientConfig } from '../../config';\r\nimport { Parameters, TaxonomyResponses } from '../../models';\r\nimport { QueryService } from '../../services';\r\nimport { BaseTaxonomyQuery } from './base-taxonomy-query.class';\r\n\r\nexport class TaxonomiesQuery extends BaseTaxonomyQuery<TaxonomyResponses.ListTaxonomyGroupsResponse> {\r\n\r\n    constructor(\r\n        protected config: IDeliveryClientConfig,\r\n        protected queryService: QueryService\r\n    ) {\r\n        super(config, queryService);\r\n    }\r\n\r\n    /**\r\n    * Limits the number of taxonomies returned by query\r\n    * @param limit Number of taxonomies to load\r\n    */\r\n    limitParameter(limit: number): this {\r\n        this.parameters.push(new Parameters.LimitParameter(limit));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n    * Skips the selected number of taxonomies\r\n    * @param skip Number of taxonomies to skip\r\n    */\r\n    skipParameter(skip: number): this {\r\n        this.parameters.push(new Parameters.SkipParameter(skip));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n    * Gets the runnable Observable\r\n    */\r\n    toObservable(): Observable<TaxonomyResponses.ListTaxonomyGroupsResponse> {\r\n        return super.runTaxonomiesQuery();\r\n    }\r\n\r\n    // debug\r\n\r\n    /**\r\n    * Gets 'Url' representation of query\r\n    */\r\n    getUrl(): string {\r\n        return super.getTaxonomiesQueryUrl();\r\n    }\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\nimport { IDeliveryClientConfig } from '../../config';\r\nimport { TaxonomyResponses } from '../../models';\r\nimport { QueryService } from '../../services';\r\nimport { BaseTaxonomyQuery } from './base-taxonomy-query.class';\r\n\r\nexport class TaxonomyQuery extends BaseTaxonomyQuery<TaxonomyResponses.ViewTaxonomyGroupResponse> {\r\n\r\n    constructor(\r\n        protected config: IDeliveryClientConfig,\r\n        protected queryService: QueryService,\r\n        private taxonomyCodename: string\r\n    ) {\r\n        super(config, queryService);\r\n\r\n        if (!taxonomyCodename) {\r\n            throw Error(`Cannot create taxonomy query without codename of the taxonomy`);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Gets the runnable Observable\r\n    */\r\n    toObservable(): Observable<TaxonomyResponses.ViewTaxonomyGroupResponse> {\r\n        return super.runTaxonomyQuery(this.taxonomyCodename);\r\n    }\r\n\r\n    /**\r\n    * Gets 'Url' representation of query\r\n    */\r\n    getUrl(): string {\r\n        return super.getTaxonomyQueryUrl(this.taxonomyCodename);\r\n    }\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\nimport { IDeliveryClientConfig } from '../../config';\r\nimport { Parameters, TypeResponses } from '../../models';\r\nimport { QueryService } from '../../services';\r\nimport { BaseTypeQuery } from './base-type-query.class';\r\n\r\nexport class MultipleTypeQuery extends BaseTypeQuery<TypeResponses.ListContentTypesResponse> {\r\n\r\n    constructor(\r\n        protected config: IDeliveryClientConfig,\r\n        protected queryService: QueryService\r\n    ) {\r\n        super(config, queryService);\r\n    }\r\n\r\n    /**\r\n    * Limits the number of types returned by query\r\n    * @param limit Number of types to load\r\n    */\r\n    limitParameter(limit: number): this {\r\n        this.parameters.push(new Parameters.LimitParameter(limit));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Skips the selected number of types\r\n     * @param skip Number of types to skip\r\n     */\r\n    skipParameter(skip: number): this {\r\n        this.parameters.push(new Parameters.SkipParameter(skip));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n    * Gets the runnable Observable\r\n    */\r\n    toObservable(): Observable<TypeResponses.ListContentTypesResponse> {\r\n        return super.runMultipleTypesQuery();\r\n    }\r\n\r\n    /**\r\n    * Gets 'Url' representation of query\r\n    */\r\n    getUrl(): string {\r\n        return super.getMultipleTypesQueryUrl();\r\n    }\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\nimport { IDeliveryClientConfig } from '../../config';\r\nimport { TypeResponses } from '../../models';\r\nimport { QueryService } from '../../services';\r\nimport { BaseTypeQuery } from './base-type-query.class';\r\n\r\nexport class SingleTypeQuery extends BaseTypeQuery<TypeResponses.ViewContentTypeResponse> {\r\n\r\n    constructor(\r\n        protected config: IDeliveryClientConfig,\r\n        protected queryService: QueryService,\r\n        private typeCodename: string\r\n    ) {\r\n        super(config, queryService);\r\n\r\n        if (!typeCodename) {\r\n            throw Error(`Cannot create type query without the codename of the type`);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * Gets the runnable Observable\r\n    */\r\n    toObservable(): Observable<TypeResponses.ViewContentTypeResponse> {\r\n        return super.runSingleTypeQuery(this.typeCodename);\r\n    }\r\n\r\n    /**\r\n    * Gets 'Url' representation of query\r\n    */\r\n    getUrl(): string {\r\n        return super.getSingleTypeQueryUrl(this.typeCodename);\r\n    }\r\n}\r\n","import { IHttpService } from '@kentico/kontent-core';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { IDeliveryClientConfig } from '../config';\r\nimport { ElementContracts, ItemContracts, TaxonomyContracts, TypeContracts } from '../data-contracts';\r\nimport {\r\n  ContentItem,\r\n  ElementResponses,\r\n  IContentTypeQueryConfig,\r\n  IItemQueryConfig,\r\n  ITaxonomyQueryConfig,\r\n  ItemResponses,\r\n  TaxonomyResponses,\r\n  TypeResponses,\r\n} from '../models';\r\nimport { ISDKInfo } from '../models/common/common-models';\r\nimport { BaseDeliveryQueryService } from './base-delivery-query.service';\r\nimport { IMappingService } from './mapping.service';\r\n\r\nexport class QueryService extends BaseDeliveryQueryService {\r\n\r\n  constructor(\r\n    config: IDeliveryClientConfig,\r\n    httpService: IHttpService,\r\n    sdkInfo: ISDKInfo,\r\n    mappingService: IMappingService\r\n  ) {\r\n    super(config, httpService, sdkInfo, mappingService);\r\n  }\r\n\r\n  /**\r\n   * Gets single item from given url\r\n   * @param url Url used to get single item\r\n   * @param queryConfig Query configuration\r\n   */\r\n  getSingleItem<TItem extends ContentItem>(\r\n    url: string,\r\n    queryConfig: IItemQueryConfig\r\n  ): Observable<ItemResponses.ViewContentItemResponse<TItem>> {\r\n    return this.getResponse<ItemContracts.IViewContentItemContract>(url, queryConfig).pipe(\r\n      map(response => {\r\n        return this.mappingService.viewContentItemResponse<TItem>(\r\n          response,\r\n          queryConfig\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Gets multiple items from given url\r\n   * @param url Url used to get multiple items\r\n   * @param queryConfig Query configuration\r\n   */\r\n  getMultipleItems<TItem extends ContentItem>(\r\n    url: string,\r\n    queryConfig: IItemQueryConfig\r\n  ): Observable<ItemResponses.ListContentItemsResponse<TItem>> {\r\n    return this.getResponse<ItemContracts.IListContentItemsContract>(url, queryConfig).pipe(\r\n      map(response => {\r\n        return this.mappingService.listContentItemsResponse<TItem>(\r\n          response,\r\n          queryConfig\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Gets single content type from given url\r\n   * @param url Url used to get single type\r\n   * @param queryConfig Query configuration\r\n   */\r\n  getSingleType(\r\n    url: string,\r\n    queryConfig: IContentTypeQueryConfig\r\n  ): Observable<TypeResponses.ViewContentTypeResponse> {\r\n    return this.getResponse<TypeContracts.IViewContentTypeContract>(url, queryConfig).pipe(\r\n      map(response => {\r\n        return this.mappingService.viewContentTypeResponse(response);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Gets multiple content types from given url\r\n   * @param url Url used to get multiple types\r\n   * @param queryConfig Query configuration\r\n   */\r\n  getMultipleTypes(\r\n    url: string,\r\n    queryConfig: IContentTypeQueryConfig\r\n  ): Observable<TypeResponses.ListContentTypesResponse> {\r\n    return this.getResponse<TypeContracts.IListContentTypeContract>(url, queryConfig).pipe(\r\n      map(response => {\r\n        return this.mappingService.listContentTypesResponse(response);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Gets single taxonomy from given url\r\n   * @param url Url used to get single taxonomy\r\n   * @param queryConfig Query configuration\r\n   */\r\n  getTaxonomy(\r\n    url: string,\r\n    queryConfig: ITaxonomyQueryConfig\r\n  ): Observable<TaxonomyResponses.ViewTaxonomyGroupResponse> {\r\n    return this.getResponse<TaxonomyContracts.IViewTaxonomyGroupContract>(url, queryConfig).pipe(\r\n      map(response => {\r\n        return this.mappingService.viewTaxonomyGroupResponse(response);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Gets multiple taxonomies from given url\r\n   * @param url Url used to get multiple taxonomies\r\n   * @param queryConfig Query configuration\r\n   */\r\n  getTaxonomies(\r\n    url: string,\r\n    queryConfig: ITaxonomyQueryConfig\r\n  ): Observable<TaxonomyResponses.ListTaxonomyGroupsResponse> {\r\n    return this.getResponse<TaxonomyContracts.IListTaxonomyGroupsContract>(url, queryConfig).pipe(\r\n      map(response => {\r\n        return this.mappingService.listTaxonomyGroupsResponse(response);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Gets single content type element from given url\r\n   * @param url Url used to get single content type element\r\n   * @param queryConfig Query configuration\r\n   */\r\n  getElement(\r\n    url: string,\r\n    queryConfig: ITaxonomyQueryConfig\r\n  ): Observable<ElementResponses.ViewContentTypeElementResponse> {\r\n    return this.getResponse<ElementContracts.IViewContentTypeElementContract>(url, queryConfig).pipe(\r\n      map(response => {\r\n        return this.mappingService.viewContentTypeElementResponse(response);\r\n      })\r\n    );\r\n  }\r\n\r\n}\r\n","import {\r\n    BaseKontentError,\r\n    IBaseResponse,\r\n    IBaseResponseError,\r\n    IHeader,\r\n    IHttpService,\r\n    IQueryParameter,\r\n    mapBaseKontentError,\r\n    urlHelper,\r\n} from '@kentico/kontent-core';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nimport { IDeliveryClientConfig } from '../config';\r\nimport { IQueryConfig, ISDKInfo } from '../models/common/common-models';\r\nimport { IMappingService } from './mapping.service';\r\n\r\nexport abstract class BaseDeliveryQueryService {\r\n\r\n    /**\r\n    * Default number of retry attempts when user did not set any\r\n    */\r\n    private readonly defaultRetryAttempts: number = 3;\r\n\r\n    /**\r\n     * List of response codes that can be retried\r\n     */\r\n    private readonly defaultRetryStatusCodes: number[] = [500];\r\n\r\n    /**\r\n     * Header name for SDK usage\r\n     */\r\n    private readonly sdkVersionHeader: string = 'X-KC-SDKID';\r\n\r\n    /**\r\n     * Default base Url to Kentico Delivery API\r\n     */\r\n    private readonly defaultBaseDeliveryApiUrl: string =\r\n        'https://deliver.kontent.ai';\r\n\r\n    /**\r\n     * Default preview url to Kentico Delivery API\r\n     */\r\n    private readonly defaultPreviewDeliveryApiUrl: string =\r\n        'https://preview-deliver.kontent.ai';\r\n\r\n    /**\r\n     * Name of the header used when 'wait for loading new content' feature is used\r\n     */\r\n    private readonly waitForLoadingNewContentHeader: string =\r\n        'X-KC-Wait-For-Loading-New-Content';\r\n\r\n    constructor(\r\n        /**\r\n         * Delivery client configuration\r\n         */\r\n        protected readonly config: IDeliveryClientConfig,\r\n        /**\r\n         * Http service for fetching data\r\n         */\r\n        protected readonly httpService: IHttpService,\r\n        /**\r\n         * Information about the SDK\r\n         */\r\n        protected readonly sdkInfo: ISDKInfo,\r\n        /**\r\n         * Mapping service\r\n         */\r\n        protected readonly mappingService: IMappingService\r\n    ) {\r\n    }\r\n\r\n    retryPromise<T>(promise: Promise<T>): Promise<T> {\r\n        return this.httpService.retryPromise<T>(promise, {\r\n            maxRetryAttempts: this.getRetryAttempts(),\r\n            useRetryForResponseCodes: this.getRetryStatusCodes()\r\n        }, 1);\r\n    }\r\n\r\n    /**\r\n    * Gets url based on the action, query configuration and options (parameters)\r\n    * @param action Action (= url part) that will be hit\r\n    * @param queryConfig Query configuration\r\n    * @param options Query options\r\n    */\r\n    getUrl(\r\n        action: string,\r\n        queryConfig: IQueryConfig,\r\n        options?: IQueryParameter[]\r\n    ): string {\r\n        if (!this.config.proxy || !this.config.proxy.advancedProxyUrlResolver) {\r\n            return urlHelper.addOptionsToUrl(this.getBaseUrl(queryConfig) + action, options);\r\n        }\r\n        return this.config.proxy.advancedProxyUrlResolver({\r\n            queryParameters: options ? options : [],\r\n            queryString: urlHelper.addOptionsToUrl('', options),\r\n            action: action,\r\n            domain: this.getDomain(queryConfig),\r\n            queryConfig: queryConfig,\r\n            projectId: this.config.projectId\r\n        });\r\n    }\r\n\r\n    /**\r\n    * Gets proper set of headers for given request.\r\n    * @param queryConfig Query configuration\r\n    * @param customHeaders Custom headers\r\n    */\r\n    getHeaders(queryConfig: IQueryConfig): IHeader[] {\r\n        const headers: IHeader[] = [];\r\n\r\n        // add SDK Id header for monitoring SDK usage\r\n        headers.push(this.getSdkIdHeader());\r\n\r\n        // add headers from global config\r\n        if (this.config.globalHeaders) {\r\n            headers.push(...this.config.globalHeaders(queryConfig));\r\n        }\r\n\r\n        // add query / global headers from query config\r\n        headers.push(...this.getQueryHeaders(queryConfig));\r\n\r\n        if (\r\n            this.isPreviewModeEnabled(queryConfig) &&\r\n            this.isSecuredModeEnabled(queryConfig)\r\n        ) {\r\n            throw Error(`Preview & secured modes cannot be used at the same time.`);\r\n        }\r\n\r\n        // add preview header is required\r\n        if (this.isPreviewModeEnabled(queryConfig) && this.config.previewApiKey) {\r\n            headers.push(this.getAuthorizationHeader(this.config.previewApiKey));\r\n        }\r\n\r\n        // add secured mode header is required\r\n        if (this.isSecuredModeEnabled(queryConfig) && this.config.secureApiKey) {\r\n            headers.push(this.getAuthorizationHeader(this.config.secureApiKey));\r\n        }\r\n\r\n        // add 'X-KC-Wait-For-Loading-New-Content' header if required\r\n        if (this.shouldAddWaitForLoadingNewContentHeader(queryConfig)) {\r\n            headers.push({\r\n                header: this.waitForLoadingNewContentHeader,\r\n                value: 'true'\r\n            });\r\n        }\r\n\r\n        return headers;\r\n    }\r\n\r\n    /**\r\n     * Http GET response\r\n     * @param url Url of request\r\n     * @param queryConfig Query config configuration\r\n     */\r\n    protected getResponse<TRawData>(\r\n        url: string,\r\n        queryConfig?: IQueryConfig\r\n    ): Observable<IBaseResponse<TRawData>> {\r\n        if (!queryConfig) {\r\n            queryConfig = {};\r\n        }\r\n\r\n        return this.httpService\r\n            .get<BaseKontentError, TRawData>(\r\n                {\r\n                    url: url,\r\n                    mapError: error => mapBaseKontentError(error)\r\n                },\r\n                {\r\n                    headers: this.getHeaders(queryConfig),\r\n                    maxRetryAttempts: this.getRetryAttempts(),\r\n                    useRetryForResponseCodes: this.getRetryStatusCodes(),\r\n                    logErrorToConsole: this.config.isDeveloperMode\r\n                }\r\n            )\r\n            .pipe(\r\n                catchError((error: IBaseResponseError<BaseKontentError>) => {\r\n                    return throwError(error.mappedError);\r\n                })\r\n            );\r\n    }\r\n\r\n    /**\r\n    * Gets base URL of the request including the project Id\r\n    * @param queryConfig Query configuration\r\n    */\r\n    protected getBaseUrl(queryConfig: IQueryConfig): string {\r\n        return this.getDomain(queryConfig) + '/' + this.config.projectId;\r\n    }\r\n\r\n    /**\r\n    * Gets retry status code array\r\n    */\r\n    private getRetryStatusCodes(): number[] {\r\n        if (this.config.retryStatusCodes) {\r\n            return this.config.retryStatusCodes;\r\n        }\r\n\r\n        return this.defaultRetryStatusCodes;\r\n    }\r\n\r\n    /**\r\n    * Gets number of retry attempts used by queries\r\n    */\r\n    private getRetryAttempts(): number {\r\n        // get the attempts\r\n        let attempts: number;\r\n\r\n        if (this.config.retryAttempts || this.config.retryAttempts === 0) {\r\n            // use custom defined number of attempts\r\n            attempts = this.config.retryAttempts;\r\n        } else {\r\n            // use default attempts\r\n            attempts = this.defaultRetryAttempts;\r\n        }\r\n\r\n        return attempts;\r\n    }\r\n\r\n    /**\r\n    * Indicates if current query should use preview mode\r\n    * @param queryConfig Query configuration\r\n    */\r\n    private isPreviewModeEnabled(queryConfig: IQueryConfig): boolean {\r\n        if (queryConfig.usePreviewMode !== undefined) {\r\n            return queryConfig.usePreviewMode;\r\n        }\r\n\r\n        if (!this.config.globalQueryConfig) {\r\n            return false;\r\n        }\r\n\r\n        if (this.config.globalQueryConfig.usePreviewMode === true) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private getQueryHeaders(queryConfig: IQueryConfig): IHeader[] {\r\n        if (queryConfig.customHeaders) {\r\n            return queryConfig.customHeaders;\r\n        }\r\n\r\n        if (!this.config.globalQueryConfig || !this.config.globalQueryConfig.customHeaders) {\r\n            return [];\r\n        }\r\n        return this.config.globalQueryConfig.customHeaders;\r\n    }\r\n\r\n    private shouldAddWaitForLoadingNewContentHeader(queryConfig: IQueryConfig): boolean {\r\n        if (queryConfig.waitForLoadingNewContent !== undefined) {\r\n            return queryConfig.waitForLoadingNewContent;\r\n        }\r\n\r\n        if (!this.config.globalQueryConfig) {\r\n            return false;\r\n        }\r\n\r\n        if (this.config.globalQueryConfig.waitForLoadingNewContent === true) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n    * Indicates if current query should use secured mode\r\n    * @param queryConfig Query configuration\r\n    */\r\n    private isSecuredModeEnabled(queryConfig: IQueryConfig): boolean {\r\n        if (queryConfig.useSecuredMode !== undefined) {\r\n            return queryConfig.useSecuredMode;\r\n        }\r\n\r\n        if (!this.config.globalQueryConfig) {\r\n            return false;\r\n        }\r\n\r\n        if (this.config.globalQueryConfig.useSecuredMode === true) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n    * Gets preview or standard URL based on client and query configuration\r\n    * @param queryConfig Query configuration\r\n    */\r\n    private getDomain(queryConfig: IQueryConfig): string {\r\n        if (this.isPreviewModeEnabled(queryConfig)) {\r\n            if (!this.config.previewApiKey) {\r\n                throw Error(\r\n                    `Preview API key is not configured.`\r\n                );\r\n            }\r\n\r\n            // check custom preview url\r\n            if (this.config.proxy && this.config.proxy.basePreviewUrl) {\r\n                return this.config.proxy.basePreviewUrl;\r\n            }\r\n\r\n            // use default preview url\r\n            return this.defaultPreviewDeliveryApiUrl;\r\n        }\r\n\r\n        // check custom base url\r\n        if (this.config.proxy && this.config.proxy.baseUrl) {\r\n            return this.config.proxy.baseUrl;\r\n        }\r\n        return this.defaultBaseDeliveryApiUrl;\r\n    }\r\n\r\n    /**\r\n    * Gets authorization header. This is used for 'preview' functionality\r\n    */\r\n    private getAuthorizationHeader(key?: string): IHeader {\r\n        if (!key) {\r\n            throw Error(`Cannot get authorization header because key is invalid`);\r\n        }\r\n        // authorization header required for preview mode\r\n        return {\r\n            header: 'authorization',\r\n            value: `bearer ${key}`\r\n        };\r\n    }\r\n\r\n    /**\r\n    * Header identifying SDK type & version for internal purposes of Kentico\r\n    */\r\n    private getSdkIdHeader(): IHeader {\r\n        return {\r\n            header: this.sdkVersionHeader,\r\n            value: `${this.sdkInfo.host};${this.sdkInfo.name};${this.sdkInfo.version}`\r\n        };\r\n    }\r\n\r\n}\r\n","import { IBaseResponse } from '@kentico/kontent-core';\r\n\r\nimport { IDeliveryClientConfig } from '../config';\r\nimport { ElementContracts, ItemContracts, TaxonomyContracts, TypeContracts } from '../data-contracts';\r\nimport { GenericElementMapper, ItemMapper, TaxonomyMapper, TypeMapper } from '../mappers';\r\nimport {\r\n    ElementResponses,\r\n    IKontentResponseDebug,\r\n    IContentItem,\r\n    IItemQueryConfig,\r\n    ItemResponses,\r\n    Pagination,\r\n    TaxonomyResponses,\r\n    TypeResponses,\r\n} from '../models';\r\nimport { IRichTextHtmlParser } from '../parser';\r\n\r\nexport interface IMappingService {\r\n    listContentTypesResponse(\r\n        response: IBaseResponse<TypeContracts.IListContentTypeContract>\r\n    ): TypeResponses.ListContentTypesResponse;\r\n\r\n    viewContentTypeResponse(\r\n        response: IBaseResponse<TypeContracts.IViewContentTypeContract>\r\n    ): TypeResponses.ViewContentTypeResponse;\r\n\r\n    viewContentItemResponse<TItem extends IContentItem = IContentItem>(\r\n        response: IBaseResponse<ItemContracts.IViewContentItemContract>,\r\n        queryConfig: IItemQueryConfig\r\n    ): ItemResponses.ViewContentItemResponse<TItem>;\r\n\r\n    listContentItemsResponse<TItem extends IContentItem = IContentItem>(\r\n        response: IBaseResponse<ItemContracts.IListContentItemsContract>,\r\n        queryConfig: IItemQueryConfig\r\n    ): ItemResponses.ListContentItemsResponse<TItem>;\r\n\r\n    viewTaxonomyGroupResponse(\r\n        response: IBaseResponse<TaxonomyContracts.IViewTaxonomyGroupContract>\r\n    ): TaxonomyResponses.ViewTaxonomyGroupResponse;\r\n\r\n    listTaxonomyGroupsResponse(\r\n        response: IBaseResponse<TaxonomyContracts.IListTaxonomyGroupsContract>\r\n    ): TaxonomyResponses.ListTaxonomyGroupsResponse;\r\n\r\n    viewContentTypeElementResponse(\r\n        response: IBaseResponse<ElementContracts.IViewContentTypeElementContract>\r\n    ): ElementResponses.ViewContentTypeElementResponse;\r\n\r\n    mapResponseDebug(response: IBaseResponse<any>): IKontentResponseDebug;\r\n}\r\n\r\nexport class MappingService implements IMappingService {\r\n    private readonly typeMapper: TypeMapper;\r\n    private readonly itemMapper: ItemMapper;\r\n    private readonly taxonomyMapper: TaxonomyMapper;\r\n    private readonly genericElementMapper: GenericElementMapper;\r\n\r\n    constructor(\r\n        readonly config: IDeliveryClientConfig,\r\n        readonly richTextHtmlParser: IRichTextHtmlParser\r\n    ) {\r\n        this.typeMapper = new TypeMapper();\r\n        this.itemMapper = new ItemMapper(config, richTextHtmlParser);\r\n        this.taxonomyMapper = new TaxonomyMapper();\r\n        this.genericElementMapper = new GenericElementMapper();\r\n    }\r\n\r\n    /**\r\n     * Gets response for getting a single type\r\n     * @param response Response data\r\n     */\r\n    listContentTypesResponse(\r\n        response: IBaseResponse<TypeContracts.IListContentTypeContract>\r\n    ): TypeResponses.ListContentTypesResponse {\r\n\r\n        // map types\r\n        const types = this.typeMapper.mapMultipleTypes(response.data);\r\n\r\n        // pagination\r\n        const pagination: Pagination = new Pagination({\r\n            skip: response.data.pagination.skip,\r\n            count: response.data.pagination.count,\r\n            limit: response.data.pagination.limit,\r\n            nextPage: response.data.pagination.next_page\r\n        });\r\n\r\n        return new TypeResponses.ListContentTypesResponse(\r\n            types,\r\n            pagination,\r\n            this.mapResponseDebug(response)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Gets resposne for getting multiple types\r\n     * @param response Response data\r\n     * @param options Options\r\n     */\r\n    viewContentTypeResponse(\r\n        response: IBaseResponse<TypeContracts.IViewContentTypeContract>\r\n    ): TypeResponses.ViewContentTypeResponse {\r\n\r\n        // map type\r\n        const type = this.typeMapper.mapSingleType(response.data);\r\n\r\n        return new TypeResponses.ViewContentTypeResponse(\r\n            type,\r\n            this.mapResponseDebug(response)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Gets response for getting single item\r\n     * @param response Response data\r\n     * @param queryConfig Query configuration\r\n     */\r\n    viewContentItemResponse<TItem extends IContentItem = IContentItem>(\r\n        response: IBaseResponse<ItemContracts.IViewContentItemContract>,\r\n        queryConfig: IItemQueryConfig\r\n    ): ItemResponses.ViewContentItemResponse<TItem> {\r\n\r\n        // map item\r\n        const itemResult = this.itemMapper.mapSingleItem<TItem>(\r\n            response.data,\r\n            queryConfig\r\n        );\r\n\r\n        return new ItemResponses.ViewContentItemResponse<TItem>(\r\n            itemResult.item,\r\n            itemResult.processedItems,\r\n            this.mapResponseDebug(response)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Gets response for getting multiple items\r\n     * @param response Response data\r\n     * @param queryConfig Query configuration\r\n     */\r\n    listContentItemsResponse<TItem extends IContentItem = IContentItem>(\r\n        response: IBaseResponse<ItemContracts.IListContentItemsContract>,\r\n        queryConfig: IItemQueryConfig\r\n    ): ItemResponses.ListContentItemsResponse<TItem> {\r\n\r\n        // map items\r\n        const itemsResult = this.itemMapper.mapMultipleItems<TItem>(\r\n            response.data,\r\n            queryConfig\r\n        );\r\n\r\n        // pagination\r\n        const pagination: Pagination = new Pagination({\r\n            skip: response.data.pagination.skip,\r\n            count: response.data.pagination.count,\r\n            limit: response.data.pagination.limit,\r\n            nextPage: response.data.pagination.next_page\r\n        });\r\n\r\n        return new ItemResponses.ListContentItemsResponse<TItem>(\r\n            itemsResult.items,\r\n            pagination,\r\n            itemsResult.processedItems,\r\n            this.mapResponseDebug(response)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Gets response for getting single taxonomy item\r\n     * @param response Response data\r\n     */\r\n    viewTaxonomyGroupResponse(\r\n        response: IBaseResponse<TaxonomyContracts.IViewTaxonomyGroupContract>\r\n    ): TaxonomyResponses.ViewTaxonomyGroupResponse {\r\n\r\n        // map taxonomy\r\n        const taxonomy = this.taxonomyMapper.mapTaxonomy(\r\n            response.data.system,\r\n            response.data.terms\r\n        );\r\n\r\n        return new TaxonomyResponses.ViewTaxonomyGroupResponse(\r\n            taxonomy,\r\n            this.mapResponseDebug(response)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Gets response for getting multiples taxonomies\r\n     * @param response Response data\r\n     */\r\n    listTaxonomyGroupsResponse(\r\n        response: IBaseResponse<TaxonomyContracts.IListTaxonomyGroupsContract>\r\n    ): TaxonomyResponses.ListTaxonomyGroupsResponse {\r\n\r\n        // map taxonomies\r\n        const taxonomies = this.taxonomyMapper.mapTaxonomies(\r\n            response.data.taxonomies\r\n        );\r\n\r\n        // pagination\r\n        const pagination: Pagination = new Pagination({\r\n            skip: response.data.pagination.skip,\r\n            count: response.data.pagination.count,\r\n            limit: response.data.pagination.limit,\r\n            nextPage: response.data.pagination.next_page\r\n        });\r\n\r\n        return new TaxonomyResponses.ListTaxonomyGroupsResponse(\r\n            taxonomies,\r\n            pagination,\r\n            this.mapResponseDebug(response)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Gets response for getting single content type element\r\n     * @param response Response data\r\n     */\r\n    viewContentTypeElementResponse(\r\n        response: IBaseResponse<ElementContracts.IViewContentTypeElementContract>\r\n    ): ElementResponses.ViewContentTypeElementResponse {\r\n\r\n        // map element\r\n        const element = this.genericElementMapper.mapElement(response.data);\r\n\r\n        return new ElementResponses.ViewContentTypeElementResponse(\r\n            element,\r\n            this.mapResponseDebug(response)\r\n        );\r\n    }\r\n\r\n    mapResponseDebug(response: IBaseResponse<any>): IKontentResponseDebug {\r\n        if (!response) {\r\n            throw Error(`Cannot map 'debug' model from the response`);\r\n        }\r\n\r\n        return {\r\n            response: response.response\r\n        };\r\n    }\r\n}\r\n","import { ElementCollisionResolver } from '../models/item/item-resolvers';\r\n\r\nexport const defaultCollissionResolver: ElementCollisionResolver = (elementName) => `_${elementName}`;\r\n","import 'reflect-metadata';\r\n\r\nexport namespace ElementDecorators {\r\n  const codenameMetadataKey = Symbol('codename');\r\n\r\n  const generateKey = (name: string) => `${codenameMetadataKey.toString()}:${name}`;\r\n\r\n  /**\r\n   * Get the metadata entry saved by the decorator\r\n   * @param target - object instance\r\n   * @param elementName - Element name (code name from Kentico Kontent)\r\n   */\r\n  export function getPropertyName(target: any, elementName: string): any | undefined {\r\n    return Reflect.getMetadata(generateKey(elementName), target);\r\n  }\r\n\r\n  /**\r\n   * Decorator - creates metadata entry for the @target - Value is the property name.\r\n   * This will then be retrieved when resolving the element name\r\n   * @param value - Element code name\r\n   */\r\n  export function codename(value: string): (target: any, propertyKey: string) => void {\r\n    return function (target: any, propertyKey: string) {\r\n      Reflect.defineMetadata(generateKey(value), propertyKey, target);\r\n    };\r\n  }\r\n}\r\n","/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n    // Metadata Proposal\n    // https://rbuckton.github.io/reflect-metadata/\n    (function (factory) {\n        var root = typeof global === \"object\" ? global :\n            typeof self === \"object\" ? self :\n                typeof this === \"object\" ? this :\n                    Function(\"return this;\")();\n        var exporter = makeExporter(Reflect);\n        if (typeof root.Reflect === \"undefined\") {\n            root.Reflect = Reflect;\n        }\n        else {\n            exporter = makeExporter(root.Reflect, exporter);\n        }\n        factory(exporter);\n        function makeExporter(target, previous) {\n            return function (key, value) {\n                if (typeof target[key] !== \"function\") {\n                    Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                }\n                if (previous)\n                    previous(key, value);\n            };\n        }\n    })(function (exporter) {\n        var hasOwn = Object.prototype.hasOwnProperty;\n        // feature test for Symbol support\n        var supportsSymbol = typeof Symbol === \"function\";\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n        var downLevel = !supportsCreate && !supportsProto;\n        var HashMap = {\n            // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n            create: supportsCreate\n                ? function () { return MakeDictionary(Object.create(null)); }\n                : supportsProto\n                    ? function () { return MakeDictionary({ __proto__: null }); }\n                    : function () { return MakeDictionary({}); },\n            has: downLevel\n                ? function (map, key) { return hasOwn.call(map, key); }\n                : function (map, key) { return key in map; },\n            get: downLevel\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                : function (map, key) { return map[key]; },\n        };\n        // Load global or shim versions of Map, Set, and WeakMap\n        var functionPrototype = Object.getPrototypeOf(Function);\n        var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\n        var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n        var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n        var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n        // [[Metadata]] internal slot\n        // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n        var Metadata = new _WeakMap();\n        /**\n         * Applies a set of decorators to a property of a target object.\n         * @param decorators An array of decorators.\n         * @param target The target object.\n         * @param propertyKey (Optional) The property key to decorate.\n         * @param attributes (Optional) The property descriptor for the target key.\n         * @remarks Decorators are applied in reverse order.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Example = Reflect.decorate(decoratorsArray, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Object.defineProperty(Example, \"staticMethod\",\n         *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n         *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n         *\n         *     // method (on prototype)\n         *     Object.defineProperty(Example.prototype, \"method\",\n         *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n         *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n         *\n         */\n        function decorate(decorators, target, propertyKey, attributes) {\n            if (!IsUndefined(propertyKey)) {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                    throw new TypeError();\n                if (IsNull(attributes))\n                    attributes = undefined;\n                propertyKey = ToPropertyKey(propertyKey);\n                return DecorateProperty(decorators, target, propertyKey, attributes);\n            }\n            else {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsConstructor(target))\n                    throw new TypeError();\n                return DecorateConstructor(decorators, target);\n            }\n        }\n        exporter(\"decorate\", decorate);\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n        /**\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\n         * @param metadataKey The key for the metadata entry.\n         * @param metadataValue The value for the metadata entry.\n         * @returns A decorator function.\n         * @remarks\n         * If `metadataKey` is already defined for the target and target key, the\n         * metadataValue for that key will be overwritten.\n         * @example\n         *\n         *     // constructor\n         *     @Reflect.metadata(key, value)\n         *     class Example {\n         *     }\n         *\n         *     // property (on constructor, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticProperty;\n         *     }\n         *\n         *     // property (on prototype, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         property;\n         *     }\n         *\n         *     // method (on constructor)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticMethod() { }\n         *     }\n         *\n         *     // method (on prototype)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         method() { }\n         *     }\n         *\n         */\n        function metadata(metadataKey, metadataValue) {\n            function decorator(target, propertyKey) {\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                    throw new TypeError();\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n            }\n            return decorator;\n        }\n        exporter(\"metadata\", metadata);\n        /**\n         * Define a unique metadata entry on the target.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param metadataValue A value that contains attached metadata.\n         * @param target The target object on which to define metadata.\n         * @param propertyKey (Optional) The property key for the target.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n         *\n         *     // decorator factory as metadata-producing annotation.\n         *     function MyAnnotation(options): Decorator {\n         *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n         *     }\n         *\n         */\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n        }\n        exporter(\"defineMetadata\", defineMetadata);\n        /**\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasMetadata\", hasMetadata);\n        /**\n         * Gets a value indicating whether the target object has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasOwnMetadata\", hasOwnMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getMetadata\", getMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getOwnMetadata\", getOwnMetadata);\n        /**\n         * Gets the metadata keys defined on the target object or its prototype chain.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getMetadataKeys\", getMetadataKeys);\n        /**\n         * Gets the unique metadata keys defined on the target object.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n        /**\n         * Deletes the metadata entry from the target object with the provided key.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function deleteMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            if (!metadataMap.delete(metadataKey))\n                return false;\n            if (metadataMap.size > 0)\n                return true;\n            var targetMetadata = Metadata.get(target);\n            targetMetadata.delete(propertyKey);\n            if (targetMetadata.size > 0)\n                return true;\n            Metadata.delete(target);\n            return true;\n        }\n        exporter(\"deleteMetadata\", deleteMetadata);\n        function DecorateConstructor(decorators, target) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsConstructor(decorated))\n                        throw new TypeError();\n                    target = decorated;\n                }\n            }\n            return target;\n        }\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target, propertyKey, descriptor);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsObject(decorated))\n                        throw new TypeError();\n                    descriptor = decorated;\n                }\n            }\n            return descriptor;\n        }\n        function GetOrCreateMetadataMap(O, P, Create) {\n            var targetMetadata = Metadata.get(O);\n            if (IsUndefined(targetMetadata)) {\n                if (!Create)\n                    return undefined;\n                targetMetadata = new _Map();\n                Metadata.set(O, targetMetadata);\n            }\n            var metadataMap = targetMetadata.get(P);\n            if (IsUndefined(metadataMap)) {\n                if (!Create)\n                    return undefined;\n                metadataMap = new _Map();\n                targetMetadata.set(P, metadataMap);\n            }\n            return metadataMap;\n        }\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return true;\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\n            return false;\n        }\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            return ToBoolean(metadataMap.has(MetadataKey));\n        }\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\n            return undefined;\n        }\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return undefined;\n            return metadataMap.get(MetadataKey);\n        }\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n            metadataMap.set(MetadataKey, MetadataValue);\n        }\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n        function OrdinaryMetadataKeys(O, P) {\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (parent === null)\n                return ownKeys;\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\n            if (parentKeys.length <= 0)\n                return ownKeys;\n            if (ownKeys.length <= 0)\n                return parentKeys;\n            var set = new _Set();\n            var keys = [];\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                var key = ownKeys_1[_i];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                var key = parentKeys_1[_a];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            return keys;\n        }\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n        function OrdinaryOwnMetadataKeys(O, P) {\n            var keys = [];\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return keys;\n            var keysObj = metadataMap.keys();\n            var iterator = GetIterator(keysObj);\n            var k = 0;\n            while (true) {\n                var next = IteratorStep(iterator);\n                if (!next) {\n                    keys.length = k;\n                    return keys;\n                }\n                var nextValue = IteratorValue(next);\n                try {\n                    keys[k] = nextValue;\n                }\n                catch (e) {\n                    try {\n                        IteratorClose(iterator);\n                    }\n                    finally {\n                        throw e;\n                    }\n                }\n                k++;\n            }\n        }\n        // 6 ECMAScript Data Typ0es and Values\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n        function Type(x) {\n            if (x === null)\n                return 1 /* Null */;\n            switch (typeof x) {\n                case \"undefined\": return 0 /* Undefined */;\n                case \"boolean\": return 2 /* Boolean */;\n                case \"string\": return 3 /* String */;\n                case \"symbol\": return 4 /* Symbol */;\n                case \"number\": return 5 /* Number */;\n                case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                default: return 6 /* Object */;\n            }\n        }\n        // 6.1.1 The Undefined Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n        function IsUndefined(x) {\n            return x === undefined;\n        }\n        // 6.1.2 The Null Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n        function IsNull(x) {\n            return x === null;\n        }\n        // 6.1.5 The Symbol Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n        function IsSymbol(x) {\n            return typeof x === \"symbol\";\n        }\n        // 6.1.7 The Object Type\n        // https://tc39.github.io/ecma262/#sec-object-type\n        function IsObject(x) {\n            return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n        }\n        // 7.1 Type Conversion\n        // https://tc39.github.io/ecma262/#sec-type-conversion\n        // 7.1.1 ToPrimitive(input [, PreferredType])\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        function ToPrimitive(input, PreferredType) {\n            switch (Type(input)) {\n                case 0 /* Undefined */: return input;\n                case 1 /* Null */: return input;\n                case 2 /* Boolean */: return input;\n                case 3 /* String */: return input;\n                case 4 /* Symbol */: return input;\n                case 5 /* Number */: return input;\n            }\n            var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n            if (exoticToPrim !== undefined) {\n                var result = exoticToPrim.call(input, hint);\n                if (IsObject(result))\n                    throw new TypeError();\n                return result;\n            }\n            return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n        }\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n        function OrdinaryToPrimitive(O, hint) {\n            if (hint === \"string\") {\n                var toString_1 = O.toString;\n                if (IsCallable(toString_1)) {\n                    var result = toString_1.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            else {\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var toString_2 = O.toString;\n                if (IsCallable(toString_2)) {\n                    var result = toString_2.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            throw new TypeError();\n        }\n        // 7.1.2 ToBoolean(argument)\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\n        function ToBoolean(argument) {\n            return !!argument;\n        }\n        // 7.1.12 ToString(argument)\n        // https://tc39.github.io/ecma262/#sec-tostring\n        function ToString(argument) {\n            return \"\" + argument;\n        }\n        // 7.1.14 ToPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-topropertykey\n        function ToPropertyKey(argument) {\n            var key = ToPrimitive(argument, 3 /* String */);\n            if (IsSymbol(key))\n                return key;\n            return ToString(key);\n        }\n        // 7.2 Testing and Comparison Operations\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n        // 7.2.2 IsArray(argument)\n        // https://tc39.github.io/ecma262/#sec-isarray\n        function IsArray(argument) {\n            return Array.isArray\n                ? Array.isArray(argument)\n                : argument instanceof Object\n                    ? argument instanceof Array\n                    : Object.prototype.toString.call(argument) === \"[object Array]\";\n        }\n        // 7.2.3 IsCallable(argument)\n        // https://tc39.github.io/ecma262/#sec-iscallable\n        function IsCallable(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.4 IsConstructor(argument)\n        // https://tc39.github.io/ecma262/#sec-isconstructor\n        function IsConstructor(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.7 IsPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\n        function IsPropertyKey(argument) {\n            switch (Type(argument)) {\n                case 3 /* String */: return true;\n                case 4 /* Symbol */: return true;\n                default: return false;\n            }\n        }\n        // 7.3 Operations on Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\n        // 7.3.9 GetMethod(V, P)\n        // https://tc39.github.io/ecma262/#sec-getmethod\n        function GetMethod(V, P) {\n            var func = V[P];\n            if (func === undefined || func === null)\n                return undefined;\n            if (!IsCallable(func))\n                throw new TypeError();\n            return func;\n        }\n        // 7.4 Operations on Iterator Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n        function GetIterator(obj) {\n            var method = GetMethod(obj, iteratorSymbol);\n            if (!IsCallable(method))\n                throw new TypeError(); // from Call\n            var iterator = method.call(obj);\n            if (!IsObject(iterator))\n                throw new TypeError();\n            return iterator;\n        }\n        // 7.4.4 IteratorValue(iterResult)\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n        function IteratorValue(iterResult) {\n            return iterResult.value;\n        }\n        // 7.4.5 IteratorStep(iterator)\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\n        function IteratorStep(iterator) {\n            var result = iterator.next();\n            return result.done ? false : result;\n        }\n        // 7.4.6 IteratorClose(iterator, completion)\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\n        function IteratorClose(iterator) {\n            var f = iterator[\"return\"];\n            if (f)\n                f.call(iterator);\n        }\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n        function OrdinaryGetPrototypeOf(O) {\n            var proto = Object.getPrototypeOf(O);\n            if (typeof O !== \"function\" || O === functionPrototype)\n                return proto;\n            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n            // Try to determine the superclass constructor. Compatible implementations\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\n            // or ensure each class has a valid `constructor` property on its prototype that\n            // points back to the constructor.\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\n            if (proto !== functionPrototype)\n                return proto;\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n            var prototype = O.prototype;\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n            if (prototypeProto == null || prototypeProto === Object.prototype)\n                return proto;\n            // If the constructor was not a function, then we cannot determine the heritage.\n            var constructor = prototypeProto.constructor;\n            if (typeof constructor !== \"function\")\n                return proto;\n            // If we have some kind of self-reference, then we cannot determine the heritage.\n            if (constructor === O)\n                return proto;\n            // we have a pretty good guess at the heritage.\n            return constructor;\n        }\n        // naive Map shim\n        function CreateMapPolyfill() {\n            var cacheSentinel = {};\n            var arraySentinel = [];\n            var MapIterator = /** @class */ (function () {\n                function MapIterator(keys, values, selector) {\n                    this._index = 0;\n                    this._keys = keys;\n                    this._values = values;\n                    this._selector = selector;\n                }\n                MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                MapIterator.prototype.next = function () {\n                    var index = this._index;\n                    if (index >= 0 && index < this._keys.length) {\n                        var result = this._selector(this._keys[index], this._values[index]);\n                        if (index + 1 >= this._keys.length) {\n                            this._index = -1;\n                            this._keys = arraySentinel;\n                            this._values = arraySentinel;\n                        }\n                        else {\n                            this._index++;\n                        }\n                        return { value: result, done: false };\n                    }\n                    return { value: undefined, done: true };\n                };\n                MapIterator.prototype.throw = function (error) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    throw error;\n                };\n                MapIterator.prototype.return = function (value) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    return { value: value, done: true };\n                };\n                return MapIterator;\n            }());\n            return /** @class */ (function () {\n                function Map() {\n                    this._keys = [];\n                    this._values = [];\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                }\n                Object.defineProperty(Map.prototype, \"size\", {\n                    get: function () { return this._keys.length; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                Map.prototype.get = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    return index >= 0 ? this._values[index] : undefined;\n                };\n                Map.prototype.set = function (key, value) {\n                    var index = this._find(key, /*insert*/ true);\n                    this._values[index] = value;\n                    return this;\n                };\n                Map.prototype.delete = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    if (index >= 0) {\n                        var size = this._keys.length;\n                        for (var i = index + 1; i < size; i++) {\n                            this._keys[i - 1] = this._keys[i];\n                            this._values[i - 1] = this._values[i];\n                        }\n                        this._keys.length--;\n                        this._values.length--;\n                        if (key === this._cacheKey) {\n                            this._cacheKey = cacheSentinel;\n                            this._cacheIndex = -2;\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                Map.prototype.clear = function () {\n                    this._keys.length = 0;\n                    this._values.length = 0;\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                };\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                Map.prototype._find = function (key, insert) {\n                    if (this._cacheKey !== key) {\n                        this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n                    }\n                    if (this._cacheIndex < 0 && insert) {\n                        this._cacheIndex = this._keys.length;\n                        this._keys.push(key);\n                        this._values.push(undefined);\n                    }\n                    return this._cacheIndex;\n                };\n                return Map;\n            }());\n            function getKey(key, _) {\n                return key;\n            }\n            function getValue(_, value) {\n                return value;\n            }\n            function getEntry(key, value) {\n                return [key, value];\n            }\n        }\n        // naive Set shim\n        function CreateSetPolyfill() {\n            return /** @class */ (function () {\n                function Set() {\n                    this._map = new _Map();\n                }\n                Object.defineProperty(Set.prototype, \"size\", {\n                    get: function () { return this._map.size; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Set.prototype.has = function (value) { return this._map.has(value); };\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\n                Set.prototype.clear = function () { this._map.clear(); };\n                Set.prototype.keys = function () { return this._map.keys(); };\n                Set.prototype.values = function () { return this._map.values(); };\n                Set.prototype.entries = function () { return this._map.entries(); };\n                Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                return Set;\n            }());\n        }\n        // naive WeakMap shim\n        function CreateWeakMapPolyfill() {\n            var UUID_SIZE = 16;\n            var keys = HashMap.create();\n            var rootKey = CreateUniqueKey();\n            return /** @class */ (function () {\n                function WeakMap() {\n                    this._key = CreateUniqueKey();\n                }\n                WeakMap.prototype.has = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\n                };\n                WeakMap.prototype.get = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                };\n                WeakMap.prototype.set = function (target, value) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                    table[this._key] = value;\n                    return this;\n                };\n                WeakMap.prototype.delete = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? delete table[this._key] : false;\n                };\n                WeakMap.prototype.clear = function () {\n                    // NOTE: not a real clear, just makes the previous data unreachable\n                    this._key = CreateUniqueKey();\n                };\n                return WeakMap;\n            }());\n            function CreateUniqueKey() {\n                var key;\n                do\n                    key = \"@@WeakMap@@\" + CreateUUID();\n                while (HashMap.has(keys, key));\n                keys[key] = true;\n                return key;\n            }\n            function GetOrCreateWeakMapTable(target, create) {\n                if (!hasOwn.call(target, rootKey)) {\n                    if (!create)\n                        return undefined;\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                }\n                return target[rootKey];\n            }\n            function FillRandomBytes(buffer, size) {\n                for (var i = 0; i < size; ++i)\n                    buffer[i] = Math.random() * 0xff | 0;\n                return buffer;\n            }\n            function GenRandomBytes(size) {\n                if (typeof Uint8Array === \"function\") {\n                    if (typeof crypto !== \"undefined\")\n                        return crypto.getRandomValues(new Uint8Array(size));\n                    if (typeof msCrypto !== \"undefined\")\n                        return msCrypto.getRandomValues(new Uint8Array(size));\n                    return FillRandomBytes(new Uint8Array(size), size);\n                }\n                return FillRandomBytes(new Array(size), size);\n            }\n            function CreateUUID() {\n                var data = GenRandomBytes(UUID_SIZE);\n                // mark as random - RFC 4122  4.4\n                data[6] = data[6] & 0x4f | 0x40;\n                data[8] = data[8] & 0xbf | 0x80;\n                var result = \"\";\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                    var byte = data[offset];\n                    if (offset === 4 || offset === 6 || offset === 8)\n                        result += \"-\";\n                    if (byte < 16)\n                        result += \"0\";\n                    result += byte.toString(16).toLowerCase();\n                }\n                return result;\n            }\n        }\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n        function MakeDictionary(obj) {\n            obj.__ = undefined;\n            delete obj.__;\n            return obj;\n        }\n    });\n})(Reflect || (Reflect = {}));\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { Link, RichTextImage } from '..';\r\nimport { ElementContracts } from '../data-contracts';\r\nimport { IContentItem } from '../models';\r\nimport { ElementModels } from './element-models';\r\nimport { ElementType } from './element-type';\r\n\r\nexport namespace Elements {\r\n    abstract class BaseElement<TValue> implements ElementModels.IElement<TValue> {\r\n        /**\r\n         * Element name\r\n         */\r\n        public name: string;\r\n\r\n        /**\r\n         * Element type\r\n         */\r\n        public type: ElementType;\r\n\r\n        /**\r\n         * Raw element value (from JSON response)\r\n         */\r\n        public rawData: ElementContracts.IElementContract;\r\n\r\n        /**\r\n         * Mapped value of element.\r\n         * For example, value for number elements are converted to number javascript type\r\n         */\r\n        public abstract value: TValue;\r\n\r\n        constructor(data: { elementWrapper: ElementModels.IElementWrapper; elementType: ElementType }) {\r\n            this.rawData = data.elementWrapper.rawElement;\r\n            this.name = data.elementWrapper.rawElement.name;\r\n            this.type = data.elementType;\r\n        }\r\n    }\r\n\r\n    export class TextElement extends BaseElement<string> {\r\n        /**\r\n         * Text value\r\n         */\r\n        public value: string;\r\n\r\n        /**\r\n         * Represents text element of Kentico Kontent item\r\n         * @param {ElementModels.IElementWrapper} elementWrapper - Element data\r\n         */\r\n        constructor(elementWrapper: ElementModels.IElementWrapper) {\r\n            super({\r\n                elementType: ElementType.Text,\r\n                elementWrapper: elementWrapper\r\n            });\r\n\r\n            this.value = elementWrapper.rawElement.value;\r\n        }\r\n    }\r\n\r\n    export class LinkedItemsElement<TItem = IContentItem> extends BaseElement<TItem[]> {\r\n        /**\r\n         * Mapped linked items - contains only those items which are present in 'modular_content' section\r\n         * of the response which depends on the 'depth' of the query request.\r\n         * Codenames of all linked items are stored in 'itemCodenames' property.\r\n         */\r\n        public value: TItem[];\r\n\r\n        public itemCodenames: string[];\r\n\r\n        /**\r\n         * Represents text element of Kentico Kontent item\r\n         * @param {ElementModels.IElementWrapper} elementWrapper - Element data\r\n         * @param {IContentItem} mappedLinkedItems - Array of mapped linked items\r\n         */\r\n        constructor(elementWrapper: ElementModels.IElementWrapper, mappedLinkedItems: TItem[]) {\r\n            super({\r\n                elementType: ElementType.ModularContent,\r\n                elementWrapper: elementWrapper\r\n            });\r\n\r\n            this.itemCodenames = elementWrapper.rawElement.value;\r\n            this.value = mappedLinkedItems;\r\n        }\r\n    }\r\n\r\n    export class MultipleChoiceElement extends BaseElement<ElementModels.MultipleChoiceOption[]> {\r\n        /**\r\n         * Multiple choice options\r\n         */\r\n        public value: ElementModels.MultipleChoiceOption[] = [];\r\n\r\n        /**\r\n         * Represents multiple choice element of Kentico Kontent item\r\n         * @constructor\r\n         * @param {ElementModels.IElementWrapper} elementWrapper - Element data\r\n         */\r\n        constructor(elementWrapper: ElementModels.IElementWrapper) {\r\n            super({\r\n                elementType: ElementType.MultipleChoice,\r\n                elementWrapper: elementWrapper\r\n            });\r\n\r\n            if (elementWrapper.rawElement.value && Array.isArray(elementWrapper.rawElement.value)) {\r\n                for (const valueItem of elementWrapper.rawElement.value) {\r\n                    const rawOption = valueItem as ElementContracts.IMultipleChoiceOptionContract;\r\n                    if (rawOption && rawOption.name && rawOption.codename) {\r\n                        this.value.push(new ElementModels.MultipleChoiceOption(rawOption.name, rawOption.codename));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    export class DateTimeElement extends BaseElement<Date | null> {\r\n        /**\r\n         * Date time value\r\n         */\r\n        public value: Date | null;\r\n\r\n        /**\r\n         * Type of the element\r\n         */\r\n        public type: ElementType = ElementType.DateTime;\r\n\r\n        /**\r\n         * Represents date time element of Kentico Kontent item\r\n         * @constructor\r\n         * @param {ElementModels.IElementWrapper} elementWrapper - Element data\r\n         */\r\n        constructor(elementWrapper: ElementModels.IElementWrapper) {\r\n            super({\r\n                elementType: ElementType.DateTime,\r\n                elementWrapper: elementWrapper\r\n            });\r\n            if (elementWrapper.rawElement.value) {\r\n                this.value = new Date(elementWrapper.rawElement.value);\r\n            } else {\r\n                this.value = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    export class RichTextElement extends BaseElement<string> {\r\n        /**\r\n         * Function that is responsible for getting resolved HTML of the element\r\n         */\r\n        private resolveRichTextFunc: () => ElementModels.IRichTextResolverData;\r\n\r\n        /**\r\n         * Resolved rich text element result\r\n         */\r\n        private resolvedData?: ElementModels.IRichTextResolverData;\r\n\r\n        /**\r\n         * Unresolved html value of rich text element\r\n         */\r\n        public value: string;\r\n\r\n        /**\r\n         * Type of the element\r\n         */\r\n        public type: ElementType = ElementType.RichText;\r\n\r\n        /**\r\n         * Links\r\n         */\r\n        public links: Link[];\r\n\r\n        /**\r\n         * Images included within rich text element\r\n         */\r\n        public images: RichTextImage[];\r\n\r\n        /**\r\n         * Array of linked item codenames\r\n         */\r\n        public linkedItemCodenames: string[];\r\n\r\n        /**\r\n         * Represents rich text element of Kentico Kontent item\r\n         * @constructor\r\n         * @param {ElementModels.IElementWrapper} elementWrapper - Element data\r\n         * @param {string[]} linkedItemCodenames - Array of linked codenames\r\n         */\r\n        constructor(\r\n            elementWrapper: ElementModels.IElementWrapper,\r\n            linkedItemCodenames: string[],\r\n            data: {\r\n                resolveRichTextFunc: () => ElementModels.IRichTextResolverData;\r\n                links: Link[];\r\n                images: RichTextImage[];\r\n            }\r\n        ) {\r\n            super({\r\n                elementType: ElementType.RichText,\r\n                elementWrapper: elementWrapper\r\n            });\r\n\r\n            this.linkedItemCodenames = linkedItemCodenames;\r\n            this.resolveRichTextFunc = data.resolveRichTextFunc;\r\n            this.links = data.links;\r\n            this.images = data.images;\r\n\r\n            this.value = elementWrapper.rawElement.value;\r\n        }\r\n\r\n        resolveData(): ElementModels.IRichTextResolverData {\r\n            if (this.resolvedData) {\r\n                return this.resolvedData;\r\n            }\r\n            this.resolvedData = this.resolveRichTextFunc();\r\n\r\n            return this.resolvedData;\r\n        }\r\n\r\n        resolveHtml(): string {\r\n            if (this.resolvedData) {\r\n                return this.resolvedData.html;\r\n            }\r\n\r\n            this.resolvedData = this.resolveRichTextFunc();\r\n\r\n            return this.resolvedData.html;\r\n        }\r\n    }\r\n\r\n    export class NumberElement extends BaseElement<number | null> {\r\n        /**\r\n         * Number value of this element\r\n         */\r\n        public value: number | null;\r\n\r\n        /**\r\n         * Represents number element of Kentico Kontent item\r\n         * @constructor\r\n         * @param {ElementModels.IElementWrapper} elementWrapper - Element data\r\n         */\r\n        constructor(elementWrapper: ElementModels.IElementWrapper) {\r\n            super({\r\n                elementType: ElementType.Number,\r\n                elementWrapper: elementWrapper\r\n            });\r\n            if (elementWrapper.rawElement.value === 0) {\r\n                this.value = 0;\r\n            } else if (elementWrapper.rawElement.value) {\r\n                this.value = +elementWrapper.rawElement.value;\r\n            } else {\r\n                this.value = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    export class AssetsElement extends BaseElement<ElementModels.AssetModel[]> {\r\n        /**\r\n         * List of assets used in this element\r\n         */\r\n        public value: ElementModels.AssetModel[] = [];\r\n\r\n        /**\r\n         * Represents asset element of Kentico Kontent item\r\n         * @constructor\r\n         * @param {ElementModels.IElementWrapper} elementWrapper - Element data\r\n         */\r\n        constructor(elementWrapper: ElementModels.IElementWrapper) {\r\n            super({\r\n                elementType: ElementType.Asset,\r\n                elementWrapper: elementWrapper\r\n            });\r\n            if (elementWrapper.rawElement.value && Array.isArray(elementWrapper.rawElement.value)) {\r\n                const rawAssets = elementWrapper.rawElement.value as ElementContracts.IAssetContract[];\r\n                for (const rawAsset of rawAssets) {\r\n                    this.value.push(new ElementModels.AssetModel(rawAsset));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    export class UrlSlugElement extends BaseElement<string> {\r\n        private resolvedUrl?: string;\r\n\r\n        private resolveLinkFunc: () => string;\r\n\r\n        public value: string;\r\n\r\n        /**\r\n         * Represents URL slug element of Kentico Kontent item\r\n         * @constructor\r\n         * @param {ElementModels.IElementWrapper} elementWrapper - Element data\r\n         */\r\n        constructor(\r\n            elementWrapper: ElementModels.IElementWrapper,\r\n            data: {\r\n                /**\r\n                 * Callback for resolving link\r\n                 */\r\n                resolveLinkFunc: () => string;\r\n            }\r\n        ) {\r\n            super({\r\n                elementType: ElementType.UrlSlug,\r\n                elementWrapper: elementWrapper\r\n            });\r\n\r\n            this.value = elementWrapper.rawElement.value;\r\n            this.resolveLinkFunc = data.resolveLinkFunc;\r\n        }\r\n\r\n        resolveUrl(): string {\r\n            if (this.resolvedUrl) {\r\n                return this.resolvedUrl;\r\n            }\r\n\r\n            this.resolvedUrl = this.resolveLinkFunc();\r\n\r\n            return this.resolvedUrl;\r\n        }\r\n    }\r\n\r\n    export class TaxonomyElement extends BaseElement<ElementModels.TaxonomyTerm[]> {\r\n        /**\r\n         * List of assigned taxonomy terms\r\n         */\r\n        public value: ElementModels.TaxonomyTerm[] = [];\r\n\r\n        /**\r\n         * Taxonomy group\r\n         */\r\n        public taxonomyGroup: string;\r\n\r\n        /**\r\n         * Represents number element of Kentico Kontent item\r\n         * @constructor\r\n         * @param {ElementModels.IElementWrapper} elementWrapper - Element data\r\n         */\r\n        constructor(elementWrapper: ElementModels.IElementWrapper) {\r\n            super({\r\n                elementType: ElementType.Taxonomy,\r\n                elementWrapper: elementWrapper\r\n            });\r\n\r\n            if (elementWrapper.rawElement.taxonomy_group) {\r\n                this.taxonomyGroup = elementWrapper.rawElement.taxonomy_group;\r\n            } else {\r\n                console.warn(\r\n                    `Taxonomy group for element '${elementWrapper.rawElement.name}' is invalid. Assigning empty string`\r\n                );\r\n                this.taxonomyGroup = '';\r\n            }\r\n\r\n            if (elementWrapper.rawElement.value && Array.isArray(elementWrapper.rawElement.value)) {\r\n                const rawTerms = elementWrapper.rawElement.value as ElementContracts.ITaxonomyTerm[];\r\n                for (const rawTerm of rawTerms) {\r\n                    this.value.push(new ElementModels.TaxonomyTerm(rawTerm.name, rawTerm.codename));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    export class UnknownElement extends BaseElement<any> {\r\n        public value: any;\r\n\r\n        constructor(elementWrapper: ElementModels.IElementWrapper) {\r\n            super({\r\n                elementType: ElementType.Unknown,\r\n                elementWrapper: elementWrapper\r\n            });\r\n\r\n            this.value = elementWrapper.rawElement.value;\r\n        }\r\n    }\r\n\r\n    export abstract class CustomElement extends BaseElement<string | null> {\r\n        public value: string | null;\r\n\r\n        constructor(elementWrapper: ElementModels.IElementWrapper) {\r\n            super({\r\n                elementType: ElementType.Custom,\r\n                elementWrapper: elementWrapper\r\n            });\r\n\r\n            this.value = elementWrapper.rawElement.value;\r\n        }\r\n    }\r\n\r\n    export class DefaultCustomElement extends BaseElement<string | null> {\r\n        /**\r\n         * Resolved value of custom element\r\n         */\r\n        public value: string | null;\r\n\r\n        /**\r\n         * Represents base custom element\r\n         * @constructor\r\n         * @param {ElementModels.IElementWrapper} elementWrapper - Element data\r\n         */\r\n        constructor(elementWrapper: ElementModels.IElementWrapper) {\r\n            super({\r\n                elementType: ElementType.Custom,\r\n                elementWrapper: elementWrapper\r\n            });\r\n            this.value = elementWrapper.rawElement.value;\r\n        }\r\n    }\r\n}\r\n","import { ItemContracts } from '../data-contracts';\r\nimport { ContentItem, ContentItemSystemAttributes, IContentItem, ITypeResolverData } from '../models';\r\nimport { TypeResolver } from '../models/item/type-resolver.class';\r\n\r\nexport class DeliveryItemStronglyTypeResolver {\r\n\r\n    private readonly systemElementName = 'system';\r\n    private readonly elementsElementName = 'elements';\r\n\r\n    /**\r\n     * Creates item instance using either TypeResolver (if registered) or returns ContentItem\r\n     */\r\n    createItemInstance<TItem extends IContentItem = IContentItem>(type: string, data: ITypeResolverData, typeResolvers: TypeResolver[]): TItem {\r\n        const typeResolver = this.getTypeResolver(type, typeResolvers);\r\n        let itemInstance: TItem | undefined;\r\n        if (typeResolver) {\r\n            // type resolver is registered, create new instance of given type\r\n            itemInstance = this.createInstanceWithResolver<TItem>(data, typeResolver);\r\n        } else {\r\n            // not type resolver is register for this type, use ContentItem\r\n            itemInstance = this.createContentItem(data.item) as TItem;\r\n        }\r\n\r\n        if (!itemInstance) {\r\n            throw Error(`Item with codename '${data.item.system.codename}' could not be instantiated`);\r\n        }\r\n\r\n        this.assignRequiredContentItemData(itemInstance, data.item);\r\n        return itemInstance;\r\n    }\r\n\r\n    /**\r\n     * Maps raw system response to strongly typed class\r\n     * @param rawSystem Raw system response\r\n     */\r\n    mapSystemAttributes(rawSystem: ItemContracts.IContentItemSystemAttributesContract): ContentItemSystemAttributes {\r\n        return new ContentItemSystemAttributes({\r\n            name: rawSystem.name,\r\n            codename: rawSystem.codename,\r\n            id: rawSystem.id,\r\n            lastModified: new Date(rawSystem.last_modified),\r\n            language: rawSystem.language,\r\n            type: rawSystem.type,\r\n            sitemapLocations: rawSystem.sitemap_locations\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Creates new instance of given type\r\n     * @param type Type of the content item\r\n     * @param resolvers Type resolvers\r\n     */\r\n    private createInstanceWithResolver<TItem extends IContentItem>(data: ITypeResolverData, resolver: TypeResolver): TItem {\r\n        return resolver.resolve(data) as TItem;\r\n    }\r\n\r\n    /**\r\n     * Gets TypeResolver associated with given type (type = codename of Kentico Kontent content type)\r\n     * @param type Kentico Kontent content type codename\r\n     * @param resolvers Array of TypeResolver\r\n     */\r\n    private getTypeResolver(type: string, resolvers: TypeResolver[]): TypeResolver | undefined {\r\n        return resolvers.find(m => m.type.toLowerCase() === type.toLowerCase());\r\n    }\r\n\r\n    /**\r\n     * Creates base ContentItem when content type does not have a strongly typed model\r\n     */\r\n    private createContentItem(item: ItemContracts.IContentItemContract): IContentItem {\r\n        const contentItem = new ContentItem();\r\n        this.assignRequiredContentItemData(contentItem, item);\r\n        return contentItem;\r\n    }\r\n\r\n    /**\r\n     * Maps default properties (system & elements)\r\n     * @param item Mapped content item\r\n     * @param rawItem Raw content item from response\r\n     */\r\n    private assignRequiredContentItemData(item: IContentItem, rawItem: ItemContracts.IContentItemContract): void {\r\n        item.system = this.mapSystemAttributes(rawItem[this.systemElementName]);\r\n        item._raw = {\r\n            elements: rawItem[this.elementsElementName],\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport const stronglyTypedResolver = new DeliveryItemStronglyTypeResolver();\r\n","import { ElementModels, Elements } from '../elements';\r\nimport {\r\n    IContentItem,\r\n    IItemQueryConfig,\r\n    IRichTextImageResolverResult,\r\n    ItemRichTextResolver,\r\n    IUrlSlugResolverContext,\r\n    IUrlSlugResolverResult,\r\n    Link,\r\n    RichTextItemDataType,\r\n    RichTextImage,\r\n} from '../models';\r\nimport { IHtmlResolverConfig, IRichTextHtmlParser, ResolverContext } from '../parser';\r\n\r\nexport class RichTextResolver {\r\n    /**\r\n     * Resolves linked items inside the Rich text element.\r\n     * Rich text resolved needs to be configured either on the model or query level\r\n     */\r\n    resolveData(\r\n        contentItemCodename: string,\r\n        html: string,\r\n        elementName: string,\r\n        data: {\r\n            richTextHtmlParser: IRichTextHtmlParser;\r\n            getLinkedItem: (codename: string) => IContentItem | undefined;\r\n            links: Link[];\r\n            images: RichTextImage[];\r\n            enableAdvancedLogging: boolean;\r\n            queryConfig: IItemQueryConfig;\r\n            linkedItemWrapperTag: string;\r\n            linkedItemWrapperClasses: string[];\r\n        }\r\n    ): ElementModels.IRichTextResolverData {\r\n        // prepare config\r\n        const config: IHtmlResolverConfig = {\r\n            enableAdvancedLogging: data.enableAdvancedLogging,\r\n            queryConfig: data.queryConfig,\r\n            linkedItemWrapperTag: data.linkedItemWrapperTag,\r\n            linkedItemWrapperClasses: data.linkedItemWrapperClasses\r\n        };\r\n\r\n        const result = data.richTextHtmlParser.resolveRichTextElement(\r\n            'root',\r\n            contentItemCodename,\r\n            html,\r\n            elementName,\r\n            {\r\n                getUrlSlugResult: (itemId: string, linkText: string) =>\r\n                    this.getUrlSlugResult({\r\n                        config: config,\r\n                        links: data.links,\r\n                        itemId: itemId,\r\n                        getLinkedItem: data.getLinkedItem,\r\n                        linkText: linkText\r\n                    }),\r\n                getLinkedItemHtml: (itemCodename: string, itemType: RichTextItemDataType) =>\r\n                    this.getLinkedItemHtml({\r\n                        itemCodename: itemCodename,\r\n                        config: config,\r\n                        getLinkedItem: data.getLinkedItem,\r\n                        itemType: itemType\r\n                    }),\r\n                getImageResult: (\r\n                    resolverContext: ResolverContext,\r\n                    itemCodename: string,\r\n                    imageId: string,\r\n                    xElementName: string\r\n                ) =>\r\n                    this.getImageResult({\r\n                        resolverContext: resolverContext,\r\n                        getLinkedItem: data.getLinkedItem,\r\n                        itemCodename: itemCodename,\r\n                        config: config,\r\n                        imageId: imageId,\r\n                        images: data.images,\r\n                        html: html,\r\n                        elementName: xElementName\r\n                    })\r\n            },\r\n            {\r\n                enableAdvancedLogging: data.enableAdvancedLogging,\r\n                queryConfig: data.queryConfig,\r\n                linkedItemWrapperTag: data.linkedItemWrapperTag,\r\n                linkedItemWrapperClasses: data.linkedItemWrapperClasses\r\n            }\r\n        );\r\n\r\n        return {\r\n            html: result.resolvedHtml,\r\n            componentCodenames: result.linkedItems.filter(m => m.itemType === 'component').map(m => m.dataCodename),\r\n            linkedItemCodenames: result.linkedItems.filter(m => m.itemType === 'linkedItem').map(m => m.dataCodename)\r\n        };\r\n    }\r\n\r\n    private getImageResult(data: {\r\n        resolverContext: ResolverContext;\r\n        itemCodename: string;\r\n        getLinkedItem: (codename: string) => IContentItem | undefined;\r\n        config: IHtmlResolverConfig;\r\n        imageId: string;\r\n        images: RichTextImage[];\r\n        html: string;\r\n        elementName: string;\r\n    }): IRichTextImageResolverResult {\r\n        // get linked item\r\n        const linkedItem = data.getLinkedItem(data.itemCodename);\r\n\r\n        if (!linkedItem) {\r\n            if (data.config.queryConfig.throwErrorForMissingLinkedItems) {\r\n                throw Error(\r\n                    `Linked item with codename '${data.itemCodename}' was not found when resolving image with id '${data.imageId}'`\r\n                );\r\n            }\r\n            if (data.config.enableAdvancedLogging) {\r\n                console.warn(\r\n                    `Cannot resolve image with id '${data.imageId}' because linked item with codename '${data.itemCodename}' is not available. Empty image URL is returned.`\r\n                );\r\n            }\r\n            return {\r\n                url: ''\r\n            };\r\n        }\r\n\r\n        // if image is resolved within nested linked item (e.g. rich text element resolves html of linked item which contains images)\r\n        // the element name is equal to the 'root' element on which the html is resolved. For this reason we have to go through all\r\n        // elements in linked item and find the image there.\r\n        let image: RichTextImage | undefined;\r\n\r\n        if (data.resolverContext === 'nested') {\r\n            image = this.tryGetImageFromLinkedItem(data.imageId, linkedItem);\r\n        } else {\r\n            const richTextElement = linkedItem[data.elementName] as Elements.RichTextElement;\r\n\r\n            if (!(richTextElement instanceof Elements.RichTextElement)) {\r\n                throw Error(\r\n                    `Linked item with codename '${data.itemCodename}' has invalid element '${\r\n                        data.elementName\r\n                    }'. This element is required to be of RichText type.`\r\n                );\r\n            }\r\n            image = richTextElement.images.find(m => m.imageId === data.imageId);\r\n        }\r\n\r\n        if (!image) {\r\n            throw Error(\r\n                `Image with id '${data.imageId}' was not found in images data for linked item '${\r\n                    data.itemCodename\r\n                }' and element '${data.elementName}'`\r\n            );\r\n        }\r\n\r\n        // use custom resolver if present\r\n        if (data.config.queryConfig.richTextImageResolver) {\r\n            return data.config.queryConfig.richTextImageResolver(image, data.elementName);\r\n        }\r\n\r\n        // use default resolver\r\n        return {\r\n            url: image.url\r\n        };\r\n    }\r\n\r\n    private tryGetImageFromLinkedItem(imageId: string, contentItem: IContentItem): RichTextImage | undefined {\r\n        for (const propName of Object.keys(contentItem)) {\r\n            const prop = contentItem[propName];\r\n            if (prop instanceof Elements.RichTextElement) {\r\n                const image = prop.images.find(m => m.imageId === imageId);\r\n\r\n                if (image) {\r\n                    return image;\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    private getLinkedItemHtml(data: {\r\n        itemCodename: string;\r\n        config: IHtmlResolverConfig;\r\n        getLinkedItem: (codename: string) => IContentItem | undefined;\r\n        itemType: RichTextItemDataType;\r\n    }): string {\r\n        // get linked item\r\n        const linkedItem = data.getLinkedItem(data.itemCodename);\r\n\r\n        // resolving cannot be done if the item is not present in response\r\n        if (!linkedItem) {\r\n            if (data.config.queryConfig.throwErrorForMissingLinkedItems) {\r\n                throw Error(\r\n                    `Linked item with codename '${\r\n                        data.itemCodename\r\n                    }' could not be found in response and therefore the HTML of rich text element could not be evaluated. Increasing 'depth' parameter of your query may solve this issue.`\r\n                );\r\n            }\r\n            if (data.config.enableAdvancedLogging) {\r\n                console.warn(\r\n                    `Cannot resolve linked item '${data.itemCodename}' because it is not available in response. Increasing 'depth' parameter of query may help. Item is resolved to empty string.`\r\n                );\r\n            }\r\n            return '';\r\n        }\r\n        // get html to replace object using Rich text resolver function\r\n        let resolver: ItemRichTextResolver<IContentItem> | undefined = undefined;\r\n        if (data.config.queryConfig.richTextResolver) {\r\n            // use resolved defined by query if available\r\n            resolver = data.config.queryConfig.richTextResolver;\r\n        } else {\r\n            // use default resolver defined in models\r\n            if (linkedItem._config && linkedItem._config.richTextResolver) {\r\n                resolver = linkedItem._config.richTextResolver;\r\n            }\r\n        }\r\n\r\n        // check resolver\r\n        if (!resolver) {\r\n            if (data.config.enableAdvancedLogging) {\r\n                console.warn(\r\n                    `Cannot resolve html of '${linkedItem.system.type}' used by item '${data.itemCodename}' type in 'RichTextElement' because no rich text resolver was configured. Item is resolved to empty string.`\r\n                );\r\n                return '';\r\n            }\r\n            return '';\r\n        }\r\n        return resolver(linkedItem, {\r\n            contentType: data.itemType\r\n        });\r\n    }\r\n\r\n    private getUrlSlugResult(data: {\r\n        itemId: string;\r\n        config: IHtmlResolverConfig;\r\n        links: Link[];\r\n        getLinkedItem: (codename: string) => IContentItem | undefined;\r\n        linkText: string;\r\n    }): IUrlSlugResolverResult {\r\n        // find link with the id of content item\r\n        const existingLink = data.links.find(m => m.linkId === data.itemId);\r\n\r\n        if (!existingLink) {\r\n            if (data.config.enableAdvancedLogging) {\r\n                console.warn(\r\n                    `Cannot resolve URL for item '${data.itemId}' because no link with this id was found.`\r\n                );\r\n            }\r\n            return {\r\n                html: '',\r\n                url: ''\r\n            };\r\n        }\r\n\r\n        const linkedItem = data.getLinkedItem(existingLink.codename);\r\n\r\n        // prepare link context\r\n        const linkContext: IUrlSlugResolverContext = {\r\n            linkText: data.linkText,\r\n            item: linkedItem,\r\n            linkId: data.itemId\r\n        };\r\n\r\n        // try to resolve link using the resolver passed through the query config\r\n        const queryUrlSlugResolver = data.config.queryConfig.urlSlugResolver;\r\n\r\n        if (queryUrlSlugResolver) {\r\n            // resolve url using query config\r\n            const queryUrlSlugResult = queryUrlSlugResolver(existingLink, linkContext);\r\n            if (queryUrlSlugResult) {\r\n                return queryUrlSlugResult;\r\n            }\r\n        }\r\n\r\n        // url was not resolved, try using global link resolver for item\r\n        if (linkedItem && linkedItem._config && linkedItem._config.urlSlugResolver) {\r\n            const globalUrlSlugResult = linkedItem._config.urlSlugResolver(existingLink, linkContext);\r\n            if (globalUrlSlugResult) {\r\n                return globalUrlSlugResult;\r\n            }\r\n        }\r\n\r\n        // url wasn't resolved\r\n        if (data.config.enableAdvancedLogging) {\r\n            console.warn(`Url for item of '${existingLink.type}' type with id '${existingLink.linkId}' wasn't resolved. This might be caused by missing 'urlSlugResolver' for given type.`);\r\n        }\r\n\r\n        return {\r\n            html: '',\r\n            url: ''\r\n        };\r\n    }\r\n}\r\n\r\nexport const richTextResolver = new RichTextResolver();\r\n","import { IContentItem, ItemUrlSlugResolver, IUrlSlugResolverResult, Link } from '../models';\r\n\r\nexport class UrlSlugResolver {\r\n  resolveUrl(data: {\r\n    elementValue: string;\r\n    elementName: string;\r\n    item: IContentItem;\r\n    resolver: ItemUrlSlugResolver;\r\n    enableAdvancedLogging: boolean;\r\n  }): IUrlSlugResolverResult {\r\n    const url = data.resolver(\r\n      new Link({\r\n        urlSlug: data.elementValue,\r\n        type: data.item.system.type,\r\n        codename: data.item.system.codename,\r\n        linkId: data.item.system.id,\r\n      }), {\r\n        item: data.item,\r\n        linkId: undefined, // available only for links in rich text elements,\r\n        linkText: undefined // available only for links in rich text elements,\r\n      }\r\n    );\r\n\r\n    if (!url) {\r\n      if (data.enableAdvancedLogging) {\r\n        console.warn(\r\n        `'urlSlugResolver' is set, but url resolved for '${\r\n          data.item.system.codename\r\n          }' item of '${data.item.system.type}' type in element '${\r\n          data.elementName\r\n          }' is undefined. This warning can be turned off by disabling 'enableAdvancedLogging' option.`\r\n        );\r\n      }\r\n      return {\r\n        html: '',\r\n        url: ''\r\n      };\r\n    }\r\n\r\n    return url;\r\n  }\r\n}\r\n\r\nexport const urlSlugResolver = new UrlSlugResolver();\r\n","import { IDeliveryClientConfig } from '../config';\r\nimport { ItemContracts } from '../data-contracts';\r\nimport { IContentItem, IContentItemsContainer, IItemQueryConfig } from '../models';\r\nimport { IRichTextHtmlParser } from '../parser';\r\nimport { ElementMapper } from './element.mapper';\r\n\r\nexport interface MapItemResult<TItem extends IContentItem = IContentItem> {\r\n    item: TItem;\r\n    processedItems: IContentItemsContainer;\r\n    preparedItems: IContentItemsContainer;\r\n    processingStartedForCodenames: string[];\r\n}\r\n\r\nexport interface MapItemsResult<TItem extends IContentItem = IContentItem> {\r\n    items: TItem[];\r\n    processedItems: IContentItemsContainer;\r\n    preparedItems: IContentItemsContainer;\r\n    processingStartedForCodenames: string[];\r\n}\r\n\r\nexport class ItemMapper {\r\n\r\n    private readonly elementMapper: ElementMapper;\r\n\r\n    constructor(\r\n        readonly config: IDeliveryClientConfig,\r\n        readonly richTextHtmlParser: IRichTextHtmlParser\r\n    ) {\r\n        this.elementMapper = new ElementMapper(config, richTextHtmlParser);\r\n    }\r\n\r\n    /**\r\n     * Maps single item to its proper strongly typed model from the given Kontent response\r\n     * @param response Kontent response used to map the item\r\n     * @param queryConfig Query configuration\r\n     */\r\n    mapSingleItem<TItem extends IContentItem = IContentItem>(response: ItemContracts.IViewContentItemContract, queryConfig: IItemQueryConfig): MapItemResult<TItem> {\r\n        return this.mapItem<TItem>({\r\n            item: response.item,\r\n            modularContent: response.modular_content,\r\n            preparedItems: {},\r\n            processedItems: {},\r\n            rocessingStartedForCodenames: [],\r\n            queryConfig: queryConfig\r\n        });\r\n    }\r\n\r\n    /**\r\n    * Maps multiple items to their strongly typed model from the given Kontent response\r\n    * @param response Kontent response used to map the item\r\n    * @param queryConfig Query configuration\r\n    */\r\n    mapMultipleItems<TItem extends IContentItem = IContentItem>(response: ItemContracts.IListContentItemsContract, queryConfig: IItemQueryConfig): MapItemsResult<TItem> {\r\n        const that = this;\r\n\r\n        const processedItems: IContentItemsContainer = {};\r\n        const preparedItems: IContentItemsContainer = {};\r\n        const processingStartedForCodenames: string[] = [];\r\n        const mappedItems: TItem[] = [];\r\n\r\n        response.items.forEach((item) => {\r\n            const mappedItem = that.mapItem<TItem>({\r\n                item: item,\r\n                modularContent: response.modular_content,\r\n                processedItems: processedItems,\r\n                queryConfig: queryConfig,\r\n                preparedItems: preparedItems,\r\n                rocessingStartedForCodenames: processingStartedForCodenames\r\n            });\r\n            mappedItems.push(mappedItem.item);\r\n        });\r\n\r\n        return {\r\n            items: mappedItems,\r\n            processedItems: processedItems,\r\n            preparedItems: preparedItems,\r\n            processingStartedForCodenames: processingStartedForCodenames\r\n        };\r\n    }\r\n\r\n    private mapItem<TItem extends IContentItem = IContentItem>(data: {\r\n        item: ItemContracts.IContentItemContract,\r\n        modularContent: ItemContracts.IModularContentContract,\r\n        queryConfig: IItemQueryConfig,\r\n        processedItems: IContentItemsContainer,\r\n        rocessingStartedForCodenames: string[],\r\n        preparedItems: IContentItemsContainer\r\n    }): MapItemResult<TItem> {\r\n        if (!data.item) {\r\n            throw Error(`Could not map item because its undefined`);\r\n        }\r\n\r\n        const result = this.elementMapper.mapElements<TItem>({\r\n            item: data.item,\r\n            modularContent: data.modularContent,\r\n            preparedItems: <IContentItemsContainer>{},\r\n            processingStartedForCodenames: [],\r\n            processedItems: data.processedItems,\r\n            queryConfig: data.queryConfig\r\n        });\r\n\r\n        return {\r\n            item: result.item,\r\n            processedItems: result.processedItems,\r\n            preparedItems: result.preparedItems,\r\n            processingStartedForCodenames: result.processingStartedForCodenames\r\n        };\r\n    }\r\n}\r\n","import { TaxonomyContracts } from '../data-contracts';\r\nimport { TaxonomyGroup, TaxonomySystemAttributes, TaxonomyTerms } from '../models';\r\n\r\nexport class TaxonomyMapper {\r\n\r\n    mapTaxonomy(taxonomySystem: TaxonomyContracts.ITaxonomySystemAttributesContract, taxonomyTerms: TaxonomyContracts.ITaxonomyTermsContract[]): TaxonomyGroup {\r\n        if (!taxonomySystem) {\r\n            throw Error(`Cannot map taxonomy due to missing 'system' property`);\r\n        }\r\n\r\n        if (!taxonomyTerms) {\r\n            throw Error(`Cannot map taxonomy due to missing 'terms' property`);\r\n        }\r\n\r\n        if (!Array.isArray(taxonomyTerms)) {\r\n            throw Error(`Cannot map terms because no terms array was provided`);\r\n        }\r\n\r\n        const mappedSystemAttributes: TaxonomySystemAttributes = new TaxonomySystemAttributes({\r\n            name: taxonomySystem.name,\r\n            codename: taxonomySystem.codename,\r\n            id: taxonomySystem.id,\r\n            lastModified: taxonomySystem.last_modified\r\n        });\r\n\r\n        const mappedTerms: TaxonomyTerms[] = this.mapTaxonomyTerms(taxonomyTerms);\r\n\r\n        return new TaxonomyGroup(mappedSystemAttributes, mappedTerms);\r\n    }\r\n\r\n    mapTaxonomies(taxonomies: TaxonomyContracts.ITaxonomyGroupContract[]): TaxonomyGroup[] {\r\n        if (!taxonomies) {\r\n            throw Error(`Cannot map taxonomy due to missing 'taxonomies' property`);\r\n        }\r\n\r\n        if (!Array.isArray(taxonomies)) {\r\n            throw Error(`Cannot map taxonomies because the 'taxonomies' property is not an array `);\r\n        }\r\n\r\n        const mappedTaxonomies: TaxonomyGroup[] = [];\r\n\r\n        taxonomies.forEach(taxonomy => {\r\n            mappedTaxonomies.push(this.mapTaxonomy(taxonomy.system, taxonomy.terms));\r\n        });\r\n\r\n        return mappedTaxonomies;\r\n    }\r\n\r\n    /**\r\n     * Recursively map array of taxonomy terms\r\n     * @param termsArray Terms array to map\r\n     */\r\n    private mapTaxonomyTerms(termsArray: TaxonomyContracts.ITaxonomyTermsContract[]): TaxonomyTerms[] {\r\n        if (termsArray.length === 0) {\r\n            return [];\r\n        }\r\n\r\n        const mappedTermsArray: TaxonomyTerms[] = [];\r\n\r\n        termsArray.forEach(terms => {\r\n            const mappedTerms = new TaxonomyTerms({\r\n                codename: terms.codename,\r\n                name: terms.name,\r\n                terms: this.mapTaxonomyTerms(terms.terms)\r\n            });\r\n\r\n            mappedTermsArray.push(mappedTerms);\r\n        });\r\n\r\n        return mappedTermsArray;\r\n    }\r\n}\r\n","import { ElementContracts, IElementOptionContract, TypeContracts } from '../data-contracts';\r\nimport { ContentType, ContentTypeSystemAttributes, GenericElement, GenericElementOption } from '../models';\r\n\r\nexport class TypeMapper {\r\n\r\n    mapSingleType(response: TypeContracts.IViewContentTypeContract): ContentType {\r\n        return this.mapType(response);\r\n    }\r\n\r\n    mapMultipleTypes(response: TypeContracts.IListContentTypeContract): ContentType[] {\r\n        const that = this;\r\n        return response.types.map(function (type) {\r\n            return that.mapType(type);\r\n        });\r\n    }\r\n\r\n    private mapType(type: TypeContracts.IContentTypeContract): ContentType {\r\n        if (!type) {\r\n            throw Error(`Cannot map type`);\r\n        }\r\n\r\n        if (!type.elements) {\r\n            throw Error(`Cannot map type elements`);\r\n        }\r\n\r\n        const typeSystem = new ContentTypeSystemAttributes({\r\n            codename: type.system.codename,\r\n            id: type.system.id,\r\n            name: type.system.name,\r\n            lastModified: type.system.last_modified\r\n        });\r\n\r\n        const elements: GenericElement[] = [];\r\n\r\n        const elementNames = Object.getOwnPropertyNames(type.elements);\r\n        elementNames.forEach((elementName: string) => {\r\n            const typeElement = type.elements[elementName] as ElementContracts.IViewContentTypeElementContract;\r\n\r\n            if (!typeElement) {\r\n                throw Error(`Cannot find element '${elementName}' on type '${type}'`);\r\n            }\r\n\r\n            // use json property as a codename of the type element\r\n            const elementCodename = elementName;\r\n\r\n            // extra properties for certain element types\r\n            const taxonomyGroup: string | undefined = typeElement.taxonomy_group;\r\n            const options: IElementOptionContract[] = [];\r\n\r\n            // some elements can contain options\r\n            const rawOptions = typeElement.options;\r\n            if (rawOptions) {\r\n                if (!Array.isArray(rawOptions)) {\r\n                    throw Error(`Content type 'options' property has to be an array`);\r\n                }\r\n\r\n                rawOptions.forEach(rawOption => {\r\n                    options.push(new GenericElementOption(rawOption.name, rawOption.codename));\r\n                });\r\n            }\r\n\r\n            elements.push(new GenericElement({\r\n                codename: elementCodename,\r\n                taxonomyGroup: taxonomyGroup,\r\n                options: options,\r\n                name: typeElement.name,\r\n                type: typeElement.type\r\n            }));\r\n        });\r\n        return new ContentType({\r\n            system: typeSystem,\r\n            elements: elements\r\n        });\r\n    }\r\n\r\n}\r\n","import { ElementContracts } from '../data-contracts';\r\nimport { GenericElement } from '../models';\r\n\r\nexport class GenericElementMapper {\r\n\r\n    mapElement(response: ElementContracts.IViewContentTypeElementContract): GenericElement {\r\n        if (!response) {\r\n            throw Error(`Invalid response for mapping element`);\r\n        }\r\n\r\n        return new GenericElement({\r\n            codename: response.codename,\r\n            name: response.name,\r\n            type: response.type,\r\n            options: response.options ? response.options : [],\r\n            taxonomyGroup: response.taxonomy_group\r\n        });\r\n    }\r\n}\r\n\r\n","export * from './parse-models';\r\nexport * from './parser-adapter';\r\nexport * from './parser-configuration';\r\n","export * from './image-url-builder';\r\nexport * from './image.models';\r\n","import { IQueryParameter } from '@kentico/kontent-core';\r\n\r\nimport { Parameters } from '../models';\r\nimport { ImageCompressionEnum, ImageFitModeEnum, ImageFormatEnum } from './image.models';\r\n\r\nexport class ImageUrlBuilder {\r\n  private queryParams: IQueryParameter[] = [];\r\n\r\n  constructor(\r\n    /** Image url */\r\n    public imageUrl: string\r\n  ) { }\r\n\r\n  /**\r\n   * Used to add custom parameters to existing query string\r\n   * @param param Parameter name\r\n   * @param value Value\r\n   */\r\n  withCustomParam(param: string, value: string | undefined): this {\r\n    this.queryParams.push(\r\n      new Parameters.CustomParameter(param, value)\r\n    );\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * The dpr transformation is used to serve correctly sized images for devices that expose a device pixel ratio.\r\n   * @param dpr A required DPR value.\r\n   */\r\n  withDpr(dpr: number): this {\r\n    this.queryParams.push(\r\n      new Parameters.QueryParameter('dpr', dpr.toString())\r\n    );\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Applies the crop transformation that removes pixels from an image outside the specified rectangle.\r\n   * @param x Rectangle offset on the X-axis.\r\n   * @param y Rectangle offset on the Y-axis.\r\n   * @param width Rectangle width.\r\n   * @param height Rectangle height.\r\n   */\r\n  withRectangleCrop(x: number, y: number, width: number, height: number): this {\r\n    this.queryParams.push(\r\n      new Parameters.QueryParameter('rect', [x, y, width, height].join(','))\r\n    );\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Applies the crop transformation centered on the specified point.\r\n   * @param x Focal point X coordinate.\r\n   * @param y Focal point Y coordinate.\r\n   * @param z Zoom of the transformation.\r\n   */\r\n  withFocalPointCrop(x: number, y: number, z: number): this {\r\n    this.withFitMode(ImageFitModeEnum.Crop);\r\n\r\n    this.queryParams.push(new Parameters.QueryParameter('crop', 'focalpoint'));\r\n    this.queryParams.push(new Parameters.QueryParameter('fp-x', x.toString()));\r\n    this.queryParams.push(new Parameters.QueryParameter('fp-y', y.toString()));\r\n    this.queryParams.push(new Parameters.QueryParameter('fp-z', z.toString()));\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Enables WebP image support.\r\n   * @param compression Specifies the lossy or lossless compression.\r\n   */\r\n  withAutomaticFormat(backupFormat?: ImageFormatEnum): this {\r\n    this.queryParams.push(\r\n      new Parameters.QueryParameter('auto', ImageFormatEnum.Webp)\r\n    );\r\n\r\n    if (backupFormat) {\r\n      this.withFormat(backupFormat);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * The fit transformation controls how the output image is fit to its target dimensions after resizing.\r\n   * @param fitMode Specifies the mode for the transformation.\r\n   */\r\n  withFitMode(fitMode: ImageFitModeEnum): this {\r\n    this.queryParams.push(new Parameters.QueryParameter('fit', fitMode));\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Specifies the compression mode for the WebP image transformations.\r\n   * @param compression Specifies the lossy or lossless compression.\r\n   */\r\n  withCompression(compression: ImageCompressionEnum): this {\r\n    this.queryParams.push(\r\n      new Parameters.QueryParameter(\r\n        'lossless',\r\n        compression === ImageCompressionEnum.Lossless ? 'true' : 'false'\r\n      )\r\n    );\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Applies the quality parameter that enables control over the compression level for lossy file-formatted images.\r\n   * @param quality The required quality of the image.\r\n   */\r\n  withQuality(quality: number): this {\r\n    this.queryParams.push(\r\n      new Parameters.QueryParameter('q', quality.toString())\r\n    );\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * The format transformation enables the source image to be converted (a.k.a., \"transcoded\") from\r\n   * one encoded format to another. This is very useful when the source image has been saved in a sub-optimal\r\n   * file format that hinders performance.\r\n   * @param format Target image file type.\r\n   */\r\n  withFormat(format: ImageFormatEnum): this {\r\n    this.queryParams.push(\r\n      new Parameters.QueryParameter('fm', format)\r\n    );\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * The height transformation enables dynamic height resizing based on pixels and percent values.\r\n   * @param height A required image height.\r\n   */\r\n  withHeight(height: number): this {\r\n    this.queryParams.push(\r\n      new Parameters.QueryParameter('h', height.toString())\r\n    );\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * The width transformation enables dynamic width resizing based on pixels and percent values.\r\n   * @param width A required image width.\r\n   */\r\n  withWidth(width: number): this {\r\n    this.queryParams.push(new Parameters.QueryParameter('w', width.toString()));\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Gets params applied to image\r\n   */\r\n  getParams(): IQueryParameter[] {\r\n    return this.queryParams;\r\n  }\r\n\r\n  /**\r\n   * Gets query string part of the image URL\r\n   */\r\n  getQueryString(): string {\r\n    let query: string = '';\r\n    this.queryParams.forEach(filter => {\r\n      if (query.indexOf('?') > -1) {\r\n        query = query + '&' + filter.getParam() + '=' + filter.getParamValue();\r\n      } else {\r\n        query = query + '?' + filter.getParam() + '=' + filter.getParamValue();\r\n      }\r\n    });\r\n\r\n    return query;\r\n  }\r\n\r\n  /**\r\n   * Gets full transformed url to image with parameters\r\n   */\r\n  getUrl(): string {\r\n    return this.imageUrl + this.getQueryString();\r\n  }\r\n}\r\n"],"sourceRoot":""}