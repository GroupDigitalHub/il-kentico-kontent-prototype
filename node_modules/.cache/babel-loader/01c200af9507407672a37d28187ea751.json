{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar mappers_1 = require(\"../mappers\");\n\nvar models_1 = require(\"../models\");\n\nvar MappingService =\n/** @class */\nfunction () {\n  function MappingService(config, richTextHtmlParser) {\n    this.config = config;\n    this.richTextHtmlParser = richTextHtmlParser;\n    this.typeMapper = new mappers_1.TypeMapper();\n    this.itemMapper = new mappers_1.ItemMapper(config, richTextHtmlParser);\n    this.taxonomyMapper = new mappers_1.TaxonomyMapper();\n    this.genericElementMapper = new mappers_1.GenericElementMapper();\n  }\n  /**\r\n   * Gets response for getting a single type\r\n   * @param response Response data\r\n   */\n\n\n  MappingService.prototype.listContentTypesResponse = function (response) {\n    // map types\n    var types = this.typeMapper.mapMultipleTypes(response.data); // pagination\n\n    var pagination = new models_1.Pagination({\n      skip: response.data.pagination.skip,\n      count: response.data.pagination.count,\n      limit: response.data.pagination.limit,\n      nextPage: response.data.pagination.next_page\n    });\n    return new models_1.TypeResponses.ListContentTypesResponse(types, pagination, this.mapResponseDebug(response));\n  };\n  /**\r\n   * Gets resposne for getting multiple types\r\n   * @param response Response data\r\n   * @param options Options\r\n   */\n\n\n  MappingService.prototype.viewContentTypeResponse = function (response) {\n    // map type\n    var type = this.typeMapper.mapSingleType(response.data);\n    return new models_1.TypeResponses.ViewContentTypeResponse(type, this.mapResponseDebug(response));\n  };\n  /**\r\n   * Gets response for getting single item\r\n   * @param response Response data\r\n   * @param queryConfig Query configuration\r\n   */\n\n\n  MappingService.prototype.viewContentItemResponse = function (response, queryConfig) {\n    // map item\n    var itemResult = this.itemMapper.mapSingleItem(response.data, queryConfig);\n    return new models_1.ItemResponses.ViewContentItemResponse(itemResult.item, itemResult.processedItems, this.mapResponseDebug(response));\n  };\n  /**\r\n   * Gets response for getting multiple items\r\n   * @param response Response data\r\n   * @param queryConfig Query configuration\r\n   */\n\n\n  MappingService.prototype.listContentItemsResponse = function (response, queryConfig) {\n    // map items\n    var itemsResult = this.itemMapper.mapMultipleItems(response.data, queryConfig); // pagination\n\n    var pagination = new models_1.Pagination({\n      skip: response.data.pagination.skip,\n      count: response.data.pagination.count,\n      limit: response.data.pagination.limit,\n      nextPage: response.data.pagination.next_page\n    });\n    return new models_1.ItemResponses.ListContentItemsResponse(itemsResult.items, pagination, itemsResult.processedItems, this.mapResponseDebug(response));\n  };\n  /**\r\n   * Gets response for getting single taxonomy item\r\n   * @param response Response data\r\n   */\n\n\n  MappingService.prototype.viewTaxonomyGroupResponse = function (response) {\n    // map taxonomy\n    var taxonomy = this.taxonomyMapper.mapTaxonomy(response.data.system, response.data.terms);\n    return new models_1.TaxonomyResponses.ViewTaxonomyGroupResponse(taxonomy, this.mapResponseDebug(response));\n  };\n  /**\r\n   * Gets response for getting multiples taxonomies\r\n   * @param response Response data\r\n   */\n\n\n  MappingService.prototype.listTaxonomyGroupsResponse = function (response) {\n    // map taxonomies\n    var taxonomies = this.taxonomyMapper.mapTaxonomies(response.data.taxonomies); // pagination\n\n    var pagination = new models_1.Pagination({\n      skip: response.data.pagination.skip,\n      count: response.data.pagination.count,\n      limit: response.data.pagination.limit,\n      nextPage: response.data.pagination.next_page\n    });\n    return new models_1.TaxonomyResponses.ListTaxonomyGroupsResponse(taxonomies, pagination, this.mapResponseDebug(response));\n  };\n  /**\r\n   * Gets response for getting single content type element\r\n   * @param response Response data\r\n   */\n\n\n  MappingService.prototype.viewContentTypeElementResponse = function (response) {\n    // map element\n    var element = this.genericElementMapper.mapElement(response.data);\n    return new models_1.ElementResponses.ViewContentTypeElementResponse(element, this.mapResponseDebug(response));\n  };\n\n  MappingService.prototype.mapResponseDebug = function (response) {\n    if (!response) {\n      throw Error(\"Cannot map 'debug' model from the response\");\n    }\n\n    return {\n      response: response.response\n    };\n  };\n\n  return MappingService;\n}();\n\nexports.MappingService = MappingService;","map":null,"metadata":{},"sourceType":"script"}