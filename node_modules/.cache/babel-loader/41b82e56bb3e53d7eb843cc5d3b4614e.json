{"ast":null,"code":"import _classCallCheck from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/src/Components/BrewerFilter.js\";\nimport React, { Component } from 'react';\nimport { translate } from 'react-translate';\nimport { BrewerStore } from '../Stores/Brewer';\nvar priceRanges = [{\n  min: 0,\n  max: 50\n}, {\n  min: 50,\n  max: 250\n}, {\n  min: 250,\n  max: 5000\n}];\n\nvar getState = function getState() {\n  return {\n    filter: BrewerStore.getFilter(),\n    manufacturers: BrewerStore.getManufacturers(),\n    productStatuses: BrewerStore.getProductStatuses()\n  };\n};\n\nvar BrewerFilter =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BrewerFilter, _Component);\n\n  function BrewerFilter(props) {\n    var _this;\n\n    _classCallCheck(this, BrewerFilter);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BrewerFilter).call(this, props));\n    _this.state = getState();\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(BrewerFilter, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      BrewerStore.addChangeListener(this.onChange);\n      BrewerStore.provideBrewers();\n      BrewerStore.provideManufacturers();\n      BrewerStore.provideProductStatuses();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      BrewerStore.removeChangeListener(this.onChange);\n      BrewerStore.unsubscribe();\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange() {\n      this.setState(getState());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var filter = this.state.filter;\n      var manufacturers = this.state.manufacturers;\n      var productStatuses = this.state.productStatuses;\n      return React.createElement(\"aside\", {\n        className: \"col-md-4 col-lg-3 product-filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, this.props.t('manufacturerTitle')), React.createElement(ManufacturerFilter, {\n        manufacturers: manufacturers,\n        filter: filter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, this.props.t('priceTitle')), React.createElement(PriceRangeFilter, {\n        priceRanges: priceRanges,\n        filter: filter,\n        language: this.props.language,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, this.props.t('statusTitle')), React.createElement(ProductStatusFilter, {\n        productStatuses: productStatuses,\n        filter: filter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BrewerFilter;\n}(Component);\n\nvar ManufacturerFilter = function ManufacturerFilter(props) {\n  var filterItems = props.manufacturers.map(function (manufacturer) {\n    return React.createElement(ManufacturerFilterItem, {\n      manufacturer: manufacturer,\n      id: 'Manufacturer-' + manufacturer.codename,\n      filter: props.filter,\n      key: manufacturer.codename,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    });\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, filterItems);\n};\n\nvar ManufacturerFilterItem = function ManufacturerFilterItem(props) {\n  var codename = props.manufacturer.codename;\n  var checked = props.filter.manufacturers.includes(codename);\n\n  var onChange = function onChange() {\n    props.filter.toggleManufacturer(codename);\n    BrewerStore.setFilter(props.filter);\n  };\n\n  return React.createElement(\"span\", {\n    className: \"checkbox js-postback\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: props.id,\n    type: \"checkbox\",\n    checked: checked,\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: props.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, props.manufacturer.name));\n};\n\nvar PriceRangeFilter = function PriceRangeFilter(props) {\n  var filterItems = props.priceRanges.map(function (priceRange, index) {\n    return React.createElement(PriceRangeFilterItem, {\n      language: props.language,\n      priceRange: priceRange,\n      id: 'PriceRange-' + index,\n      filter: props.filter,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    });\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, filterItems);\n};\n\nvar PriceRangeFilterItem = function PriceRangeFilterItem(props) {\n  var checked = props.filter.priceRanges.findIndex(function (x) {\n    return x.min === props.priceRange.min && x.max === props.priceRange.max;\n  }) >= 0;\n\n  var formatPrice = function formatPrice(price, language) {\n    return price.toLocaleString(language, {\n      style: 'currency',\n      currency: 'USD',\n      maximumFractionDigits: 2\n    });\n  };\n\n  var onChange = function onChange() {\n    props.filter.togglePriceRange(props.priceRange);\n    BrewerStore.setFilter(props.filter);\n  };\n\n  return React.createElement(\"span\", {\n    className: \"checkbox js-postback\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: props.id,\n    type: \"checkbox\",\n    checked: checked,\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: props.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, formatPrice(props.priceRange.min, props.language) + ' – ' + formatPrice(props.priceRange.max, props.language)));\n};\n\nvar ProductStatusFilter = function ProductStatusFilter(props) {\n  var filterItems = props.productStatuses.map(function (productStatus) {\n    return React.createElement(ProductStatusFilterItem, {\n      productStatus: productStatus,\n      id: 'ProductStatus-' + productStatus.codename,\n      filter: props.filter,\n      key: productStatus.codename,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    });\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, filterItems);\n};\n\nvar ProductStatusFilterItem = function ProductStatusFilterItem(props) {\n  var codename = props.productStatus.codename;\n  var checked = props.filter.productStatuses.includes(codename);\n\n  var onChange = function onChange() {\n    props.filter.toggleProductStatus(codename);\n    BrewerStore.setFilter(props.filter);\n  };\n\n  return React.createElement(\"span\", {\n    className: \"checkbox js-postback\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: props.id,\n    type: \"checkbox\",\n    checked: checked,\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: props.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, props.productStatus.name));\n};\n\nexport default translate('BrewerFilter')(BrewerFilter);","map":{"version":3,"sources":["/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/src/Components/BrewerFilter.js"],"names":["React","Component","translate","BrewerStore","priceRanges","min","max","getState","filter","getFilter","manufacturers","getManufacturers","productStatuses","getProductStatuses","BrewerFilter","props","state","onChange","bind","addChangeListener","provideBrewers","provideManufacturers","provideProductStatuses","removeChangeListener","unsubscribe","setState","t","language","ManufacturerFilter","filterItems","map","manufacturer","codename","ManufacturerFilterItem","checked","includes","toggleManufacturer","setFilter","id","name","PriceRangeFilter","priceRange","index","PriceRangeFilterItem","findIndex","x","formatPrice","price","toLocaleString","style","currency","maximumFractionDigits","togglePriceRange","ProductStatusFilter","productStatus","ProductStatusFilterItem","toggleProductStatus"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { translate } from 'react-translate';\n\nimport { BrewerStore } from '../Stores/Brewer';\n\nlet priceRanges = [\n  { min: 0, max: 50 },\n  { min: 50, max: 250 },\n  { min: 250, max: 5000 }\n];\n\nlet getState = () => {\n  return {\n    filter: BrewerStore.getFilter(),\n    manufacturers: BrewerStore.getManufacturers(),\n    productStatuses: BrewerStore.getProductStatuses()\n  };\n};\n\nclass BrewerFilter extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = getState();\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    BrewerStore.addChangeListener(this.onChange);\n    BrewerStore.provideBrewers();\n    BrewerStore.provideManufacturers();\n    BrewerStore.provideProductStatuses();\n  }\n\n  componentWillUnmount() {\n    BrewerStore.removeChangeListener(this.onChange);\n    BrewerStore.unsubscribe();\n  }\n\n  onChange() {\n    this.setState(getState());\n  }\n\n  render() {\n    let filter = this.state.filter;\n    let manufacturers = this.state.manufacturers;\n    let productStatuses = this.state.productStatuses;\n\n    return (\n      <aside className=\"col-md-4 col-lg-3 product-filter\">\n        <h4>{this.props.t('manufacturerTitle')}</h4>\n        <ManufacturerFilter manufacturers={manufacturers} filter={filter} />\n        <h4>{this.props.t('priceTitle')}</h4>\n        <PriceRangeFilter\n          priceRanges={priceRanges}\n          filter={filter}\n          language={this.props.language}\n        />\n        <h4>{this.props.t('statusTitle')}</h4>\n        <ProductStatusFilter\n          productStatuses={productStatuses}\n          filter={filter}\n        />\n      </aside>\n    );\n  }\n}\n\nconst ManufacturerFilter = props => {\n  let filterItems = props.manufacturers.map(manufacturer => {\n    return (\n      <ManufacturerFilterItem\n        manufacturer={manufacturer}\n        id={'Manufacturer-' + manufacturer.codename}\n        filter={props.filter}\n        key={manufacturer.codename}\n      />\n    );\n  });\n\n  return <div>{filterItems}</div>;\n};\n\nconst ManufacturerFilterItem = props => {\n  let codename = props.manufacturer.codename;\n  let checked = props.filter.manufacturers.includes(codename);\n  let onChange = () => {\n    props.filter.toggleManufacturer(codename);\n    BrewerStore.setFilter(props.filter);\n  };\n\n  return (\n    <span className=\"checkbox js-postback\">\n      <input\n        id={props.id}\n        type=\"checkbox\"\n        checked={checked}\n        onChange={onChange}\n      />\n      <label htmlFor={props.id}>{props.manufacturer.name}</label>\n    </span>\n  );\n};\n\nconst PriceRangeFilter = props => {\n  let filterItems = props.priceRanges.map((priceRange, index) => {\n    return (\n      <PriceRangeFilterItem\n        language={props.language}\n        priceRange={priceRange}\n        id={'PriceRange-' + index}\n        filter={props.filter}\n        key={index}\n      />\n    );\n  });\n\n  return <div>{filterItems}</div>;\n};\n\nconst PriceRangeFilterItem = props => {\n  let checked =\n    props.filter.priceRanges.findIndex(\n      x => x.min === props.priceRange.min && x.max === props.priceRange.max\n    ) >= 0;\n  let formatPrice = (price, language) => {\n    return price.toLocaleString(language, {\n      style: 'currency',\n      currency: 'USD',\n      maximumFractionDigits: 2\n    });\n  };\n  let onChange = () => {\n    props.filter.togglePriceRange(props.priceRange);\n    BrewerStore.setFilter(props.filter);\n  };\n  return (\n    <span className=\"checkbox js-postback\">\n      <input\n        id={props.id}\n        type=\"checkbox\"\n        checked={checked}\n        onChange={onChange}\n      />\n      <label htmlFor={props.id}>\n        {formatPrice(props.priceRange.min, props.language) +\n          ' – ' +\n          formatPrice(props.priceRange.max, props.language)}\n      </label>\n    </span>\n  );\n};\n\nconst ProductStatusFilter = props => {\n  let filterItems = props.productStatuses.map(productStatus => {\n    return (\n      <ProductStatusFilterItem\n        productStatus={productStatus}\n        id={'ProductStatus-' + productStatus.codename}\n        filter={props.filter}\n        key={productStatus.codename}\n      />\n    );\n  });\n\n  return <div>{filterItems}</div>;\n};\n\nconst ProductStatusFilterItem = props => {\n  let codename = props.productStatus.codename;\n  let checked = props.filter.productStatuses.includes(codename);\n  let onChange = () => {\n    props.filter.toggleProductStatus(codename);\n    BrewerStore.setFilter(props.filter);\n  };\n\n  return (\n    <span className=\"checkbox js-postback\">\n      <input\n        id={props.id}\n        type=\"checkbox\"\n        checked={checked}\n        onChange={onChange}\n      />\n      <label htmlFor={props.id}>{props.productStatus.name}</label>\n    </span>\n  );\n};\n\nexport default translate('BrewerFilter')(BrewerFilter);\n"]},"metadata":{},"sourceType":"module"}