{"ast":null,"code":"import _classCallCheck from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/src/Pages/Articles.js\";\nimport React, { Component } from 'react';\nimport { ArticleStore } from '../Stores/Article';\nimport Link from '../Components/LowerCaseUrlLink';\nimport dateFormat from 'dateformat';\nimport { dateFormats } from '../Utilities/LanguageCodes';\nimport { translate } from 'react-translate';\nvar articleCount = 10;\n\nvar getState = function getState(props) {\n  return {\n    articles: ArticleStore.getArticles(articleCount, props.language)\n  };\n};\n\nvar Articles =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Articles, _Component);\n\n  function Articles(props) {\n    var _this;\n\n    _classCallCheck(this, Articles);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Articles).call(this, props));\n    _this.state = getState(props);\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    dateFormat.i18n = dateFormats[props.language] || dateFormats[0];\n    return _this;\n  }\n\n  _createClass(Articles, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      ArticleStore.addChangeListener(this.onChange);\n      ArticleStore.provideArticles(this.props.language);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      ArticleStore.removeChangeListener(this.onChange);\n      ArticleStore.unsubscribe();\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange() {\n      this.setState(getState(this.props));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var formatDate = function formatDate(value) {\n        return dateFormat(value, 'mmmm d');\n      };\n\n      var counter = 0;\n      var articles = this.state.articles.reduce(function (result, article, index) {\n        if (index % 4 === 0) {\n          result.push(React.createElement(\"div\", {\n            className: \"clear\",\n            key: counter++,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }));\n        }\n\n        var title = article.title.value.trim().length > 0 ? article.title.value : _this2.props.t('noTitleValue');\n        var postDate = formatDate(article.postDate.value);\n        var imageLink = article.teaserImage.value[0] !== undefined ? React.createElement(\"img\", {\n          alt: 'Article ' + title,\n          className: \"article-tile-image\",\n          src: article.teaserImage.value[0].url,\n          title: 'Article ' + title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }) : React.createElement(\"div\", {\n          className: \"article-tile-image placeholder-tile-image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, _this2.props.t('noTeaserValue'));\n        var summary = article.summary.value.trim().length > 0 ? article.summary.value : _this2.props.t('noSummaryValue');\n        var link = \"/\".concat(_this2.props.language, \"/articles/\").concat(article.system.id);\n        result.push(React.createElement(\"div\", {\n          className: \"col-md-3\",\n          key: counter++,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"article-tile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: link,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, imageLink), React.createElement(\"div\", {\n          className: \"article-tile-date\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, postDate), React.createElement(\"div\", {\n          className: \"article-tile-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          className: \"h4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: link,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, title)), React.createElement(\"p\", {\n          className: \"article-tile-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, summary)))));\n        return result;\n      }, []);\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, articles);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (prevState.language !== nextProps.language) {\n        ArticleStore.provideArticles(nextProps.language);\n        dateFormat.i18n = dateFormats[nextProps.language] || dateFormats[0];\n        return {\n          language: nextProps.language\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Articles;\n}(Component);\n\nexport default translate('Articles')(Articles);","map":{"version":3,"sources":["/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/src/Pages/Articles.js"],"names":["React","Component","ArticleStore","Link","dateFormat","dateFormats","translate","articleCount","getState","props","articles","getArticles","language","Articles","state","onChange","bind","i18n","addChangeListener","provideArticles","removeChangeListener","unsubscribe","setState","formatDate","value","counter","reduce","result","article","index","push","title","trim","length","t","postDate","imageLink","teaserImage","undefined","url","summary","link","system","id","nextProps","prevState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { ArticleStore } from '../Stores/Article';\nimport Link from '../Components/LowerCaseUrlLink';\nimport dateFormat from 'dateformat';\n\nimport { dateFormats } from '../Utilities/LanguageCodes';\nimport { translate } from 'react-translate';\n\nlet articleCount = 10;\n\nlet getState = props => {\n  return {\n    articles: ArticleStore.getArticles(articleCount, props.language)\n  };\n};\n\nclass Articles extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = getState(props);\n    this.onChange = this.onChange.bind(this);\n    dateFormat.i18n = dateFormats[props.language] || dateFormats[0];\n  }\n\n  componentDidMount() {\n    ArticleStore.addChangeListener(this.onChange);\n    ArticleStore.provideArticles(this.props.language);\n  }\n\n  componentWillUnmount() {\n    ArticleStore.removeChangeListener(this.onChange);\n    ArticleStore.unsubscribe();\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (prevState.language !== nextProps.language) {\n      ArticleStore.provideArticles(nextProps.language);\n      dateFormat.i18n = dateFormats[nextProps.language] || dateFormats[0];\n      return {\n        language: nextProps.language\n      };\n    }\n    return null;\n  }\n\n  onChange() {\n    this.setState(getState(this.props));\n  }\n\n  render() {\n    let formatDate = value => {\n      return dateFormat(value, 'mmmm d');\n    };\n\n    let counter = 0;\n\n    let articles = this.state.articles.reduce((result, article, index) => {\n      if (index % 4 === 0) {\n        result.push(<div className=\"clear\" key={counter++} />);\n      }\n\n      let title =\n        article.title.value.trim().length > 0\n          ? article.title.value\n          : this.props.t('noTitleValue');\n\n      let postDate = formatDate(article.postDate.value);\n\n      let imageLink =\n        article.teaserImage.value[0] !== undefined ? (\n          <img\n            alt={'Article ' + title}\n            className=\"article-tile-image\"\n            src={article.teaserImage.value[0].url}\n            title={'Article ' + title}\n          />\n        ) : (\n          <div className=\"article-tile-image placeholder-tile-image\">\n            {this.props.t('noTeaserValue')}\n          </div>\n        );\n\n      let summary =\n        article.summary.value.trim().length > 0\n          ? article.summary.value\n          : this.props.t('noSummaryValue');\n\n      let link = `/${this.props.language}/articles/${article.system.id}`;\n\n      result.push(\n        <div className=\"col-md-3\" key={counter++}>\n          <div className=\"article-tile\">\n            <Link to={link}>{imageLink}</Link>\n            <div className=\"article-tile-date\">{postDate}</div>\n            <div className=\"article-tile-content\">\n              <h2 className=\"h4\">\n                <Link to={link}>{title}</Link>\n              </h2>\n              <p className=\"article-tile-text\">{summary}</p>\n            </div>\n          </div>\n        </div>\n      );\n\n      return result;\n    }, []);\n    return <div className=\"container\">{articles}</div>;\n  }\n}\n\nexport default translate('Articles')(Articles);\n"]},"metadata":{},"sourceType":"module"}