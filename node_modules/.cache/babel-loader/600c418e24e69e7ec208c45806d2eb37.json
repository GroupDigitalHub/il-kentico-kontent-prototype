{"ast":null,"code":"import _classCallCheck from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Client } from '../Client.js';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { initLanguageCodeObject, defaultLanguage } from '../Utilities/LanguageCodes';\nimport { spinnerService } from '@simply007org/react-spinners';\n\nvar _unsubscribe = new Subject();\n\nvar changeListeners = [];\n\nvar resetStore = function resetStore() {\n  return {\n    brewers: initLanguageCodeObject()\n  };\n};\n\nvar _resetStore = resetStore(),\n    brewers = _resetStore.brewers;\n\nvar manufacturersInitialized = false;\nvar manufacturers = [];\nvar productStatusesInitialized = false;\nvar productStatuses = [];\n\nvar notifyChange = function notifyChange() {\n  changeListeners.forEach(function (listener) {\n    listener();\n  });\n};\n\nvar fetchBrewers = function fetchBrewers(language) {\n  var query = Client.items().type('brewer').orderParameter('elements.product_name');\n\n  if (language) {\n    query.languageParameter(language);\n  }\n\n  query.toObservable().pipe(takeUntil(_unsubscribe)).subscribe(function (response) {\n    if (language) {\n      brewers[language] = response.items;\n    } else {\n      brewers[defaultLanguage] = response.items;\n    }\n\n    notifyChange();\n  });\n};\n\nvar fetchManufacturers = function fetchManufacturers() {\n  if (manufacturersInitialized) {\n    return;\n  }\n\n  Client.taxonomy('manufacturer').toObservable().pipe(takeUntil(_unsubscribe)).subscribe(function (response) {\n    manufacturers = response.taxonomy.terms;\n    notifyChange();\n    manufacturersInitialized = true;\n  });\n};\n\nvar fetchProductStatuses = function fetchProductStatuses() {\n  if (productStatusesInitialized) {\n    return;\n  }\n\n  Client.taxonomy('product_status').toObservable().pipe(takeUntil(_unsubscribe)).subscribe(function (response) {\n    productStatuses = response.taxonomy.terms;\n    notifyChange();\n    productStatusesInitialized = true;\n  });\n};\n\nexport var Filter =\n/*#__PURE__*/\nfunction () {\n  function Filter() {\n    _classCallCheck(this, Filter);\n\n    this.manufacturers = [];\n    this.priceRanges = [];\n    this.productStatuses = [];\n  }\n\n  _createClass(Filter, [{\n    key: \"matches\",\n    value: function matches(brewer) {\n      return this.matchesManufacturers(brewer) && this.matchesPriceRanges(brewer) && this.matchesProductStatuses(brewer);\n    }\n  }, {\n    key: \"matchesManufacturers\",\n    value: function matchesManufacturers(brewer) {\n      var _this = this;\n\n      if (this.manufacturers.length === 0) {\n        return true;\n      }\n\n      var manufacturerCodenames = brewer.manufacturer.value.map(function (x) {\n        return x.codename;\n      });\n      return manufacturerCodenames.some(function (x) {\n        return _this.manufacturers.includes(x);\n      });\n    }\n  }, {\n    key: \"matchesPriceRanges\",\n    value: function matchesPriceRanges(brewer) {\n      if (this.priceRanges.length === 0) {\n        return true;\n      }\n\n      var price = brewer.price.value;\n      return this.priceRanges.some(function (priceRange) {\n        return priceRange.min <= price && price <= priceRange.max;\n      });\n    }\n  }, {\n    key: \"matchesProductStatuses\",\n    value: function matchesProductStatuses(brewer) {\n      var _this2 = this;\n\n      if (this.productStatuses.length === 0) {\n        return true;\n      }\n\n      var statusCodenames = brewer.productStatus.value.map(function (x) {\n        return x.codename;\n      });\n      return statusCodenames.some(function (x) {\n        return _this2.productStatuses.includes(x);\n      });\n    }\n  }, {\n    key: \"toggleManufacturer\",\n    value: function toggleManufacturer(manufacturer) {\n      var index = this.manufacturers.indexOf(manufacturer);\n      if (index < 0) this.manufacturers.push(manufacturer);else this.manufacturers.splice(index, 1);\n    }\n  }, {\n    key: \"togglePriceRange\",\n    value: function togglePriceRange(priceRange) {\n      var index = this.priceRanges.findIndex(function (x) {\n        return x.min === priceRange.min && x.max === priceRange.max;\n      });\n      if (index < 0) this.priceRanges.push(priceRange);else this.priceRanges.splice(index, 1);\n    }\n  }, {\n    key: \"toggleProductStatus\",\n    value: function toggleProductStatus(productStatus) {\n      var index = this.productStatuses.indexOf(productStatus);\n      if (index < 0) this.productStatuses.push(productStatus);else this.productStatuses.splice(index, 1);\n    }\n  }]);\n\n  return Filter;\n}();\nvar brewerFilter = new Filter();\n\nvar Brewer =\n/*#__PURE__*/\nfunction () {\n  function Brewer() {\n    _classCallCheck(this, Brewer);\n  }\n\n  _createClass(Brewer, [{\n    key: \"provideBrewer\",\n    // Actions\n    value: function provideBrewer(language) {\n      if (spinnerService.isShowing('apiSpinner') === false) {\n        spinnerService.show('apiSpinner');\n      }\n\n      fetchBrewers(language);\n    }\n  }, {\n    key: \"provideBrewers\",\n    value: function provideBrewers(language) {\n      if (spinnerService.isShowing('apiSpinner') === false) {\n        spinnerService.show('apiSpinner');\n      }\n\n      fetchBrewers(language);\n    }\n  }, {\n    key: \"provideManufacturers\",\n    value: function provideManufacturers() {\n      if (spinnerService.isShowing('apiSpinner') === false) {\n        spinnerService.show('apiSpinner');\n      }\n\n      fetchManufacturers();\n    }\n  }, {\n    key: \"provideProductStatuses\",\n    value: function provideProductStatuses() {\n      if (spinnerService.isShowing('apiSpinner') === false) {\n        spinnerService.show('apiSpinner');\n      }\n\n      fetchProductStatuses();\n    } // Methods\n\n  }, {\n    key: \"getBrewer\",\n    value: function getBrewer(brewerSlug, language) {\n      spinnerService.hide('apiSpinner');\n      return brewers[language || defaultLanguage].find(function (brewer) {\n        return brewer.urlPattern.value === brewerSlug;\n      });\n    }\n  }, {\n    key: \"getBrewers\",\n    value: function getBrewers(language) {\n      spinnerService.hide('apiSpinner');\n      return brewers[language];\n    }\n  }, {\n    key: \"getManufacturers\",\n    value: function getManufacturers() {\n      spinnerService.hide('apiSpinner');\n      return manufacturers;\n    }\n  }, {\n    key: \"getProductStatuses\",\n    value: function getProductStatuses() {\n      spinnerService.hide('apiSpinner');\n      return productStatuses;\n    }\n  }, {\n    key: \"getFilter\",\n    value: function getFilter() {\n      spinnerService.hide('apiSpinner');\n      return brewerFilter;\n    }\n  }, {\n    key: \"setFilter\",\n    value: function setFilter(filter) {\n      brewerFilter = filter;\n      notifyChange();\n    } // Listeners\n\n  }, {\n    key: \"addChangeListener\",\n    value: function addChangeListener(listener) {\n      changeListeners.push(listener);\n    }\n  }, {\n    key: \"removeChangeListener\",\n    value: function removeChangeListener(listener) {\n      changeListeners = changeListeners.filter(function (element) {\n        return element !== listener;\n      });\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      _unsubscribe.next();\n\n      _unsubscribe.complete();\n\n      _unsubscribe = new Subject();\n    }\n  }]);\n\n  return Brewer;\n}();\n\nvar BrewerStore = new Brewer();\nexport { BrewerStore, resetStore };","map":{"version":3,"sources":["/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/src/Stores/Brewer.js"],"names":["Client","takeUntil","Subject","initLanguageCodeObject","defaultLanguage","spinnerService","unsubscribe","changeListeners","resetStore","brewers","manufacturersInitialized","manufacturers","productStatusesInitialized","productStatuses","notifyChange","forEach","listener","fetchBrewers","language","query","items","type","orderParameter","languageParameter","toObservable","pipe","subscribe","response","fetchManufacturers","taxonomy","terms","fetchProductStatuses","Filter","priceRanges","brewer","matchesManufacturers","matchesPriceRanges","matchesProductStatuses","length","manufacturerCodenames","manufacturer","value","map","x","codename","some","includes","price","priceRange","min","max","statusCodenames","productStatus","index","indexOf","push","splice","findIndex","brewerFilter","Brewer","isShowing","show","brewerSlug","hide","find","urlPattern","filter","element","next","complete","BrewerStore"],"mappings":"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","sourcesContent":["import { Client } from '../Client.js';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport {\n  initLanguageCodeObject,\n  defaultLanguage\n} from '../Utilities/LanguageCodes';\nimport { spinnerService } from '@simply007org/react-spinners';\n\nlet unsubscribe = new Subject();\nlet changeListeners = [];\nconst resetStore = () => ({\n  brewers: initLanguageCodeObject()\n});\nlet { brewers } = resetStore();\n\nlet manufacturersInitialized = false;\nlet manufacturers = [];\n\nlet productStatusesInitialized = false;\nlet productStatuses = [];\n\nlet notifyChange = () => {\n  changeListeners.forEach(listener => {\n    listener();\n  });\n};\n\nlet fetchBrewers = language => {\n  var query = Client.items()\n    .type('brewer')\n    .orderParameter('elements.product_name');\n\n  if (language) {\n    query.languageParameter(language);\n  }\n\n  query\n    .toObservable()\n    .pipe(takeUntil(unsubscribe))\n    .subscribe(response => {\n      if (language) {\n        brewers[language] = response.items;\n      } else {\n        brewers[defaultLanguage] = response.items;\n      }\n      notifyChange();\n    });\n};\n\nlet fetchManufacturers = () => {\n  if (manufacturersInitialized) {\n    return;\n  }\n\n  Client.taxonomy('manufacturer')\n    .toObservable()\n    .pipe(takeUntil(unsubscribe))\n    .subscribe(response => {\n      manufacturers = response.taxonomy.terms;\n      notifyChange();\n      manufacturersInitialized = true;\n    });\n};\n\nlet fetchProductStatuses = () => {\n  if (productStatusesInitialized) {\n    return;\n  }\n\n  Client.taxonomy('product_status')\n    .toObservable()\n    .pipe(takeUntil(unsubscribe))\n    .subscribe(response => {\n      productStatuses = response.taxonomy.terms;\n      notifyChange();\n      productStatusesInitialized = true;\n    });\n};\n\nexport class Filter {\n  constructor() {\n    this.manufacturers = [];\n    this.priceRanges = [];\n    this.productStatuses = [];\n  }\n\n  matches(brewer) {\n    return (\n      this.matchesManufacturers(brewer) &&\n      this.matchesPriceRanges(brewer) &&\n      this.matchesProductStatuses(brewer)\n    );\n  }\n\n  matchesManufacturers(brewer) {\n    if (this.manufacturers.length === 0) {\n      return true;\n    }\n\n    let manufacturerCodenames = brewer.manufacturer.value.map(x => x.codename);\n    return manufacturerCodenames.some(x => this.manufacturers.includes(x));\n  }\n\n  matchesPriceRanges(brewer) {\n    if (this.priceRanges.length === 0) {\n      return true;\n    }\n\n    let price = brewer.price.value;\n\n    return this.priceRanges.some(\n      priceRange => priceRange.min <= price && price <= priceRange.max\n    );\n  }\n\n  matchesProductStatuses(brewer) {\n    if (this.productStatuses.length === 0) {\n      return true;\n    }\n\n    let statusCodenames = brewer.productStatus.value.map(x => x.codename);\n    return statusCodenames.some(x => this.productStatuses.includes(x));\n  }\n\n  toggleManufacturer(manufacturer) {\n    let index = this.manufacturers.indexOf(manufacturer);\n\n    if (index < 0) this.manufacturers.push(manufacturer);\n    else this.manufacturers.splice(index, 1);\n  }\n\n  togglePriceRange(priceRange) {\n    let index = this.priceRanges.findIndex(\n      x => x.min === priceRange.min && x.max === priceRange.max\n    );\n\n    if (index < 0) this.priceRanges.push(priceRange);\n    else this.priceRanges.splice(index, 1);\n  }\n\n  toggleProductStatus(productStatus) {\n    let index = this.productStatuses.indexOf(productStatus);\n\n    if (index < 0) this.productStatuses.push(productStatus);\n    else this.productStatuses.splice(index, 1);\n  }\n}\n\nlet brewerFilter = new Filter();\n\nclass Brewer {\n  // Actions\n\n  provideBrewer(language) {\n    if (spinnerService.isShowing('apiSpinner') === false) {\n      spinnerService.show('apiSpinner');\n    }\n    fetchBrewers(language);\n  }\n\n  provideBrewers(language) {\n    if (spinnerService.isShowing('apiSpinner') === false) {\n      spinnerService.show('apiSpinner');\n    }\n    fetchBrewers(language);\n  }\n\n  provideManufacturers() {\n    if (spinnerService.isShowing('apiSpinner') === false) {\n      spinnerService.show('apiSpinner');\n    }\n    fetchManufacturers();\n  }\n\n  provideProductStatuses() {\n    if (spinnerService.isShowing('apiSpinner') === false) {\n      spinnerService.show('apiSpinner');\n    }\n    fetchProductStatuses();\n  }\n\n  // Methods\n\n  getBrewer(brewerSlug, language) {\n    spinnerService.hide('apiSpinner');\n    return brewers[language || defaultLanguage].find(\n      brewer => brewer.urlPattern.value === brewerSlug\n    );\n  }\n\n  getBrewers(language) {\n    spinnerService.hide('apiSpinner');\n    return brewers[language];\n  }\n\n  getManufacturers() {\n    spinnerService.hide('apiSpinner');\n    return manufacturers;\n  }\n\n  getProductStatuses() {\n    spinnerService.hide('apiSpinner');\n    return productStatuses;\n  }\n\n  getFilter() {\n    spinnerService.hide('apiSpinner');\n    return brewerFilter;\n  }\n\n  setFilter(filter) {\n    brewerFilter = filter;\n    notifyChange();\n  }\n\n  // Listeners\n\n  addChangeListener(listener) {\n    changeListeners.push(listener);\n  }\n\n  removeChangeListener(listener) {\n    changeListeners = changeListeners.filter(element => {\n      return element !== listener;\n    });\n  }\n\n  unsubscribe() {\n    unsubscribe.next();\n    unsubscribe.complete();\n    unsubscribe = new Subject();\n  }\n}\n\nlet BrewerStore = new Brewer();\n\nexport { BrewerStore, resetStore };\n"]},"metadata":{},"sourceType":"module"}