{"ast":null,"code":"import _classCallCheck from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/src/Components/Coffees.js\";\nimport React, { Component } from 'react';\nimport Link from '../Components/LowerCaseUrlLink';\nimport { resolveContentLink } from '../Utilities/ContentLinks';\nimport { CoffeeStore } from '../Stores/Coffee';\nimport { translate } from 'react-translate';\n\nvar getState = function getState(props) {\n  return {\n    coffees: CoffeeStore.getCoffees(props.language),\n    filter: CoffeeStore.getFilter()\n  };\n};\n\nvar Coffees =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Coffees, _Component);\n\n  function Coffees(props) {\n    var _this;\n\n    _classCallCheck(this, Coffees);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Coffees).call(this, props));\n    _this.state = getState(props);\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Coffees, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      CoffeeStore.addChangeListener(this.onChange);\n      CoffeeStore.provideCoffees(this.props.language);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      CoffeeStore.removeChangeListener(this.onChange);\n      CoffeeStore.unsubscribe();\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange() {\n      this.setState(getState(this.props));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var formatPrice = function formatPrice(price, language) {\n        return price.toLocaleString(language, {\n          style: 'currency',\n          currency: 'USD'\n        });\n      };\n\n      var renderProductStatus = function renderProductStatus(productStatus) {\n        if (productStatus.value.length === 0) {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          });\n        }\n\n        var text = productStatus.value.map(function (x) {\n          return x.name;\n        }).join(', ');\n        return React.createElement(\"span\", {\n          className: \"product-tile-status\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, text);\n      };\n\n      var filter = function filter(coffee) {\n        return _this2.state.filter.matches(coffee);\n      };\n\n      var coffees = this.state.coffees.filter(filter).map(function (coffee, index) {\n        var price = coffee.price.value !== null ? formatPrice(coffee.price.value, _this2.props.language) : _this2.props.t('noPriceValue');\n        var name = coffee.productName.value.trim().length > 0 ? coffee.productName.value : _this2.props.t('noNameValue');\n        var imageLink = coffee.image.value[0] !== undefined ? React.createElement(\"img\", {\n          alt: name,\n          className: \"\",\n          src: coffee.image.value[0].url,\n          title: name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }) : React.createElement(\"div\", {\n          style: {\n            height: '257.15px'\n          },\n          className: \"product-tile-image placeholder-tile-image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, _this2.props.t('noTeaserValue'));\n        var status = renderProductStatus(coffee.productStatus);\n        var link = resolveContentLink({\n          type: 'coffee',\n          urlSlug: coffee.urlPattern.value\n        }, _this2.props.language);\n        return React.createElement(\"div\", {\n          className: \"col-md-6 col-lg-4\",\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(\"article\", {\n          className: \"product-tile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: link,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"product-heading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, name), status, React.createElement(\"figure\", {\n          className: \"product-tile-image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, imageLink), React.createElement(\"div\", {\n          className: \"product-tile-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"product-tile-price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, price)))));\n      });\n      return React.createElement(\"div\", {\n        id: \"product-list\",\n        className: \"col-md-8 col-lg-9 product-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, coffees);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (prevState.language !== nextProps.language) {\n        CoffeeStore.provideCoffees(nextProps.language);\n        return {\n          language: nextProps.language\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Coffees;\n}(Component);\n\nexport default translate('Coffees')(Coffees);","map":{"version":3,"sources":["/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/src/Components/Coffees.js"],"names":["React","Component","Link","resolveContentLink","CoffeeStore","translate","getState","props","coffees","getCoffees","language","filter","getFilter","Coffees","state","onChange","bind","addChangeListener","provideCoffees","removeChangeListener","unsubscribe","setState","formatPrice","price","toLocaleString","style","currency","renderProductStatus","productStatus","value","length","text","map","x","name","join","coffee","matches","index","t","productName","trim","imageLink","image","undefined","url","height","status","link","type","urlSlug","urlPattern","nextProps","prevState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Link from '../Components/LowerCaseUrlLink';\nimport { resolveContentLink } from '../Utilities/ContentLinks';\nimport { CoffeeStore } from '../Stores/Coffee';\nimport { translate } from 'react-translate';\n\nlet getState = props => {\n  return {\n    coffees: CoffeeStore.getCoffees(props.language),\n    filter: CoffeeStore.getFilter()\n  };\n};\n\nclass Coffees extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = getState(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    CoffeeStore.addChangeListener(this.onChange);\n    CoffeeStore.provideCoffees(this.props.language);\n  }\n\n  componentWillUnmount() {\n    CoffeeStore.removeChangeListener(this.onChange);\n    CoffeeStore.unsubscribe();\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (prevState.language !== nextProps.language) {\n      CoffeeStore.provideCoffees(nextProps.language);\n      return {\n        language: nextProps.language\n      };\n    }\n    return null;\n  }\n\n  onChange() {\n    this.setState(getState(this.props));\n  }\n\n  render() {\n    let formatPrice = (price, language) => {\n      return price.toLocaleString(language, {\n        style: 'currency',\n        currency: 'USD'\n      });\n    };\n\n    let renderProductStatus = productStatus => {\n      if (productStatus.value.length === 0) {\n        return <span />;\n      }\n\n      let text = productStatus.value.map(x => x.name).join(', ');\n\n      return <span className=\"product-tile-status\">{text}</span>;\n    };\n\n    let filter = coffee => {\n      return this.state.filter.matches(coffee);\n    };\n\n    let coffees = this.state.coffees.filter(filter).map((coffee, index) => {\n      let price =\n        coffee.price.value !== null\n          ? formatPrice(coffee.price.value, this.props.language)\n          : this.props.t('noPriceValue');\n\n      let name =\n        coffee.productName.value.trim().length > 0\n          ? coffee.productName.value\n          : this.props.t('noNameValue');\n\n      let imageLink =\n        coffee.image.value[0] !== undefined ? (\n          <img\n            alt={name}\n            className=\"\"\n            src={coffee.image.value[0].url}\n            title={name}\n          />\n        ) : (\n          <div\n            style={{ height: '257.15px' }}\n            className=\"product-tile-image placeholder-tile-image\"\n          >\n            {this.props.t('noTeaserValue')}\n          </div>\n        );\n\n      let status = renderProductStatus(coffee.productStatus);\n      let link = resolveContentLink(\n        { type: 'coffee', urlSlug: coffee.urlPattern.value },\n        this.props.language\n      );\n\n      return (\n        <div className=\"col-md-6 col-lg-4\" key={index}>\n          <article className=\"product-tile\">\n            <Link to={link}>\n              <h1 className=\"product-heading\">{name}</h1>\n              {status}\n              <figure className=\"product-tile-image\">{imageLink}</figure>\n              <div className=\"product-tile-info\">\n                <span className=\"product-tile-price\">{price}</span>\n              </div>\n            </Link>\n          </article>\n        </div>\n      );\n    });\n\n    return (\n      <div id=\"product-list\" className=\"col-md-8 col-lg-9 product-list\">\n        {coffees}\n      </div>\n    );\n  }\n}\n\nexport default translate('Coffees')(Coffees);\n"]},"metadata":{},"sourceType":"module"}