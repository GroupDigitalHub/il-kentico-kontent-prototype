{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar models_1 = require(\"../models\");\n\nvar TaxonomyMapper =\n/** @class */\nfunction () {\n  function TaxonomyMapper() {}\n\n  TaxonomyMapper.prototype.mapTaxonomy = function (taxonomySystem, taxonomyTerms) {\n    if (!taxonomySystem) {\n      throw Error(\"Cannot map taxonomy due to missing 'system' property\");\n    }\n\n    if (!taxonomyTerms) {\n      throw Error(\"Cannot map taxonomy due to missing 'terms' property\");\n    }\n\n    if (!Array.isArray(taxonomyTerms)) {\n      throw Error(\"Cannot map terms because no terms array was provided\");\n    }\n\n    var mappedSystemAttributes = new models_1.TaxonomySystemAttributes({\n      name: taxonomySystem.name,\n      codename: taxonomySystem.codename,\n      id: taxonomySystem.id,\n      lastModified: taxonomySystem.last_modified\n    });\n    var mappedTerms = this.mapTaxonomyTerms(taxonomyTerms);\n    return new models_1.TaxonomyGroup(mappedSystemAttributes, mappedTerms);\n  };\n\n  TaxonomyMapper.prototype.mapTaxonomies = function (taxonomies) {\n    var _this = this;\n\n    if (!taxonomies) {\n      throw Error(\"Cannot map taxonomy due to missing 'taxonomies' property\");\n    }\n\n    if (!Array.isArray(taxonomies)) {\n      throw Error(\"Cannot map taxonomies because the 'taxonomies' property is not an array \");\n    }\n\n    var mappedTaxonomies = [];\n    taxonomies.forEach(function (taxonomy) {\n      mappedTaxonomies.push(_this.mapTaxonomy(taxonomy.system, taxonomy.terms));\n    });\n    return mappedTaxonomies;\n  };\n  /**\r\n   * Recursively map array of taxonomy terms\r\n   * @param termsArray Terms array to map\r\n   */\n\n\n  TaxonomyMapper.prototype.mapTaxonomyTerms = function (termsArray) {\n    var _this = this;\n\n    if (termsArray.length === 0) {\n      return [];\n    }\n\n    var mappedTermsArray = [];\n    termsArray.forEach(function (terms) {\n      var mappedTerms = new models_1.TaxonomyTerms({\n        codename: terms.codename,\n        name: terms.name,\n        terms: _this.mapTaxonomyTerms(terms.terms)\n      });\n      mappedTermsArray.push(mappedTerms);\n    });\n    return mappedTermsArray;\n  };\n\n  return TaxonomyMapper;\n}();\n\nexports.TaxonomyMapper = TaxonomyMapper;","map":null,"metadata":{},"sourceType":"script"}