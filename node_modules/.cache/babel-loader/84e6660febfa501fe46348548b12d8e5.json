{"ast":null,"code":"import _classCallCheck from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Client } from '../Client.js';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { initLanguageCodeObject, defaultLanguage } from '../Utilities/LanguageCodes';\nimport { spinnerService } from '@simply007org/react-spinners';\n\nvar _unsubscribe = new Subject();\n\nvar changeListeners = [];\n\nvar resetStore = function resetStore() {\n  return {\n    facts: initLanguageCodeObject(),\n    metaData: initLanguageCodeObject()\n  };\n};\n\nvar _resetStore = resetStore(),\n    facts = _resetStore.facts,\n    metaData = _resetStore.metaData;\n\nvar notifyChange = function notifyChange() {\n  changeListeners.forEach(function (listener) {\n    listener();\n  });\n};\n\nvar fetchFacts = function fetchFacts(language, urlSlug) {\n  var query = Client.items().type('about_us').elementsParameter(['facts', 'modular_content', 'title', 'description', 'image']);\n\n  if (language) {\n    query.languageParameter(language);\n  }\n\n  if (urlSlug) {\n    query.equalsFilter('elements.url_pattern', urlSlug);\n  }\n\n  query.toObservable().pipe(takeUntil(_unsubscribe)).subscribe(function (response) {\n    if (language) {\n      facts[language] = response.items[0].facts;\n    } else {\n      facts[defaultLanguage] = response.items[0].facts;\n    }\n\n    notifyChange();\n  });\n};\n\nvar fetchMetaData = function fetchMetaData(language, urlSlug) {\n  var query = Client.items().type('about_us').elementsParameter(['metadata__meta_title', 'metadata__meta_description', 'metadata__og_title', 'metadata__og_description', 'metadata__og_image', 'metadata__twitter_title', 'metadata__twitter_site', 'metadata__twitter_creator', 'metadata__twitter_description', 'metadata__twitter_image']);\n\n  if (language) {\n    query.languageParameter(language);\n  }\n\n  if (urlSlug) {\n    query.equalsFilter('elements.url_pattern', urlSlug);\n  }\n\n  query.toObservable().pipe(takeUntil(_unsubscribe)).subscribe(function (response) {\n    if (language) {\n      metaData[language] = response.items[0];\n    } else {\n      metaData[defaultLanguage] = response.items[0];\n    }\n\n    notifyChange();\n  });\n};\n\nvar LifeInsurance =\n/*#__PURE__*/\nfunction () {\n  function LifeInsurance() {\n    _classCallCheck(this, LifeInsurance);\n  }\n\n  _createClass(LifeInsurance, [{\n    key: \"provideFacts\",\n    // Actions\n    value: function provideFacts(language, urlSlug) {\n      if (spinnerService.isShowing('apiSpinner') === false) {\n        spinnerService.show('apiSpinner');\n      }\n\n      fetchFacts(language, urlSlug);\n    }\n  }, {\n    key: \"provideMetaData\",\n    value: function provideMetaData(language, urlSlug) {\n      if (spinnerService.isShowing('apiSpinner') === false) {\n        spinnerService.show('apiSpinner');\n      }\n\n      fetchMetaData(language, urlSlug);\n    } // Methods\n\n  }, {\n    key: \"getFacts\",\n    value: function getFacts(language) {\n      spinnerService.hide('apiSpinner');\n      return facts[language];\n    }\n  }, {\n    key: \"getMetaData\",\n    value: function getMetaData(language) {\n      spinnerService.hide('apiSpinner');\n      return metaData[language];\n    } // Listeners\n\n  }, {\n    key: \"addChangeListener\",\n    value: function addChangeListener(listener) {\n      changeListeners.push(listener);\n    }\n  }, {\n    key: \"removeChangeListener\",\n    value: function removeChangeListener(listener) {\n      changeListeners = changeListeners.filter(function (element) {\n        return element !== listener;\n      });\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      _unsubscribe.next();\n\n      _unsubscribe.complete();\n\n      _unsubscribe = new Subject();\n    }\n  }]);\n\n  return LifeInsurance;\n}();\n\nvar LifeInsuranceStore = new LifeInsurance();\nexport { LifeInsuranceStore, resetStore };","map":{"version":3,"sources":["/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/src/Stores/LifeInsurance.js"],"names":["Client","takeUntil","Subject","initLanguageCodeObject","defaultLanguage","spinnerService","unsubscribe","changeListeners","resetStore","facts","metaData","notifyChange","forEach","listener","fetchFacts","language","urlSlug","query","items","type","elementsParameter","languageParameter","equalsFilter","toObservable","pipe","subscribe","response","fetchMetaData","LifeInsurance","isShowing","show","hide","push","filter","element","next","complete","LifeInsuranceStore"],"mappings":"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","sourcesContent":["import { Client } from '../Client.js';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport {\n  initLanguageCodeObject,\n  defaultLanguage\n} from '../Utilities/LanguageCodes';\nimport { spinnerService } from '@simply007org/react-spinners';\n\nlet unsubscribe = new Subject();\nlet changeListeners = [];\nconst resetStore = () => ({\n  facts: initLanguageCodeObject(),\n  metaData: initLanguageCodeObject()\n});\nlet { facts, metaData } = resetStore();\n\nlet notifyChange = () => {\n  changeListeners.forEach(listener => {\n    listener();\n  });\n};\n\nlet fetchFacts = (language, urlSlug) => {\n  let query = Client.items()\n    .type('about_us')\n    .elementsParameter([\n      'facts',\n      'modular_content',\n      'title',\n      'description',\n      'image'\n    ]);\n\n  if (language) {\n    query.languageParameter(language);\n  }\n\n  if (urlSlug) {\n    query.equalsFilter('elements.url_pattern', urlSlug);\n  }\n\n  query\n    .toObservable()\n    .pipe(takeUntil(unsubscribe))\n    .subscribe(response => {\n      if (language) {\n        facts[language] = response.items[0].facts;\n      } else {\n        facts[defaultLanguage] = response.items[0].facts;\n      }\n      notifyChange();\n    });\n};\n\nlet fetchMetaData = (language, urlSlug) => {\n  let query = Client.items()\n    .type('about_us')\n    .elementsParameter([\n      'metadata__meta_title',\n      'metadata__meta_description',\n      'metadata__og_title',\n      'metadata__og_description',\n      'metadata__og_image',\n      'metadata__twitter_title',\n      'metadata__twitter_site',\n      'metadata__twitter_creator',\n      'metadata__twitter_description',\n      'metadata__twitter_image'\n    ]);\n\n  if (language) {\n    query.languageParameter(language);\n  }\n\n  if (urlSlug) {\n    query.equalsFilter('elements.url_pattern', urlSlug);\n  }\n\n  query\n    .toObservable()\n    .pipe(takeUntil(unsubscribe))\n    .subscribe(response => {\n      if (language) {\n        metaData[language] = response.items[0];\n      } else {\n        metaData[defaultLanguage] = response.items[0];\n      }\n      notifyChange();\n    });\n};\n\nclass LifeInsurance {\n  // Actions\n\n  provideFacts(language, urlSlug) {\n    if (spinnerService.isShowing('apiSpinner') === false) {\n      spinnerService.show('apiSpinner');\n    }\n    fetchFacts(language, urlSlug);\n  }\n\n  provideMetaData(language, urlSlug) {\n    if (spinnerService.isShowing('apiSpinner') === false) {\n      spinnerService.show('apiSpinner');\n    }\n    fetchMetaData(language, urlSlug);\n  }\n\n  // Methods\n\n  getFacts(language) {\n    spinnerService.hide('apiSpinner');\n    return facts[language];\n  }\n\n  getMetaData(language) {\n    spinnerService.hide('apiSpinner');\n    return metaData[language];\n  }\n\n  // Listeners\n\n  addChangeListener(listener) {\n    changeListeners.push(listener);\n  }\n\n  removeChangeListener(listener) {\n    changeListeners = changeListeners.filter(element => {\n      return element !== listener;\n    });\n  }\n\n  unsubscribe() {\n    unsubscribe.next();\n    unsubscribe.complete();\n    unsubscribe = new Subject();\n  }\n}\n\nlet LifeInsuranceStore = new LifeInsurance();\n\nexport { LifeInsuranceStore, resetStore };\n"]},"metadata":{},"sourceType":"module"}