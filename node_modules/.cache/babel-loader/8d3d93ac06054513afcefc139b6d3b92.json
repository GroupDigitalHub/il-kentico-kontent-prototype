{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar element_mapper_1 = require(\"./element.mapper\");\n\nvar ItemMapper =\n/** @class */\nfunction () {\n  function ItemMapper(config, richTextHtmlParser) {\n    this.config = config;\n    this.richTextHtmlParser = richTextHtmlParser;\n    this.elementMapper = new element_mapper_1.ElementMapper(config, richTextHtmlParser);\n  }\n  /**\r\n   * Maps single item to its proper strongly typed model from the given Kontent response\r\n   * @param response Kontent response used to map the item\r\n   * @param queryConfig Query configuration\r\n   */\n\n\n  ItemMapper.prototype.mapSingleItem = function (response, queryConfig) {\n    return this.mapItem({\n      item: response.item,\n      modularContent: response.modular_content,\n      preparedItems: {},\n      processedItems: {},\n      rocessingStartedForCodenames: [],\n      queryConfig: queryConfig\n    });\n  };\n  /**\r\n  * Maps multiple items to their strongly typed model from the given Kontent response\r\n  * @param response Kontent response used to map the item\r\n  * @param queryConfig Query configuration\r\n  */\n\n\n  ItemMapper.prototype.mapMultipleItems = function (response, queryConfig) {\n    var that = this;\n    var processedItems = {};\n    var preparedItems = {};\n    var processingStartedForCodenames = [];\n    var mappedItems = [];\n    response.items.forEach(function (item) {\n      var mappedItem = that.mapItem({\n        item: item,\n        modularContent: response.modular_content,\n        processedItems: processedItems,\n        queryConfig: queryConfig,\n        preparedItems: preparedItems,\n        rocessingStartedForCodenames: processingStartedForCodenames\n      });\n      mappedItems.push(mappedItem.item);\n    });\n    return {\n      items: mappedItems,\n      processedItems: processedItems,\n      preparedItems: preparedItems,\n      processingStartedForCodenames: processingStartedForCodenames\n    };\n  };\n\n  ItemMapper.prototype.mapItem = function (data) {\n    if (!data.item) {\n      throw Error(\"Could not map item because its undefined\");\n    }\n\n    var result = this.elementMapper.mapElements({\n      item: data.item,\n      modularContent: data.modularContent,\n      preparedItems: {},\n      processingStartedForCodenames: [],\n      processedItems: data.processedItems,\n      queryConfig: data.queryConfig\n    });\n    return {\n      item: result.item,\n      processedItems: result.processedItems,\n      preparedItems: result.preparedItems,\n      processingStartedForCodenames: result.processingStartedForCodenames\n    };\n  };\n\n  return ItemMapper;\n}();\n\nexports.ItemMapper = ItemMapper;","map":null,"metadata":{},"sourceType":"script"}