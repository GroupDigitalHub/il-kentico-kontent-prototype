{"ast":null,"code":"import _classCallCheck from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/src/Pages/Cafes.js\";\nimport React, { Component } from 'react';\nimport { translate } from 'react-translate';\nimport { CafeStore } from '../Stores/Cafe';\n\nvar getState = function getState(props) {\n  return {\n    companyCafes: CafeStore.getCompanyCafes(props.language),\n    partnerCafes: CafeStore.getPartnerCafes(props.language)\n  };\n};\n\nvar Cafes =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Cafes, _Component);\n\n  function Cafes(props) {\n    var _this;\n\n    _classCallCheck(this, Cafes);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Cafes).call(this, props));\n    _this.state = getState(props);\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Cafes, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      CafeStore.addChangeListener(this.onChange);\n      CafeStore.provideCompanyCafes(this.props.language);\n      CafeStore.providePartnerCafes(this.props.language);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      CafeStore.removeChangeListener(this.onChange);\n      CafeStore.unsubscribe();\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange() {\n      this.setState(getState(this.props));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var createModel = function createModel(cafe) {\n        var model = {\n          name: cafe.system.name,\n          imageLink: 'url(' + cafe.photo.value[0].url + ')',\n          street: cafe.street.value,\n          city: cafe.city.value,\n          zipCode: cafe.zipCode.value,\n          country: cafe.country.value,\n          state: cafe.state.value,\n          phone: cafe.phone.value\n        };\n        model.dataAddress = model.city + ', ' + model.street;\n        model.countryWithState = model.country + (model.state ? ', ' + model.state : '');\n        model.location = model.city + ', ' + model.countryWithState;\n        return model;\n      };\n\n      var companyCafes = this.state.companyCafes.map(createModel).map(function (model, index) {\n        return React.createElement(\"div\", {\n          className: \"col-md-6\",\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"cafe-image-tile js-scroll-to-map\",\n          \"data-address\": model.dataAddress,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"cafe-image-tile-image-wrapper\",\n          style: {\n            backgroundImage: model.imageLink,\n            backgroundSize: 'cover',\n            backgroundPosition: 'right'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"cafe-image-tile-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          className: \"cafe-image-tile-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, model.name), React.createElement(\"address\", {\n          className: \"cafe-tile-address\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          name: model.name,\n          className: \"cafe-tile-address-anchor\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, model.street, \", \", model.city, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }), model.zipCode, \", \", model.countryWithState)), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, model.phone))));\n      });\n      var models = this.state.partnerCafes.map(createModel);\n      var locations = models.map(function (model) {\n        return model.location;\n      }).reduce(function (result, location) {\n        if (result.indexOf(location) < 0) {\n          result.push(location);\n        }\n\n        return result;\n      }, []).sort();\n      var partnerCafes = locations.map(function (location, locationIndex) {\n        var locationPartnerCafes = models.filter(function (model) {\n          return model.location === location;\n        }).map(function (model, modelIndex) {\n          return React.createElement(\"p\", {\n            key: modelIndex,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116\n            },\n            __self: this\n          }, model.name, \", \", model.street, \", \", model.phone);\n        });\n        return React.createElement(\"div\", {\n          key: locationIndex,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, location), locationPartnerCafes);\n      });\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, this.props.t('ourCafesTitle')), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, companyCafes), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, this.props.t('partnerCafesTitle')), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, partnerCafes));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (prevState.language !== nextProps.language) {\n        CafeStore.provideCompanyCafes(nextProps.language);\n        CafeStore.providePartnerCafes(nextProps.language);\n        return {\n          language: nextProps.language\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Cafes;\n}(Component);\n\nexport default translate('Cafes')(Cafes);","map":{"version":3,"sources":["/Users/markirishlife/Desktop/development/kenticoKontent/kontent-sample-app-react/src/Pages/Cafes.js"],"names":["React","Component","translate","CafeStore","getState","props","companyCafes","getCompanyCafes","language","partnerCafes","getPartnerCafes","Cafes","state","onChange","bind","addChangeListener","provideCompanyCafes","providePartnerCafes","removeChangeListener","unsubscribe","setState","createModel","cafe","model","name","system","imageLink","photo","value","url","street","city","zipCode","country","phone","dataAddress","countryWithState","location","map","index","backgroundImage","backgroundSize","backgroundPosition","models","locations","reduce","result","indexOf","push","sort","locationIndex","locationPartnerCafes","filter","modelIndex","t","nextProps","prevState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { translate } from 'react-translate';\n\nimport { CafeStore } from '../Stores/Cafe';\n\nlet getState = props => {\n  return {\n    companyCafes: CafeStore.getCompanyCafes(props.language),\n    partnerCafes: CafeStore.getPartnerCafes(props.language)\n  };\n};\n\nclass Cafes extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = getState(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    CafeStore.addChangeListener(this.onChange);\n    CafeStore.provideCompanyCafes(this.props.language);\n    CafeStore.providePartnerCafes(this.props.language);\n  }\n\n  componentWillUnmount() {\n    CafeStore.removeChangeListener(this.onChange);\n    CafeStore.unsubscribe();\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (prevState.language !== nextProps.language) {\n      CafeStore.provideCompanyCafes(nextProps.language);\n      CafeStore.providePartnerCafes(nextProps.language);\n      return {\n        language: nextProps.language\n      };\n    }\n    return null;\n  }\n\n  onChange() {\n    this.setState(getState(this.props));\n  }\n\n  render() {\n    let createModel = cafe => {\n      let model = {\n        name: cafe.system.name,\n        imageLink: 'url(' + cafe.photo.value[0].url + ')',\n        street: cafe.street.value,\n        city: cafe.city.value,\n        zipCode: cafe.zipCode.value,\n        country: cafe.country.value,\n        state: cafe.state.value,\n        phone: cafe.phone.value\n      };\n      model.dataAddress = model.city + ', ' + model.street;\n      model.countryWithState =\n        model.country + (model.state ? ', ' + model.state : '');\n      model.location = model.city + ', ' + model.countryWithState;\n\n      return model;\n    };\n\n    let companyCafes = this.state.companyCafes\n      .map(createModel)\n      .map((model, index) => {\n        return (\n          <div className=\"col-md-6\" key={index}>\n            <div\n              className=\"cafe-image-tile js-scroll-to-map\"\n              data-address={model.dataAddress}\n            >\n              <div\n                className=\"cafe-image-tile-image-wrapper\"\n                style={{\n                  backgroundImage: model.imageLink,\n                  backgroundSize: 'cover',\n                  backgroundPosition: 'right'\n                }}\n              />\n              <div className=\"cafe-image-tile-content\">\n                <h3 className=\"cafe-image-tile-name\">{model.name}</h3>\n                <address className=\"cafe-tile-address\">\n                  <span name={model.name} className=\"cafe-tile-address-anchor\">\n                    {model.street}, {model.city}\n                    <br />\n                    {model.zipCode}, {model.countryWithState}\n                  </span>\n                </address>\n                <p>{model.phone}</p>\n              </div>\n            </div>\n          </div>\n        );\n      });\n\n    let models = this.state.partnerCafes.map(createModel);\n    let locations = models\n      .map(model => model.location)\n      .reduce((result, location) => {\n        if (result.indexOf(location) < 0) {\n          result.push(location);\n        }\n\n        return result;\n      }, [])\n      .sort();\n    let partnerCafes = locations.map((location, locationIndex) => {\n      let locationPartnerCafes = models\n        .filter(model => model.location === location)\n        .map((model, modelIndex) => {\n          return (\n            <p key={modelIndex}>\n              {model.name}, {model.street}, {model.phone}\n            </p>\n          );\n        });\n\n      return (\n        <div key={locationIndex}>\n          <h3>{location}</h3>\n          {locationPartnerCafes}\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"container\">\n        <h2>{this.props.t('ourCafesTitle')}</h2>\n        <div className=\"row\">{companyCafes}</div>\n        <h2>{this.props.t('partnerCafesTitle')}</h2>\n        <div className=\"row\">{partnerCafes}</div>\n      </div>\n    );\n  }\n}\n\nexport default translate('Cafes')(Cafes);\n"]},"metadata":{},"sourceType":"module"}